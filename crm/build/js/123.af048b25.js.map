{"version":3,"file":"build/js/123.af048b25.js","mappings":"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","sources":["webpack://vue-manager-system/./src/api/system.ts","webpack://vue-manager-system/./src/views/components/virtually-progress.vue?a0ce","webpack://vue-manager-system/./src/views/components/virtually-progress.vue","webpack://vue-manager-system/./src/views/components/virtually-progress.vue?1bc1","webpack://vue-manager-system/./src/views/system/users/search-config.ts","webpack://vue-manager-system/./src/views/system/users/components/info-form-dialog.vue?084d","webpack://vue-manager-system/./src/views/system/users/components/info-form-dialog.vue","webpack://vue-manager-system/./src/views/system/users/components/info-form-dialog.vue?c21c","webpack://vue-manager-system/./src/views/system/users/components/bind-roles-dialog.vue?d03b","webpack://vue-manager-system/./src/views/system/users/components/bind-roles-dialog.vue","webpack://vue-manager-system/./src/views/system/users/components/bind-roles-dialog.vue?6339","webpack://vue-manager-system/./src/views/system/users/components/batch-insert-dialog.vue?c43f","webpack://vue-manager-system/./src/views/system/users/components/batch-insert-dialog.vue","webpack://vue-manager-system/./src/views/system/users/components/batch-insert-dialog.vue?134a","webpack://vue-manager-system/./src/views/system/users/index.vue?c37b","webpack://vue-manager-system/./src/views/system/users/index.vue","webpack://vue-manager-system/./src/views/system/users/index.vue?38eb"],"sourcesContent":["/**\n * 作者：yujinjin9@126.com\n * 时间：2019-11-28\n * 描述：系统管理API接口\n */\n\nimport type { Http } from \"../../types/http\";\nimport request from \"./request\";\nimport commonApi from \"./common\";\n\nexport default {\n    /**\n     * 用户登录\n     */\n    login(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/login\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 发送验证码\n     */\n    sendValidateCode(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/sendValidateCode\",\n                    data: inputData,\n                    method: \"POST\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 获取未读消息列表\n     */\n    queryUnreadMessages(ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryUnreadMessages\",\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询登录用户的菜单列表\n     */\n    queryLoginUserMenus<T>(ajaxOptions?: Http.RequestConfig) {\n        return request<T>(\n            Object.assign(\n                {\n                    url: \"/system/queryLoginUserMenus\",\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改当前用户登录的密码\n     */\n    updateLoginPassword(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateLoginPassword\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改当前登录用户的基本信息\n     */\n    updateLoginUserInfo(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateLoginUserInfo\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统模块列表\n     */\n    queryPageModuleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageModuleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询系统模块列表\n     */\n    queryModuleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryModuleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改模块\n     */\n    addOrUpdateModule(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateModule\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除模块\n     */\n    deleteModuleById(id: string, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteModuleById\",\n                    data: { id }\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统菜单列表\n     */\n    queryPageMenuList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageMenuList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询系统菜单列表\n     */\n    queryMenuList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryMenuList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改菜单\n     */\n    addOrUpdateMenu(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateMenu\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换菜单锁定状态信息\n     */\n    toggleMenuLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateMenuLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据菜单ID查询角色列表（菜单页面查询绑定的角色列表）\n     */\n    queryRoleListByMenuId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleListByMenuId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除菜单\n     */\n    deleteMenu(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteMenu\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量菜单EXCEL(批量新增菜单)\n     */\n    uploadMenusExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadMenusExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增菜单信息\n     */\n    batchInsertMenus(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertMenus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询角色列表\n     */\n    queryPageRoleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageRoleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询角色列表\n     */\n    queryRoleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据角色ID查询菜单列表（角色页面查询绑定的菜单）\n     */\n    queryMenuListByRoleId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryMenuListByRoleId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改角色信息\n     */\n    addOrUpdateRole(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateRole\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换角色锁定状态信息\n     */\n    toggleRoleLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateRoleLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 更新角色的菜单列表(角色页面绑定菜单)\n     */\n    updateMenusByRoleId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateMenusByRoleId\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除角色信息\n     */\n    deleteRole(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteRole\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量角色EXCEL(批量新增角色)\n     */\n    uploadRolesExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadRolesExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增角色信息\n     */\n    batchInsertRoles(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertRoles\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统用户列表\n     */\n    queryPageUserList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageUserList\",\n                    method: \"GET\",\n                    params: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据用户ID查询角色列表（用户页面查询绑定角色列表）\n     */\n    queryRoleListByUserId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleListByUserId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改用户信息\n     */\n    addOrUpdateUser(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateUser\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据用户ID绑定角色列表（用户页面绑定角色信息）\n     */\n    updateRoleListByUserId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateRoleListByUserId\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除用户信息\n     */\n    deleteUser(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteUser\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换用户锁定状态信息\n     */\n    toggleUserLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateUserLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 重置用户密码\n     */\n    resetUerPassword(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/resetUerPassword\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量用户EXCEL(批量新增用户)\n     */\n    uploadUsersExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadUsersExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增用户信息\n     */\n    batchInsertUers(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertUers\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询站内信列表（创建的数量）\n     */\n    queryPageMessageList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageMessageList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 发送站内信\n     */\n    insertMessage(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/sendMessage\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    }\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-97ea7fae\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"virtually-progress\" }\nconst _hoisted_2 = { class: \"tips-text\" }\n\nimport type { PropType } from \"vue\";\nimport type { ProgressProps } from \"element-plus\";\nimport { onUnmounted, ref, watch, onMounted, computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'virtually-progress',\n  props: {\n    // 实际进度是否完成\n    finished: {\n        type: Boolean,\n        default: false\n    },\n    // 进度条成长的比例,数值在(0, 1)之间\n    ratio: {\n        type: Number,\n        default: 0.1,\n        validator: function (value: number) {\n            return value < 1 && value > 0;\n        }\n    },\n    // 进度条成长变化的间隔时间(单位：毫秒)\n    time: {\n        type: Number,\n        default: 500\n    },\n    progress: {\n        type: Object as PropType<ProgressProps>,\n        default: function () {\n            return {};\n        }\n    }\n},\n  emits: [\"afterFinished\"],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\n// 进度条完成之后事件\nconst emits = __emit;\n\n// 进度条值\nconst percentage = ref(0);\n\n// 定时器ID\nlet timeIntervalId = 0;\n\nwatch(\n    () => props.finished,\n    value => {\n        if (!value) {\n            start();\n        }\n    }\n);\n\n// 进度条自定义属性\nconst progressAttributes = computed<ProgressProps>(() => {\n    return Object.assign({ textInside: true, strokeWidth: 26 }, props.progress);\n});\n\n// 开始运行\nconst start = function () {\n    percentage.value = 0;\n    if (timeIntervalId) {\n        window.clearInterval(timeIntervalId);\n    }\n    let ratio = props.ratio;\n    let times = 0;\n    timeIntervalId = window.setInterval(() => {\n        ++times;\n        if (percentage.value === 100) {\n            window.clearInterval(timeIntervalId);\n            timeIntervalId = 0;\n            // 进度条动画执行完成\n            emits(\"afterFinished\");\n            return;\n        } else if (percentage.value > 95 && props.finished) {\n            percentage.value = 100;\n            return;\n        } else if (props.finished) {\n            // 当前实际动作已经执行完成，这里加快精度条成长\n            ratio = 1;\n        } else if (percentage.value > 80) {\n            ratio = 2 * props.ratio;\n        } else {\n            ratio = props.ratio * (times % 10);\n        }\n        percentage.value = parseInt((percentage.value + (99 - percentage.value) * ratio * Math.random()).toFixed(4), 10);\n    }, props.time);\n};\n\nonMounted(() => {\n    start();\n});\n\nonUnmounted(() => {\n    if (timeIntervalId) {\n        window.clearInterval(timeIntervalId);\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_progress = _resolveComponent(\"el-progress\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_progress, _mergeProps(progressAttributes.value, { percentage: percentage.value }), null, 16, [\"percentage\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ])\n  ]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2024-01-04 11:23:48\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-05 17:14:09\n * @项目的路径: \\vue-manager-system\\src\\views\\components\\virtually-progress.vue\n * @描述: 虚构的进度条\n-->\n<template>\n    <div class=\"virtually-progress\">\n        <el-progress v-bind=\"progressAttributes\" :percentage=\"percentage\" />\n        <div class=\"tips-text\"><slot></slot></div>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport type { ProgressProps } from \"element-plus\";\nimport { onUnmounted, ref, watch, onMounted, computed } from \"vue\";\n\nconst props = defineProps({\n    // 实际进度是否完成\n    finished: {\n        type: Boolean,\n        default: false\n    },\n    // 进度条成长的比例,数值在(0, 1)之间\n    ratio: {\n        type: Number,\n        default: 0.1,\n        validator: function (value: number) {\n            return value < 1 && value > 0;\n        }\n    },\n    // 进度条成长变化的间隔时间(单位：毫秒)\n    time: {\n        type: Number,\n        default: 500\n    },\n    progress: {\n        type: Object as PropType<ProgressProps>,\n        default: function () {\n            return {};\n        }\n    }\n});\n\n// 进度条完成之后事件\nconst emits = defineEmits([\"afterFinished\"]);\n\n// 进度条值\nconst percentage = ref(0);\n\n// 定时器ID\nlet timeIntervalId = 0;\n\nwatch(\n    () => props.finished,\n    value => {\n        if (!value) {\n            start();\n        }\n    }\n);\n\n// 进度条自定义属性\nconst progressAttributes = computed<ProgressProps>(() => {\n    return Object.assign({ textInside: true, strokeWidth: 26 }, props.progress);\n});\n\n// 开始运行\nconst start = function () {\n    percentage.value = 0;\n    if (timeIntervalId) {\n        window.clearInterval(timeIntervalId);\n    }\n    let ratio = props.ratio;\n    let times = 0;\n    timeIntervalId = window.setInterval(() => {\n        ++times;\n        if (percentage.value === 100) {\n            window.clearInterval(timeIntervalId);\n            timeIntervalId = 0;\n            // 进度条动画执行完成\n            emits(\"afterFinished\");\n            return;\n        } else if (percentage.value > 95 && props.finished) {\n            percentage.value = 100;\n            return;\n        } else if (props.finished) {\n            // 当前实际动作已经执行完成，这里加快精度条成长\n            ratio = 1;\n        } else if (percentage.value > 80) {\n            ratio = 2 * props.ratio;\n        } else {\n            ratio = props.ratio * (times % 10);\n        }\n        percentage.value = parseInt((percentage.value + (99 - percentage.value) * ratio * Math.random()).toFixed(4), 10);\n    }, props.time);\n};\n\nonMounted(() => {\n    start();\n});\n\nonUnmounted(() => {\n    if (timeIntervalId) {\n        window.clearInterval(timeIntervalId);\n    }\n});\n</script>\n<style lang=\"scss\" scoped>\n.virtually-progress {\n    width: 100%;\n\n    .tips-text {\n        padding-top: 12px;\n        text-align: center;\n        font-size: 12px;\n    }\n}\n</style>\n","import script from \"./virtually-progress.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./virtually-progress.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./virtually-progress.vue?vue&type=style&index=0&id=97ea7fae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-97ea7fae\"]])\n\nexport default __exports__","/*\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-12-27 17:39:13\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-10 10:31:07\n * @项目的路径: \\vue-manager-system\\src\\views\\system\\users\\search-config.ts\n * @描述: 用户查询配置\n */\nimport systemAPI from \"@api/system\";\nimport { HANDLE_CODES } from \"@/services/constants\";\n\nexport default function ({ showDialogHandle, toggleUserLockStatusHandle, resetUserPasswordHandle, deleteHandle }) {\n    return {\n        searchFormProps: {\n            fields: [\n                {\n                    name: \"name\",\n                    type: \"input\",\n                    label: \"用户号/姓名\"\n                },\n                {\n                    name: \"email\",\n                    type: \"input\",\n                    label: \"Email\"\n                },\n                {\n                    name: \"status\",\n                    type: \"select\",\n                    label: \"状态\",\n                    data: [{\n                        label: \"正常\",\n                        value: \"0\"\n                    }, {\n                        label: \"锁定\",\n                        value: \"1\"\n                    }]\n                }\n            ],\n            isShowCollapse: false\n        },\n        actionBarProps: {\n            buttons: [\n                {\n                    text: \"新增\",\n                    handleCode: HANDLE_CODES.CREATE,\n                    click: showDialogHandle,\n                    props: {\n                        type: \"primary\"\n                    }\n                },\n                {\n                    text: \"批量新增\",\n                    handleCode: HANDLE_CODES.BATCHCREATE,\n                    click: showDialogHandle\n                }\n            ]\n        },\n        dataTableProps: {\n            query: systemAPI.queryPageUserList,\n            columns: [\n                {\n                    label: \"用户号\",\n                    prop: \"loginName\",\n                    minWidth: 120\n                },\n                {\n                    label: \"用户姓名\",\n                    prop: \"name\",\n                    minWidth: 120\n                },\n                {\n                    label: \"Email\",\n                    prop: \"email\",\n                    minWidth: 150\n                },\n                {\n                    label: \"手机号码\",\n                    prop: \"phoneNumber\",\n                    minWidth: 120\n                },\n                {\n                    label: \"状态\",\n                    prop: \"status\",\n                    minWidth: 100,\n                    slot: \"dataTable_status\"\n                },\n                {\n                    label: \"最后登录时间\",\n                    prop: \"lastLoginTime\",\n                    type: \"date\",\n                    formate: \"YYYY-MM-DD HH:mm:ss\",\n                    minWidth: 150\n                },\n                {\n                    type: \"action\",\n                    width: 180,\n                    buttons: [\n                        {\n                            text: \"编辑\",\n                            handleCode: HANDLE_CODES.UPDATE,\n                            click: showDialogHandle\n                        },\n                        {\n                            text: \"绑定角色\",\n                            handleCode: HANDLE_CODES.AUTH,\n                            click: showDialogHandle\n                        },\n                        {\n                            text: \"锁定\",\n                            handleCode: HANDLE_CODES.DISABLE,\n                            display: row => row.status === \"0\",\n                            click: toggleUserLockStatusHandle\n                        },\n                        {\n                            text: \"解锁\",\n                            handleCode: HANDLE_CODES.ENABLE,\n                            display: row => row.status === \"1\",\n                            click: toggleUserLockStatusHandle\n                        },\n                        {\n                            text: \"重置密码\",\n                            handleCode: HANDLE_CODES.RESET,\n                            click: resetUserPasswordHandle\n                        },\n                        {\n                            text: \"删除\",\n                            handleCode: HANDLE_CODES.DELETE,\n                            click: deleteHandle\n                        }\n                    ]\n                }\n            ]\n        }\n    };\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c61ba1ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"status-label\" }\n\nimport type { Components } from \"/#/components\";\nimport { ref, reactive } from \"vue\";\nimport systemAPI from \"@api/system\";\nimport { ElMessage } from \"element-plus\";\nimport { Plus, Check, Close } from \"@element-plus/icons-vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'info-form-dialog',\n  props: {\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    },\n    row: {\n        type: Object\n    }\n},\n  emits: [\"update:isShow\", \"refresh\"],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emits = __emit;\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    value: props.row && JSON.parse(JSON.stringify(props.row)),\n    fields: [\n        {\n            name: \"loginName\",\n            label: \"用户名\",\n            type: \"input\",\n            props: {\n                disabled: !!props.row,\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"name\",\n            label: \"姓名\",\n            type: \"input\",\n            props: {\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"gender\",\n            label: \"性别\",\n            type: \"radio\",\n            data: [\n                {\n                    value: \"1\",\n                    label: \"男\"\n                },\n                {\n                    value: \"2\",\n                    label: \"女\"\n                }\n            ]\n        },\n        {\n            name: \"avatar\",\n            label: \"头像\",\n            slot: \"avatar\"\n        },\n        {\n            name: \"email\",\n            label: \"EMAIL\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入EMAIL\" },\n                    { type: \"email\", message: \"请输入正确格式的邮箱\" }\n                ]\n            }\n        },\n        {\n            name: \"phoneNumber\",\n            label: \"手机号\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    // { required: true, message: \"请输入手机号\" },\n                    { pattern: /^1[3456789]\\d{9}$/, message: \"请输入正确格式的手机号\" }\n                ]\n            }\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons = ref<Components.FormButton[]>([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"保存\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.addOrUpdateUser(inputFormValue);\n            ElMessage.success(\"操作成功\");\n            emits(\"refresh\");\n        }\n    }\n]);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_img_upload = _resolveComponent(\"img-upload\")!\n  const _component_dialog_form = _resolveComponent(\"dialog-form\")!\n\n  return (_openBlock(), _createBlock(_component_dialog_form, {\n    ref_key: \"dialogFormRef\",\n    ref: dialogFormRef,\n    isShow: __props.isShow,\n    buttons: buttons.value,\n    inputFormProps: inputForm,\n    dialogProps: { title: __props.row ? '编辑用户信息' : '新增用户信息', width: '600px' },\n    onClose: _cache[0] || (_cache[0] = ($event: any) => (emits('update:isShow', false)))\n  }, {\n    avatar: _withCtx(({ formValue }) => [\n      _createVNode(_component_img_upload, {\n        modelValue: formValue.avatar,\n        \"onUpdate:modelValue\": ($event: any) => ((formValue.avatar) = $event),\n        uploadProps: { showFileList: false, class: 'upload-avatar', limit: 1 }\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"avatar-box\", { empty: !formValue.avatar }])\n          }, [\n            (formValue.avatar)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"img\", {\n                    src: formValue.avatar,\n                    class: \"avatar-pic\"\n                  }, null, 8, _hoisted_1),\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createVNode(_component_el_icon, { class: \"icon-check\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Check))\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_el_icon, {\n                      class: \"icon-close\",\n                      onClick: _withModifiers(($event: any) => (formValue.avatar = null), [\"stop\"])\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Close))\n                      ]),\n                      _: 2\n                    }, 1032, [\"onClick\"])\n                  ])\n                ], 64))\n              : (_openBlock(), _createBlock(_component_el_icon, {\n                  key: 1,\n                  class: \"avatar-uploader-icon\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(Plus))\n                  ]),\n                  _: 1\n                }))\n          ], 2)\n        ]),\n        _: 2\n      }, 1032, [\"modelValue\", \"onUpdate:modelValue\"])\n    ]),\n    _: 1\n  }, 8, [\"isShow\", \"buttons\", \"inputFormProps\", \"dialogProps\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-12-28 10:10:08\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-15 09:42:55\n * @项目的路径: \\vue-manager-system\\src\\views\\system\\users\\components\\info-form-dialog.vue\n * @描述: 新增或编辑用户信息弹窗\n-->\n<template>\n    <dialog-form\n        ref=\"dialogFormRef\"\n        :isShow=\"isShow\"\n        :buttons=\"buttons\"\n        :inputFormProps=\"inputForm\"\n        :dialogProps=\"{ title: row ? '编辑用户信息' : '新增用户信息', width: '600px' }\"\n        @close=\"emits('update:isShow', false)\"\n    >\n        <template #avatar=\"{ formValue }\">\n            <img-upload v-model=\"formValue.avatar\" :uploadProps=\"{ showFileList: false, class: 'upload-avatar', limit: 1 }\">\n                <div class=\"avatar-box\" :class=\"{ empty: !formValue.avatar }\">\n                    <template v-if=\"formValue.avatar\">\n                        <img :src=\"formValue.avatar\" class=\"avatar-pic\" />\n                        <div class=\"status-label\">\n                            <el-icon class=\"icon-check\"><Check /></el-icon>\n                            <el-icon class=\"icon-close\" @click.stop=\"formValue.avatar = null\"><Close /></el-icon>\n                        </div>\n                    </template>\n                    <el-icon v-else class=\"avatar-uploader-icon\"><Plus /></el-icon>\n                </div>\n            </img-upload>\n        </template>\n    </dialog-form>\n</template>\n<script setup lang=\"ts\">\nimport type { Components } from \"/#/components\";\nimport { ref, reactive } from \"vue\";\nimport systemAPI from \"@api/system\";\nimport { ElMessage } from \"element-plus\";\nimport { Plus, Check, Close } from \"@element-plus/icons-vue\";\n\nconst props = defineProps({\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    },\n    row: {\n        type: Object\n    }\n});\n\nconst emits = defineEmits([\"update:isShow\", \"refresh\"]);\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    value: props.row && JSON.parse(JSON.stringify(props.row)),\n    fields: [\n        {\n            name: \"loginName\",\n            label: \"用户名\",\n            type: \"input\",\n            props: {\n                disabled: !!props.row,\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"name\",\n            label: \"姓名\",\n            type: \"input\",\n            props: {\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"gender\",\n            label: \"性别\",\n            type: \"radio\",\n            data: [\n                {\n                    value: \"1\",\n                    label: \"男\"\n                },\n                {\n                    value: \"2\",\n                    label: \"女\"\n                }\n            ]\n        },\n        {\n            name: \"avatar\",\n            label: \"头像\",\n            slot: \"avatar\"\n        },\n        {\n            name: \"email\",\n            label: \"EMAIL\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入EMAIL\" },\n                    { type: \"email\", message: \"请输入正确格式的邮箱\" }\n                ]\n            }\n        },\n        {\n            name: \"phoneNumber\",\n            label: \"手机号\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    // { required: true, message: \"请输入手机号\" },\n                    { pattern: /^1[3456789]\\d{9}$/, message: \"请输入正确格式的手机号\" }\n                ]\n            }\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons = ref<Components.FormButton[]>([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"保存\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.addOrUpdateUser(inputFormValue);\n            ElMessage.success(\"操作成功\");\n            emits(\"refresh\");\n        }\n    }\n]);\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.upload-avatar) {\n    .avatar-box {\n        width: 100px;\n        height: 100px;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n        transition: var(--el-transition-duration-fast);\n        border: 1px solid var(--el-border-color);\n        &.empty:hover {\n            border-color: var(--el-color-primary);\n        }\n\n        .avatar-pic {\n            object-fit: contain;\n            width: 100%;\n            height: 100%;\n        }\n\n        .status-label {\n            right: -15px;\n            top: -6px;\n            width: 40px;\n            height: 24px;\n            background: var(--el-color-primary);\n            text-align: center;\n            transform: rotate(45deg);\n            position: absolute;\n            line-height: inherit;\n            justify-content: center;\n            align-items: center;\n            transition: opacity var(--el-transition-duration);\n\n            i {\n                font-size: 12px;\n                margin-top: 11px;\n                transform: rotate(-45deg);\n                color: #fff;\n            }\n\n            i.icon-close {\n                display: none;\n            }\n\n            &:hover {\n                background-color: rgba(0, 0, 0, 0.5);\n                i.icon-check {\n                    display: none;\n                }\n\n                i.icon-close {\n                    display: inline-flex;\n                }\n            }\n        }\n\n        .el-icon.avatar-uploader-icon {\n            font-size: 28px;\n            color: #8c939d;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n        }\n    }\n}\n</style>\n","import script from \"./info-form-dialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./info-form-dialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./info-form-dialog.vue?vue&type=style&index=0&id=c61ba1ea&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c61ba1ea\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e24dbcc2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search-panel\" }\nconst _hoisted_2 = { class: \"role-list-panel\" }\nconst _hoisted_3 = { class: \"left-contents\" }\nconst _hoisted_4 = { class: \"right-contents\" }\nconst _hoisted_5 = { class: \"header-row\" }\nconst _hoisted_6 = { class: \"label-text\" }\nconst _hoisted_7 = { class: \"inner-row\" }\nconst _hoisted_8 = [\"title\"]\nconst _hoisted_9 = { class: \"dialog-footer\" }\n\nimport type { PropType } from \"vue\";\nimport { ref, watch } from \"vue\";\nimport { Search, Delete } from \"@element-plus/icons-vue\";\nimport { ElTable, ElMessage } from \"element-plus\";\nimport { debounce } from \"@yujinjin/utils\";\nimport systemAPI from \"@api/system\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'bind-roles-dialog',\n  props: {\n    isShow: {\n        type: Boolean\n    },\n    // 当前选中的用户数据列\n    row: {\n        type: Object,\n        required: true\n    },\n    // 所有的角色列表\n    roleList: {\n        type: Array as PropType<Record<string, any>[]>,\n        default: function () {\n            return [];\n        }\n    },\n    // 所有的模块列表\n    moduleList: {\n        type: Array as PropType<Record<string, any>[]>,\n        default: function () {\n            return [];\n        }\n    }\n},\n  emits: [\"update:isShow\"],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emits = __emit;\n\n// 弹窗显示状态\nconst dialogVisible = ref(true);\n\n// 搜索关键词\nconst keyword = ref(\"\");\n\n// 搜索的模块\nconst modules = ref<string[]>([]);\n\n// 角色数据表格ref\nconst roleTableRef = ref<InstanceType<typeof ElTable>>();\n\n// 数据列表\nconst dataList = ref<Record<string, any>[]>([]);\n\n// 选中的角色行(用户关联的角色列表)\nconst selectedRoleRows = ref<Record<string, any>[]>([]);\n\n// 是否正在提交\nconst isSubmiting = ref(false);\n\n// 获取模块名称\nconst getModuleText = function (moduleCode) {\n    if (!moduleCode) {\n        return \"-\";\n    }\n    return props.moduleList.find(item => item.code === moduleCode)?.name || \"未知\";\n};\n\n// 弹窗关闭事件\nconst dialogClosed = function () {\n    emits(\"update:isShow\", false);\n};\n\n// 选择的角色数据变化\nconst selectionChangeHandle = function (rows) {\n    selectedRoleRows.value = rows;\n};\n\n// 清空角色选项数据\nconst clearSelectionHandle = function () {\n    roleTableRef.value!.clearSelection();\n    selectedRoleRows.value = [];\n};\n\n// 数据表格中的行点击事件\nconst rowClickHandle = function (row) {\n    roleTableRef.value!.toggleRowSelection(row, selectedRoleRows.value.findIndex(item => item.id === row.id) === -1);\n};\n\n// 删除已选中的角色信息\nconst deleteSelectedHandle = function (index: number) {\n    roleTableRef.value!.toggleRowSelection(selectedRoleRows.value[index], false);\n    selectedRoleRows.value.splice(index, 1);\n};\n\n// 搜索（防抖）\nconst searchDebounce = debounce(function () {\n    const keywordReg = keyword.value && new RegExp(keyword.value.replace(/([,.+?:()*[\\]^$|{}\\\\-])/g, \"\\\\$1\"), \"i\");\n    dataList.value = props.roleList.filter(role => {\n        if (keywordReg && !keywordReg.test(role.name) && !keywordReg.test(role.code)) {\n            return false;\n        }\n        if (modules.value.length > 0 && !modules.value.includes(role.moduleCode)) {\n            return false;\n        }\n        return true;\n    });\n}, 200);\n\n// 查询当前选中的用户绑定的角色列表\nconst queryUserRoleList = async function () {\n    const userRoleList = (await systemAPI.queryRoleListByUserId({ userId: props.row.id })) as Array<Record<string, string>>;\n    if (userRoleList && userRoleList.length > 0) {\n        userRoleList.forEach(item => {\n            const findRole = props.roleList.find(roleItem => roleItem.id === item.roleId);\n            if (findRole) {\n                selectedRoleRows.value.push(findRole);\n                roleTableRef.value?.toggleRowSelection(findRole, true);\n            }\n        });\n    }\n};\n\n// 保存操作\nconst saveHandle = async function () {\n    if (isSubmiting.value) {\n        return;\n    }\n    isSubmiting.value = true;\n    try {\n        await systemAPI.updateRoleListByUserId({\n            userId: props.row.id,\n            roles: selectedRoleRows.value.map(item => item.id)\n        });\n        ElMessage.success(\"操作成功\");\n        dialogVisible.value = false;\n    } catch (error) {\n        logs.error(error);\n    }\n    isSubmiting.value = false;\n};\n\nwatch(\n    () => props.row?.id,\n    value => {\n        if (value) {\n            queryUserRoleList();\n        }\n    },\n    {\n        immediate: true\n    }\n);\n\nwatch(() => [keyword.value, modules.value], searchDebounce, { immediate: true });\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_el_dialog, {\n    modelValue: dialogVisible.value,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((dialogVisible).value = $event)),\n    title: '绑定用户【' + __props.row.name + '】的角色',\n    class: \"common-dialog\",\n    width: \"800px\",\n    onClosed: dialogClosed\n  }, {\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(_component_el_button, {\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (dialogVisible.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"取消\")\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          loading: isSubmiting.value,\n          type: \"primary\",\n          onClick: saveHandle\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"确定\")\n          ]),\n          _: 1\n        }, 8, [\"loading\"])\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_el_input, {\n          modelValue: keyword.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((keyword).value = $event)),\n          modelModifiers: { trim: true },\n          style: {\"width\":\"250px\",\"margin-right\":\"12px\"},\n          clearable: \"\",\n          placeholder: \"搜索角色名称或编码\",\n          \"prefix-icon\": _unref(Search)\n        }, null, 8, [\"modelValue\", \"prefix-icon\"]),\n        _createVNode(_component_el_select, {\n          modelValue: modules.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((modules).value = $event)),\n          clearable: \"\",\n          multiple: \"\",\n          \"collapse-tags\": \"\",\n          placeholder: \"搜索角色模块\",\n          style: {\"width\":\"150px\"}\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.moduleList, (module) => {\n              return (_openBlock(), _createBlock(_component_el_option, {\n                key: module.code,\n                value: module.code,\n                label: module.name\n              }, null, 8, [\"value\", \"label\"]))\n            }), 128))\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_unref(ElTable), {\n            ref_key: \"roleTableRef\",\n            ref: roleTableRef,\n            data: dataList.value,\n            height: \"250\",\n            \"row-key\": \"id\",\n            stripe: \"\",\n            border: \"\",\n            \"empty-text\": __props.roleList && __props.roleList.length > 0 ? '未搜索到角色相关数据' : '没有数据',\n            style: {\"width\":\"100%\"},\n            onSelectionChange: selectionChangeHandle,\n            onRowClick: rowClickHandle\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_table_column, {\n                \"reserve-selection\": \"\",\n                type: \"selection\",\n                label: \"选择\",\n                width: \"40\",\n                align: \"center\"\n              }),\n              _createVNode(_component_el_table_column, {\n                label: \"角色名称(编码)\",\n                \"min-width\": \"120\",\n                \"show-overflow-tooltip\": \"\"\n              }, {\n                default: _withCtx((scope) => [\n                  _createTextVNode(_toDisplayString(scope.row.name) + \"(\" + _toDisplayString(scope.row.code) + \")\", 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_table_column, {\n                property: \"moduleCode\",\n                label: \"模块\",\n                width: \"120\",\n                \"show-overflow-tooltip\": \"\"\n              }, {\n                default: _withCtx((scope) => [\n                  _createTextVNode(_toDisplayString(getModuleText(scope.row.moduleCode)), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"data\", \"empty-text\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", _hoisted_6, \"已选角色(\" + _toDisplayString(selectedRoleRows.value.length) + \")\", 1),\n            _createElementVNode(\"div\", {\n              class: \"label-text active\",\n              onClick: clearSelectionHandle\n            }, \"清空\")\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(selectedRoleRows.value, (role, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"row-info\",\n                key: role.code\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"name-text\",\n                  title: role.name + '(' + role.code + ')'\n                }, _toDisplayString(role.name) + \"(\" + _toDisplayString(role.code) + \")\", 9, _hoisted_8),\n                _createVNode(_component_el_icon, {\n                  onClick: ($event: any) => (deleteSelectedHandle(index))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(Delete))\n                  ]),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]))\n            }), 128))\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\", \"title\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-12-28 11:10:17\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-11 11:49:03\n * @项目的路径: \\vue-manager-system\\src\\views\\system\\users\\components\\bind-roles-dialog.vue\n * @描述: 绑定用户的角色\n-->\n<template>\n    <el-dialog v-model=\"dialogVisible\" :title=\"'绑定用户【' + row.name + '】的角色'\" class=\"common-dialog\" width=\"800px\" @closed=\"dialogClosed\">\n        <div class=\"search-panel\">\n            <el-input v-model.trim=\"keyword\" style=\"width: 250px; margin-right: 12px\" clearable placeholder=\"搜索角色名称或编码\" :prefix-icon=\"Search\" />\n            <el-select v-model=\"modules\" clearable multiple collapse-tags placeholder=\"搜索角色模块\" style=\"width: 150px\">\n                <el-option v-for=\"module in moduleList\" :key=\"module.code\" :value=\"module.code\" :label=\"module.name\" />\n            </el-select>\n        </div>\n        <div class=\"role-list-panel\">\n            <div class=\"left-contents\">\n                <el-table\n                    ref=\"roleTableRef\"\n                    :data=\"dataList\"\n                    height=\"250\"\n                    row-key=\"id\"\n                    stripe\n                    border\n                    :empty-text=\"roleList && roleList.length > 0 ? '未搜索到角色相关数据' : '没有数据'\"\n                    style=\"width: 100%\"\n                    @selection-change=\"selectionChangeHandle\"\n                    @row-click=\"rowClickHandle\"\n                >\n                    <el-table-column reserve-selection type=\"selection\" label=\"选择\" width=\"40\" align=\"center\" />\n                    <el-table-column label=\"角色名称(编码)\" min-width=\"120\" show-overflow-tooltip>\n                        <template #default=\"scope\">{{ scope.row.name }}({{ scope.row.code }})</template>\n                    </el-table-column>\n                    <el-table-column property=\"moduleCode\" label=\"模块\" width=\"120\" show-overflow-tooltip>\n                        <template #default=\"scope\">\n                            {{ getModuleText(scope.row.moduleCode) }}\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </div>\n            <div class=\"right-contents\">\n                <div class=\"header-row\">\n                    <div class=\"label-text\">已选角色({{ selectedRoleRows.length }})</div>\n                    <div class=\"label-text active\" @click=\"clearSelectionHandle\">清空</div>\n                </div>\n                <div class=\"inner-row\">\n                    <div class=\"row-info\" v-for=\"(role, index) in selectedRoleRows\" :key=\"role.code\">\n                        <div class=\"name-text\" :title=\"role.name + '(' + role.code + ')'\">{{ role.name }}({{ role.code }})</div>\n                        <el-icon @click=\"deleteSelectedHandle(index)\"><Delete /></el-icon>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <template #footer>\n            <div class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\n                <el-button :loading=\"isSubmiting\" type=\"primary\" @click=\"saveHandle\">确定</el-button>\n            </div>\n        </template>\n    </el-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport { ref, watch } from \"vue\";\nimport { Search, Delete } from \"@element-plus/icons-vue\";\nimport { ElTable, ElMessage } from \"element-plus\";\nimport { debounce } from \"@yujinjin/utils\";\nimport systemAPI from \"@api/system\";\n\nconst props = defineProps({\n    isShow: {\n        type: Boolean\n    },\n    // 当前选中的用户数据列\n    row: {\n        type: Object,\n        required: true\n    },\n    // 所有的角色列表\n    roleList: {\n        type: Array as PropType<Record<string, any>[]>,\n        default: function () {\n            return [];\n        }\n    },\n    // 所有的模块列表\n    moduleList: {\n        type: Array as PropType<Record<string, any>[]>,\n        default: function () {\n            return [];\n        }\n    }\n});\n\nconst emits = defineEmits([\"update:isShow\"]);\n\n// 弹窗显示状态\nconst dialogVisible = ref(true);\n\n// 搜索关键词\nconst keyword = ref(\"\");\n\n// 搜索的模块\nconst modules = ref<string[]>([]);\n\n// 角色数据表格ref\nconst roleTableRef = ref<InstanceType<typeof ElTable>>();\n\n// 数据列表\nconst dataList = ref<Record<string, any>[]>([]);\n\n// 选中的角色行(用户关联的角色列表)\nconst selectedRoleRows = ref<Record<string, any>[]>([]);\n\n// 是否正在提交\nconst isSubmiting = ref(false);\n\n// 获取模块名称\nconst getModuleText = function (moduleCode) {\n    if (!moduleCode) {\n        return \"-\";\n    }\n    return props.moduleList.find(item => item.code === moduleCode)?.name || \"未知\";\n};\n\n// 弹窗关闭事件\nconst dialogClosed = function () {\n    emits(\"update:isShow\", false);\n};\n\n// 选择的角色数据变化\nconst selectionChangeHandle = function (rows) {\n    selectedRoleRows.value = rows;\n};\n\n// 清空角色选项数据\nconst clearSelectionHandle = function () {\n    roleTableRef.value!.clearSelection();\n    selectedRoleRows.value = [];\n};\n\n// 数据表格中的行点击事件\nconst rowClickHandle = function (row) {\n    roleTableRef.value!.toggleRowSelection(row, selectedRoleRows.value.findIndex(item => item.id === row.id) === -1);\n};\n\n// 删除已选中的角色信息\nconst deleteSelectedHandle = function (index: number) {\n    roleTableRef.value!.toggleRowSelection(selectedRoleRows.value[index], false);\n    selectedRoleRows.value.splice(index, 1);\n};\n\n// 搜索（防抖）\nconst searchDebounce = debounce(function () {\n    const keywordReg = keyword.value && new RegExp(keyword.value.replace(/([,.+?:()*[\\]^$|{}\\\\-])/g, \"\\\\$1\"), \"i\");\n    dataList.value = props.roleList.filter(role => {\n        if (keywordReg && !keywordReg.test(role.name) && !keywordReg.test(role.code)) {\n            return false;\n        }\n        if (modules.value.length > 0 && !modules.value.includes(role.moduleCode)) {\n            return false;\n        }\n        return true;\n    });\n}, 200);\n\n// 查询当前选中的用户绑定的角色列表\nconst queryUserRoleList = async function () {\n    const userRoleList = (await systemAPI.queryRoleListByUserId({ userId: props.row.id })) as Array<Record<string, string>>;\n    if (userRoleList && userRoleList.length > 0) {\n        userRoleList.forEach(item => {\n            const findRole = props.roleList.find(roleItem => roleItem.id === item.roleId);\n            if (findRole) {\n                selectedRoleRows.value.push(findRole);\n                roleTableRef.value?.toggleRowSelection(findRole, true);\n            }\n        });\n    }\n};\n\n// 保存操作\nconst saveHandle = async function () {\n    if (isSubmiting.value) {\n        return;\n    }\n    isSubmiting.value = true;\n    try {\n        await systemAPI.updateRoleListByUserId({\n            userId: props.row.id,\n            roles: selectedRoleRows.value.map(item => item.id)\n        });\n        ElMessage.success(\"操作成功\");\n        dialogVisible.value = false;\n    } catch (error) {\n        logs.error(error);\n    }\n    isSubmiting.value = false;\n};\n\nwatch(\n    () => props.row?.id,\n    value => {\n        if (value) {\n            queryUserRoleList();\n        }\n    },\n    {\n        immediate: true\n    }\n);\n\nwatch(() => [keyword.value, modules.value], searchDebounce, { immediate: true });\n</script>\n<style lang=\"scss\" scoped>\n.search-panel {\n    padding-bottom: 8px;\n    display: flex;\n}\n\n.role-list-panel {\n    display: flex;\n    color: rgba(0, 0, 0, 0.65);\n    padding-bottom: 12px;\n\n    .left-contents {\n        flex: 1;\n    }\n\n    .right-contents {\n        width: 25%;\n        margin-left: 10px;\n        border: 1px solid #d9d9d9;\n\n        .header-row {\n            display: flex;\n            justify-content: space-between;\n            line-height: 37px;\n            font-size: 12px;\n            font-weight: 400;\n            padding: 0px 12px;\n            border-bottom: 1px solid #d9d9d9;\n\n            .label-text.active {\n                cursor: pointer;\n                color: #00a64d;\n            }\n        }\n\n        .inner-row {\n            padding: 0px 12px;\n            overflow-y: auto;\n            max-height: 210px;\n            .row-info {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                line-height: 32px;\n                height: 32px;\n                font-size: 12px;\n                padding: 0px 5px;\n\n                &:hover {\n                    background-color: #fafafa;\n                }\n\n                .name-text {\n                    font-weight: 400;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                    overflow: hidden;\n                }\n\n                .el-icon {\n                    cursor: pointer;\n                }\n            }\n        }\n    }\n}\n</style>\n","import script from \"./bind-roles-dialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./bind-roles-dialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./bind-roles-dialog.vue?vue&type=style&index=0&id=e24dbcc2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e24dbcc2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, mergeProps as _mergeProps, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-359065de\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"upload-excel-panel\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"state-text\" }, \"正在导入数据...\", -1))\nconst _hoisted_3 = {\n  key: 1,\n  class: \"upload-box\"\n}\nconst _hoisted_4 = { class: \"tips-list\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, \"支持5MB以内的xls、xlsx格式文件\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, \"文件中的数据不能超过10000行，100列\", -1))\nconst _hoisted_7 = [\"innerHTML\"]\nconst _hoisted_8 = {\n  key: 1,\n  class: \"preview-data-panel\"\n}\nconst _hoisted_9 = { class: \"import-tips-box\" }\nconst _hoisted_10 = { class: \"tips-text\" }\nconst _hoisted_11 = {\n  key: 2,\n  class: \"import-result-panel\"\n}\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error-box\"\n}\nconst _hoisted_13 = { class: \"fail-tips\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title-text\" }, \"异常提示\", -1))\nconst _hoisted_15 = [\"innerHTML\"]\nconst _hoisted_16 = {\n  key: 1,\n  class: \"succes-box\"\n}\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title-text\" }, \"批量导入完成\", -1))\nconst _hoisted_18 = { class: \"subtitle-text\" }\nconst _hoisted_19 = { class: \"dialog-footer\" }\n\nimport type { CheckboxValueType, UploadRequestOptions, UploadUserFile, UploadRawFile } from \"element-plus\";\nimport { ref, reactive, watch } from \"vue\";\nimport { ElUpload, genFileId, ElMessage } from \"element-plus\";\nimport { Upload, Histogram, Finished, Warning, SuccessFilled, CircleCloseFilled } from \"@element-plus/icons-vue\";\nimport commonApi from \"@/api/common\";\nimport systemAPI from \"@api/system\";\nimport virtuallyProgress from \"@views/components/virtually-progress.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'batch-insert-dialog',\n  props: {\n    isShow: {\n        type: Boolean\n    }\n},\n  emits: [\"update:isShow\"],\n  setup(__props, { emit: __emit }) {\n\n\n\nconst emits = __emit;\n\n// 弹窗显示状态\nconst dialogVisible = ref(true);\n\nconst uploadExcelRef = ref<InstanceType<typeof ElUpload>>();\n\n// excel上传信息\nconst uploadInfo = reactive({\n    step: 1, // 当前操作步骤\n    isLoading: false, // 是否正在加载\n    isShowProgress: false, // 是否显示当前上传EXCEL的进度条 (当前进度条动画完成)\n    fileList: [] as UploadUserFile[], // 上传的文件列表\n    uploadErrorMessage: \"\", // 上传失败错误信息\n    dataList: [] as Record<string, any>[], // 上传的数据列表\n    selectColumns: [\"loginName\", \"name\", \"gender\", \"email\", \"phoneNumber\"] as string[], // 选择上传的列\n    tableColumnList: [\n        {\n            label: \"用户号\",\n            prop: \"loginName\",\n            minWidth: 120\n        },\n        {\n            label: \"用户姓名\",\n            prop: \"name\",\n            minWidth: 120\n        },\n        {\n            label: \"性别\",\n            prop: \"gender\",\n            width: 80,\n            formatter: (row, column, cellValue) => {\n                if (!cellValue) {\n                    return \"-\";\n                } else if (cellValue === \"1\") {\n                    return \"男\";\n                } else if (cellValue === \"2\") {\n                    return \"女\";\n                }\n                return \"未知\";\n            }\n        },\n        {\n            label: \"Email\",\n            prop: \"email\",\n            minWidth: 150\n        },\n        {\n            label: \"手机号码\",\n            prop: \"phoneNumber\",\n            minWidth: 120\n        }\n    ] as Record<string, any>[], // 表格数据列\n    batchInsertErrorMessage: \"\" // 批量新增失败错误信息\n});\n\nwatch(\n    () => uploadInfo.fileList[0]?.uid,\n    () => {\n        // 文件变化，重新初始化\n        init();\n    }\n);\n\n// 初始化\nconst init = function () {\n    uploadInfo.step = 1;\n    uploadInfo.uploadErrorMessage = \"\";\n    uploadInfo.dataList = [];\n    uploadInfo.batchInsertErrorMessage = \"\";\n    uploadInfo.isShowProgress = false;\n};\n\n// 弹窗关闭事件\nconst dialogClosed = function () {\n    emits(\"update:isShow\", false);\n};\n\n// 下载EXCEL模板\nconst downExcelTemplateHandle = function () {\n    commonApi.download({\n        type: \"a\",\n        url: require(\"@assets/templates/批量新增用户模板.xlsx\"),\n        fileName: \"批量新增用户模板.xlsx\"\n    });\n};\n\n// 文件上传请求\nconst httpRequest = async function (options: UploadRequestOptions) {\n    try {\n        uploadInfo.isLoading = true;\n        uploadInfo.isShowProgress = true;\n        const dataList = (await systemAPI.uploadUsersExcel(options.file, { isShowError: false })) as Record<string, any>[];\n        uploadInfo.dataList = dataList;\n    } catch (e: any) {\n        console.info(\".............\", e);\n        uploadInfo.uploadErrorMessage = e.error.message;\n    }\n    uploadInfo.isLoading = false;\n};\n\n// 当前进度条加载动画完成操作\nconst progressFinishedHandle = function () {\n    uploadInfo.isShowProgress = false;\n    if (uploadInfo.uploadErrorMessage) {\n        ElMessage.error(uploadInfo.uploadErrorMessage);\n    } else {\n        uploadInfo.step = 2;\n    }\n};\n\n// 当超出限制时，执行的钩子函数\nconst uploadExceedHandle = function (files: File[]) {\n    uploadExcelRef.value!.clearFiles();\n    const file = files[0] as UploadRawFile;\n    file.uid = genFileId();\n    uploadExcelRef.value!.handleStart(file);\n};\n\n// 切换选择列\nconst toggleCheckColumn = function (columnProp: string, isCheck: CheckboxValueType) {\n    if (isCheck) {\n        uploadInfo.selectColumns.push(columnProp);\n    } else {\n        uploadInfo.selectColumns.splice(uploadInfo.selectColumns.indexOf(columnProp), 1);\n    }\n};\n\n// 删除数据\nconst deleteDataHandle = function (index: number) {\n    uploadInfo.dataList.splice(index, 1);\n};\n\n// excel 上传\nconst excelUploadHandle = function () {\n    if (uploadInfo.dataList.length > 0) {\n        // 当前数据已经处理过（是从第二步返回到第一步过去的）\n        uploadInfo.step = 2;\n    } else {\n        uploadExcelRef.value!.submit();\n    }\n};\n\n// 批量添加\nconst batchInsertHandle = async function () {\n    if (uploadInfo.isLoading) {\n        return;\n    }\n    try {\n        uploadInfo.batchInsertErrorMessage = \"\";\n        uploadInfo.isLoading = true;\n        await systemAPI.batchInsertUers(\n            uploadInfo.dataList.map(item => {\n                const newItem = {};\n                uploadInfo.selectColumns.forEach(value => (newItem[value] = item[value]));\n                return newItem;\n            })\n        );\n    } catch (e: any) {\n        uploadInfo.batchInsertErrorMessage = e.error.message;\n    }\n    uploadInfo.step = 3;\n    uploadInfo.isLoading = false;\n};\n\n// 再次上传\nconst againUploadHandle = function () {\n    uploadInfo.fileList = [];\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_step = _resolveComponent(\"el-step\")!\n  const _component_el_steps = _resolveComponent(\"el-steps\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_alert = _resolveComponent(\"el-alert\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_el_dialog, {\n    modelValue: dialogVisible.value,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((dialogVisible).value = $event)),\n    title: \"批量导入用户\",\n    class: \"common-dialog\",\n    width: \"800px\",\n    onClosed: dialogClosed\n  }, {\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_19, [\n        _createVNode(_component_el_button, {\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (dialogVisible.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"取消\")\n          ]),\n          _: 1\n        }),\n        (uploadInfo.step === 2 || (uploadInfo.step === 3 && !!uploadInfo.batchInsertErrorMessage))\n          ? (_openBlock(), _createBlock(_component_el_button, {\n              key: 0,\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (uploadInfo.step = uploadInfo.step - 1))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"上一步\")\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        (uploadInfo.step === 1)\n          ? (_openBlock(), _createBlock(_component_el_button, {\n              key: 1,\n              type: \"primary\",\n              loading: uploadInfo.isShowProgress,\n              disabled: uploadInfo.fileList.length === 0 || !!uploadInfo.uploadErrorMessage,\n              onClick: excelUploadHandle\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" 提交 \")\n              ]),\n              _: 1\n            }, 8, [\"loading\", \"disabled\"]))\n          : (uploadInfo.step === 2)\n            ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 2,\n                type: \"primary\",\n                loading: uploadInfo.isLoading,\n                disabled: uploadInfo.dataList.length === 0 || uploadInfo.selectColumns.length === 0,\n                onClick: batchInsertHandle\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" 确定 \")\n                ]),\n                _: 1\n              }, 8, [\"loading\", \"disabled\"]))\n            : (uploadInfo.step === 3)\n              ? (_openBlock(), _createBlock(_component_el_button, {\n                  key: 3,\n                  type: \"primary\",\n                  onClick: againUploadHandle\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(!uploadInfo.batchInsertErrorMessage ? \"再次\" : \"重新\") + \"上传\", 1)\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_el_steps, {\n        active: uploadInfo.step,\n        simple: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_step, {\n            title: \"上传文件\",\n            icon: _unref(Upload)\n          }, null, 8, [\"icon\"]),\n          _createVNode(_component_el_step, {\n            title: \"预览数据\",\n            icon: _unref(Histogram)\n          }, null, 8, [\"icon\"]),\n          _createVNode(_component_el_step, {\n            title: \"导入数据\",\n            icon: _unref(Finished)\n          }, null, 8, [\"icon\"])\n        ]),\n        _: 1\n      }, 8, [\"active\"]),\n      (uploadInfo.step === 1)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            (uploadInfo.isShowProgress)\n              ? (_openBlock(), _createBlock(virtuallyProgress, {\n                  key: 0,\n                  finished: !uploadInfo.isLoading,\n                  onAfterFinished: progressFinishedHandle\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_2\n                  ]),\n                  _: 1\n                }, 8, [\"finished\"]))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _createElementVNode(\"ul\", _hoisted_4, [\n                    _hoisted_5,\n                    _hoisted_6,\n                    _createElementVNode(\"li\", null, [\n                      _createTextVNode(\" 请按照数据模板的格式准备导入数据，模板中的表头名称不可更改，表头行不能删除。 \"),\n                      _createVNode(_component_el_link, {\n                        type: \"primary\",\n                        onClick: downExcelTemplateHandle\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"模板下载\")\n                        ]),\n                        _: 1\n                      })\n                    ])\n                  ]),\n                  _createVNode(_unref(ElUpload), {\n                    class: \"upload-excel\",\n                    ref_key: \"uploadExcelRef\",\n                    ref: uploadExcelRef,\n                    \"file-list\": uploadInfo.fileList,\n                    \"onUpdate:fileList\": _cache[0] || (_cache[0] = ($event: any) => ((uploadInfo.fileList) = $event)),\n                    action: \"#\",\n                    accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel\",\n                    \"auto-upload\": false,\n                    limit: 1,\n                    \"http-request\": httpRequest,\n                    \"on-exceed\": uploadExceedHandle\n                  }, {\n                    trigger: _withCtx(() => [\n                      _createVNode(_component_el_button, { type: \"primary\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"选择文件\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"file-list\"]),\n                  (uploadInfo.uploadErrorMessage)\n                    ? (_openBlock(), _createBlock(_component_el_alert, {\n                        key: 0,\n                        title: \"异常提示\",\n                        type: \"error\",\n                        \"show-icon\": \"\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createElementVNode(\"div\", {\n                            class: \"content\",\n                            innerHTML: uploadInfo.uploadErrorMessage\n                          }, null, 8, _hoisted_7)\n                        ]),\n                        _: 1\n                      }))\n                    : _createCommentVNode(\"\", true)\n                ]))\n          ]))\n        : (uploadInfo.step === 2)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n              _createElementVNode(\"div\", _hoisted_9, [\n                _createVNode(_component_el_icon, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(Warning))\n                  ]),\n                  _: 1\n                }),\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createTextVNode(\" 共 \"),\n                  _createElementVNode(\"span\", null, _toDisplayString(uploadInfo.dataList.length), 1),\n                  _createTextVNode(\" 条数据，导入 \"),\n                  _createElementVNode(\"span\", null, _toDisplayString(uploadInfo.selectColumns.length), 1),\n                  _createTextVNode(\" 列 / 共 \"),\n                  _createElementVNode(\"span\", null, _toDisplayString(uploadInfo.tableColumnList.length), 1),\n                  _createTextVNode(\" 列 \")\n                ])\n              ]),\n              _createVNode(_component_el_table, {\n                data: uploadInfo.dataList,\n                border: \"\",\n                stripe: \"\",\n                style: {\"width\":\"100%\"},\n                \"max-height\": \"300\"\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(uploadInfo.tableColumnList, (column, index) => {\n                    return (_openBlock(), _createBlock(_component_el_table_column, _mergeProps(column, { key: index }), {\n                      header: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(column.label) + \" \", 1),\n                        _createVNode(_component_el_checkbox, {\n                          checked: uploadInfo.selectColumns.includes(column.prop),\n                          onChange: value => toggleCheckColumn(column.prop, value)\n                        }, null, 8, [\"checked\", \"onChange\"])\n                      ]),\n                      _: 2\n                    }, 1040))\n                  }), 128)),\n                  _createVNode(_component_el_table_column, {\n                    label: \"操作\",\n                    fixed: \"right\",\n                    width: \"60\",\n                    align: \"center\"\n                  }, {\n                    default: _withCtx(({ $index }) => [\n                      _createVNode(_component_el_button, {\n                        link: \"\",\n                        type: \"primary\",\n                        onClick: ($event: any) => (deleteDataHandle($index))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"移除\")\n                        ]),\n                        _: 2\n                      }, 1032, [\"onClick\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"data\"])\n            ]))\n          : (uploadInfo.step === 3)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                (uploadInfo.batchInsertErrorMessage)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                      _createVNode(_component_el_icon, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_unref(CircleCloseFilled))\n                        ]),\n                        _: 1\n                      }),\n                      _createElementVNode(\"div\", _hoisted_13, [\n                        _hoisted_14,\n                        _createElementVNode(\"div\", {\n                          class: \"subtitle-text\",\n                          innerHTML: uploadInfo.batchInsertErrorMessage\n                        }, null, 8, _hoisted_15)\n                      ])\n                    ]))\n                  : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                      _createVNode(_component_el_icon, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_unref(SuccessFilled))\n                        ]),\n                        _: 1\n                      }),\n                      _hoisted_17,\n                      _createElementVNode(\"div\", _hoisted_18, [\n                        _createTextVNode(\" 您已成功导入 \"),\n                        _createElementVNode(\"span\", null, _toDisplayString(uploadInfo.dataList.length), 1),\n                        _createTextVNode(\" 条， \"),\n                        _createElementVNode(\"span\", null, _toDisplayString(uploadInfo.selectColumns.length), 1),\n                        _createTextVNode(\" 列数据 \")\n                      ])\n                    ]))\n              ]))\n            : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2024-01-02 14:41:33\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-09 10:56:53\n * @项目的路径: \\vue-manager-system\\src\\views\\system\\users\\components\\batch-insert-dialog.vue\n * @描述: 批量新增用户弹窗\n-->\n<template>\n    <el-dialog v-model=\"dialogVisible\" title=\"批量导入用户\" class=\"common-dialog\" width=\"800px\" @closed=\"dialogClosed\">\n        <el-steps :active=\"uploadInfo.step\" simple>\n            <el-step title=\"上传文件\" :icon=\"Upload\" />\n            <el-step title=\"预览数据\" :icon=\"Histogram\" />\n            <el-step title=\"导入数据\" :icon=\"Finished\" />\n        </el-steps>\n        <!-- 上传文件 -->\n        <div v-if=\"uploadInfo.step === 1\" class=\"upload-excel-panel\">\n            <virtually-progress v-if=\"uploadInfo.isShowProgress\" :finished=\"!uploadInfo.isLoading\" @after-finished=\"progressFinishedHandle\">\n                <div class=\"state-text\">正在导入数据...</div>\n            </virtually-progress>\n            <div v-else class=\"upload-box\">\n                <ul class=\"tips-list\">\n                    <li>支持5MB以内的xls、xlsx格式文件</li>\n                    <li>文件中的数据不能超过10000行，100列</li>\n                    <li>\n                        请按照数据模板的格式准备导入数据，模板中的表头名称不可更改，表头行不能删除。\n                        <el-link type=\"primary\" @click=\"downExcelTemplateHandle\">模板下载</el-link>\n                    </li>\n                </ul>\n                <el-upload\n                    class=\"upload-excel\"\n                    ref=\"uploadExcelRef\"\n                    v-model:file-list=\"uploadInfo.fileList\"\n                    action=\"#\"\n                    accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel\"\n                    :auto-upload=\"false\"\n                    :limit=\"1\"\n                    :http-request=\"httpRequest\"\n                    :on-exceed=\"uploadExceedHandle\"\n                >\n                    <template #trigger>\n                        <el-button type=\"primary\">选择文件</el-button>\n                    </template>\n                </el-upload>\n                <el-alert title=\"异常提示\" type=\"error\" show-icon v-if=\"uploadInfo.uploadErrorMessage\">\n                    <div class=\"content\" v-html=\"uploadInfo.uploadErrorMessage\"></div>\n                </el-alert>\n            </div>\n\n            <!-- <div v-if=\"uploadInfo.uploadErrorMessage\" class=\"error-box\">\n                <el-icon><Warning /></el-icon>\n                <div class=\"fail-tips\">\n                    <div class=\"title-text\">异常提示</div>\n                    <div class=\"content\" v-html=\"uploadInfo.uploadErrorMessage\"></div>\n                </div>\n            </div> -->\n        </div>\n        <!-- 数据预览 -->\n        <div v-else-if=\"uploadInfo.step === 2\" class=\"preview-data-panel\">\n            <div class=\"import-tips-box\">\n                <el-icon><Warning /></el-icon>\n                <div class=\"tips-text\">\n                    共\n                    <span>{{ uploadInfo.dataList.length }}</span>\n                    条数据，导入\n                    <span>{{ uploadInfo.selectColumns.length }}</span>\n                    列 / 共\n                    <span>{{ uploadInfo.tableColumnList.length }}</span>\n                    列\n                </div>\n            </div>\n            <el-table :data=\"uploadInfo.dataList\" border stripe style=\"width: 100%\" max-height=\"300\">\n                <el-table-column v-bind=\"column\" :key=\"index\" v-for=\"(column, index) in uploadInfo.tableColumnList\">\n                    <template #header>\n                        {{ column.label }}\n                        <el-checkbox :checked=\"uploadInfo.selectColumns.includes(column.prop)\" @change=\"value => toggleCheckColumn(column.prop, value)\" />\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" fixed=\"right\" width=\"60\" align=\"center\">\n                    <template #default=\"{ $index }\">\n                        <el-button link type=\"primary\" @click=\"deleteDataHandle($index)\">移除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n        <!-- 数据导入结果 -->\n        <div v-else-if=\"uploadInfo.step === 3\" class=\"import-result-panel\">\n            <div v-if=\"uploadInfo.batchInsertErrorMessage\" class=\"error-box\">\n                <el-icon><CircleCloseFilled /></el-icon>\n                <div class=\"fail-tips\">\n                    <div class=\"title-text\">异常提示</div>\n                    <div class=\"subtitle-text\" v-html=\"uploadInfo.batchInsertErrorMessage\"></div>\n                </div>\n            </div>\n            <!-- <el-alert title=\"异常提示\" type=\"error\" show-icon v-if=\"uploadInfo.batchInsertErrorMessage\">\n                <div class=\"content\" v-html=\"uploadInfo.batchInsertErrorMessage\"></div>\n            </el-alert> -->\n            <div class=\"succes-box\" v-else>\n                <el-icon><SuccessFilled /></el-icon>\n                <div class=\"title-text\">批量导入完成</div>\n                <div class=\"subtitle-text\">\n                    您已成功导入\n                    <span>{{ uploadInfo.dataList.length }}</span>\n                    条，\n                    <span>{{ uploadInfo.selectColumns.length }}</span>\n                    列数据\n                </div>\n            </div>\n        </div>\n        <template #footer>\n            <div class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\n                <el-button v-if=\"uploadInfo.step === 2 || (uploadInfo.step === 3 && !!uploadInfo.batchInsertErrorMessage)\" @click=\"uploadInfo.step = uploadInfo.step - 1\">上一步</el-button>\n                <el-button\n                    v-if=\"uploadInfo.step === 1\"\n                    type=\"primary\"\n                    :loading=\"uploadInfo.isShowProgress\"\n                    :disabled=\"uploadInfo.fileList.length === 0 || !!uploadInfo.uploadErrorMessage\"\n                    @click=\"excelUploadHandle\"\n                >\n                    提交\n                </el-button>\n                <el-button\n                    v-else-if=\"uploadInfo.step === 2\"\n                    type=\"primary\"\n                    :loading=\"uploadInfo.isLoading\"\n                    :disabled=\"uploadInfo.dataList.length === 0 || uploadInfo.selectColumns.length === 0\"\n                    @click=\"batchInsertHandle\"\n                >\n                    确定\n                </el-button>\n                <el-button v-else-if=\"uploadInfo.step === 3\" type=\"primary\" @click=\"againUploadHandle\">{{ !uploadInfo.batchInsertErrorMessage ? \"再次\" : \"重新\" }}上传</el-button>\n            </div>\n        </template>\n    </el-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type { CheckboxValueType, UploadRequestOptions, UploadUserFile, UploadRawFile } from \"element-plus\";\nimport { ref, reactive, watch } from \"vue\";\nimport { ElUpload, genFileId, ElMessage } from \"element-plus\";\nimport { Upload, Histogram, Finished, Warning, SuccessFilled, CircleCloseFilled } from \"@element-plus/icons-vue\";\nimport commonApi from \"@/api/common\";\nimport systemAPI from \"@api/system\";\nimport virtuallyProgress from \"@views/components/virtually-progress.vue\";\n\ndefineProps({\n    isShow: {\n        type: Boolean\n    }\n});\n\nconst emits = defineEmits([\"update:isShow\"]);\n\n// 弹窗显示状态\nconst dialogVisible = ref(true);\n\nconst uploadExcelRef = ref<InstanceType<typeof ElUpload>>();\n\n// excel上传信息\nconst uploadInfo = reactive({\n    step: 1, // 当前操作步骤\n    isLoading: false, // 是否正在加载\n    isShowProgress: false, // 是否显示当前上传EXCEL的进度条 (当前进度条动画完成)\n    fileList: [] as UploadUserFile[], // 上传的文件列表\n    uploadErrorMessage: \"\", // 上传失败错误信息\n    dataList: [] as Record<string, any>[], // 上传的数据列表\n    selectColumns: [\"loginName\", \"name\", \"gender\", \"email\", \"phoneNumber\"] as string[], // 选择上传的列\n    tableColumnList: [\n        {\n            label: \"用户号\",\n            prop: \"loginName\",\n            minWidth: 120\n        },\n        {\n            label: \"用户姓名\",\n            prop: \"name\",\n            minWidth: 120\n        },\n        {\n            label: \"性别\",\n            prop: \"gender\",\n            width: 80,\n            formatter: (row, column, cellValue) => {\n                if (!cellValue) {\n                    return \"-\";\n                } else if (cellValue === \"1\") {\n                    return \"男\";\n                } else if (cellValue === \"2\") {\n                    return \"女\";\n                }\n                return \"未知\";\n            }\n        },\n        {\n            label: \"Email\",\n            prop: \"email\",\n            minWidth: 150\n        },\n        {\n            label: \"手机号码\",\n            prop: \"phoneNumber\",\n            minWidth: 120\n        }\n    ] as Record<string, any>[], // 表格数据列\n    batchInsertErrorMessage: \"\" // 批量新增失败错误信息\n});\n\nwatch(\n    () => uploadInfo.fileList[0]?.uid,\n    () => {\n        // 文件变化，重新初始化\n        init();\n    }\n);\n\n// 初始化\nconst init = function () {\n    uploadInfo.step = 1;\n    uploadInfo.uploadErrorMessage = \"\";\n    uploadInfo.dataList = [];\n    uploadInfo.batchInsertErrorMessage = \"\";\n    uploadInfo.isShowProgress = false;\n};\n\n// 弹窗关闭事件\nconst dialogClosed = function () {\n    emits(\"update:isShow\", false);\n};\n\n// 下载EXCEL模板\nconst downExcelTemplateHandle = function () {\n    commonApi.download({\n        type: \"a\",\n        url: require(\"@assets/templates/批量新增用户模板.xlsx\"),\n        fileName: \"批量新增用户模板.xlsx\"\n    });\n};\n\n// 文件上传请求\nconst httpRequest = async function (options: UploadRequestOptions) {\n    try {\n        uploadInfo.isLoading = true;\n        uploadInfo.isShowProgress = true;\n        const dataList = (await systemAPI.uploadUsersExcel(options.file, { isShowError: false })) as Record<string, any>[];\n        uploadInfo.dataList = dataList;\n    } catch (e: any) {\n        console.info(\".............\", e);\n        uploadInfo.uploadErrorMessage = e.error.message;\n    }\n    uploadInfo.isLoading = false;\n};\n\n// 当前进度条加载动画完成操作\nconst progressFinishedHandle = function () {\n    uploadInfo.isShowProgress = false;\n    if (uploadInfo.uploadErrorMessage) {\n        ElMessage.error(uploadInfo.uploadErrorMessage);\n    } else {\n        uploadInfo.step = 2;\n    }\n};\n\n// 当超出限制时，执行的钩子函数\nconst uploadExceedHandle = function (files: File[]) {\n    uploadExcelRef.value!.clearFiles();\n    const file = files[0] as UploadRawFile;\n    file.uid = genFileId();\n    uploadExcelRef.value!.handleStart(file);\n};\n\n// 切换选择列\nconst toggleCheckColumn = function (columnProp: string, isCheck: CheckboxValueType) {\n    if (isCheck) {\n        uploadInfo.selectColumns.push(columnProp);\n    } else {\n        uploadInfo.selectColumns.splice(uploadInfo.selectColumns.indexOf(columnProp), 1);\n    }\n};\n\n// 删除数据\nconst deleteDataHandle = function (index: number) {\n    uploadInfo.dataList.splice(index, 1);\n};\n\n// excel 上传\nconst excelUploadHandle = function () {\n    if (uploadInfo.dataList.length > 0) {\n        // 当前数据已经处理过（是从第二步返回到第一步过去的）\n        uploadInfo.step = 2;\n    } else {\n        uploadExcelRef.value!.submit();\n    }\n};\n\n// 批量添加\nconst batchInsertHandle = async function () {\n    if (uploadInfo.isLoading) {\n        return;\n    }\n    try {\n        uploadInfo.batchInsertErrorMessage = \"\";\n        uploadInfo.isLoading = true;\n        await systemAPI.batchInsertUers(\n            uploadInfo.dataList.map(item => {\n                const newItem = {};\n                uploadInfo.selectColumns.forEach(value => (newItem[value] = item[value]));\n                return newItem;\n            })\n        );\n    } catch (e: any) {\n        uploadInfo.batchInsertErrorMessage = e.error.message;\n    }\n    uploadInfo.step = 3;\n    uploadInfo.isLoading = false;\n};\n\n// 再次上传\nconst againUploadHandle = function () {\n    uploadInfo.fileList = [];\n};\n</script>\n<style lang=\"scss\" scoped>\n// .error-box {\n//     display: flex;\n//     margin-top: 10px;\n//     border: 1px solid #e2e2e2;\n//     border-radius: 4px;\n//     min-height: 150px;\n\n//     .el-icon {\n//         width: 150px;\n//         display: flex;\n//         justify-content: center;\n//         align-items: center;\n//         border-right: 1px solid #e2e2e2;\n//         font-size: 50px;\n//         color: var(--el-color-warning);\n//         background-color: #f2f2f2;\n//     }\n\n//     .fail-tips {\n//         padding: 10px;\n//         display: flex;\n//         flex-direction: column;\n//         justify-content: center;\n//         font-size: 13px;\n//         line-height: 20px;\n\n//         .title-text {\n//             font-weight: bold;\n//         }\n//     }\n// }\n\n.upload-excel-panel {\n    height: 350px;\n    .state-text {\n        line-height: 20px;\n        text-align: center;\n        padding-top: 10px;\n        font-size: 12px;\n    }\n\n    .upload-box {\n        padding: 0px 30px;\n        .tips-list {\n            padding: 12px;\n            list-style: disc;\n\n            li {\n                line-height: 25px;\n                font-size: 13px;\n            }\n        }\n    }\n\n    :deep(.upload-excel) {\n        padding-left: 20px;\n\n        .el-upload-list__item {\n            line-height: 24px;\n        }\n    }\n\n    :deep(.virtually-progress) {\n        padding: 100px 30px 0px;\n    }\n}\n\n.preview-data-panel {\n    height: 350px;\n    .import-tips-box {\n        padding: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n\n        .el-icon {\n            color: var(--el-color-warning);\n            margin-right: 5px;\n            font-size: 20px;\n        }\n\n        .tips-text {\n            line-height: 25px;\n\n            span {\n                font-size: 15px;\n                display: inline-block;\n                padding: 0px 2px;\n                color: var(--el-color-danger);\n                font-weight: bold;\n            }\n        }\n    }\n}\n\n.import-result-panel {\n    height: 350px;\n    padding-top: 80px;\n    .succes-box,\n    .error-box {\n        text-align: center;\n\n        .el-icon {\n            font-size: 100px;\n            color: var(--el-color-primary);\n        }\n\n        .title-text {\n            font-weight: bold;\n            font-size: 20px;\n            padding: 8px 0px;\n            line-height: 30px;\n        }\n\n        .subtitle-text {\n            font-size: 13px;\n            color: #666;\n\n            span {\n                font-size: 15px;\n                display: inline-block;\n                padding: 0px 2px;\n                color: var(--el-color-danger);\n                font-weight: bold;\n            }\n        }\n    }\n\n    .error-box {\n        .el-icon {\n            color: var(--el-color-danger);\n        }\n    }\n}\n</style>\n","import script from \"./batch-insert-dialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./batch-insert-dialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./batch-insert-dialog.vue?vue&type=style&index=0&id=359065de&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-359065de\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, mergeProps as _mergeProps, withCtx as _withCtx } from \"vue\"\n\nimport type { Components } from \"/#/components\";\nimport { ref } from \"vue\";\nimport { ElMessageBox, ElMessage } from \"element-plus\";\nimport systemAPI from \"@api/system\";\nimport { HANDLE_CODES } from \"@/services/constants\";\nimport searchConfig from \"./search-config\";\nimport infoFormDialog from \"./components/info-form-dialog.vue\";\nimport bindRolesDialog from \"./components/bind-roles-dialog.vue\";\nimport batchInsertDialog from \"./components/batch-insert-dialog.vue\";\n\n// search page 组件\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst searchPageRef = ref<Components.SearchPageRef>();\n\n// 是否显示信息弹窗\nconst isShowInfoDialog = ref(false);\n\n// 是否显示绑定角色弹窗\nconst isShowBindRolesDialog = ref(false);\n\n// 是否显示批量新增用户弹窗\nconst isShowBatchInsertDialog = ref(false);\n\n// 当前选中数据列\nconst selectedRow = ref();\n\n// 角色列表\nconst roleList = ref<Record<string, any>[]>([]);\n\n// 模块列表\nconst moduleList = ref<Record<string, any>[]>([]);\n\n// 获取状态的内容\nconst getStatusText = function (status) {\n    if (!status) return \"-\";\n    if (status === \"0\") {\n        return \"正常\";\n    } else if (status === \"1\") {\n        return \"锁定\";\n    }\n    return \"未知\";\n};\n\n// 数据刷新操作\nconst refreshHandle = async function () {\n    await searchPageRef.value!.query();\n};\n\n// 显示用户信息操作弹窗信息\nconst showDialogHandle = function (rows, { handleCode }) {\n    if (handleCode === HANDLE_CODES.CREATE) {\n        selectedRow.value = null;\n    } else {\n        selectedRow.value = rows;\n    }\n    if ([HANDLE_CODES.CREATE, HANDLE_CODES.UPDATE].includes(handleCode)) {\n        // 新增/修改用户信息弹窗\n        isShowInfoDialog.value = true;\n    } else if (handleCode === HANDLE_CODES.AUTH) {\n        // 显示绑定角色信息弹窗\n        isShowBindRolesDialog.value = true;\n    } else if (handleCode === HANDLE_CODES.BATCHCREATE) {\n        // 显示批量新增用户信息弹窗\n        isShowBatchInsertDialog.value = true;\n    }\n};\n\n// 重置用户密码\nconst resetUserPasswordHandle = async function (row) {\n    await ElMessageBox.confirm(\"重置后的新密码会以邮件的形式发送给用户，确定重置当前用户密码吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.resetUerPassword({ id: row.id });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 切换用户的锁定状态\nconst toggleUserLockStatusHandle = async function (row, { handleCode }) {\n    await ElMessageBox.confirm(\"确定\" + (handleCode === HANDLE_CODES.DISABLE ? \"锁定\" : \"解锁\") + \"当前用户信息吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.toggleUserLockStatus({ id: row.id, status: handleCode === HANDLE_CODES.DISABLE ? \"1\" : \"0\" });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 删除操作\nconst deleteHandle = async function (row) {\n    await ElMessageBox.confirm(\"确定删除当前用户信息吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.deleteUser({ id: row.id });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 搜索页配置数据\nconst searchConfigData = searchConfig({ showDialogHandle, toggleUserLockStatusHandle, resetUserPasswordHandle, deleteHandle });\n\nconst init = async function () {\n    // 查询模块列表\n    moduleList.value = ((await systemAPI.queryModuleList({})) as Array<Record<string, any>>) || [];\n    // 查询角色列表\n    roleList.value = ((await systemAPI.queryRoleList({})) as Array<Record<string, any>>) || [];\n};\n\ninit();\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_search_page = _resolveComponent(\"search-page\")!\n\n  return (_openBlock(), _createBlock(_component_search_page, _mergeProps(_unref(searchConfigData), {\n    ref_key: \"searchPageRef\",\n    ref: searchPageRef\n  }), {\n    dataTable_status: _withCtx((scope) => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"state-text\", { disable: scope.row.status === '1', enable: scope.row.status === '0' }])\n      }, _toDisplayString(getStatusText(scope.row.status)), 3)\n    ]),\n    default: _withCtx(() => [\n      (isShowInfoDialog.value)\n        ? (_openBlock(), _createBlock(infoFormDialog, {\n            key: 0,\n            isShow: isShowInfoDialog.value,\n            \"onUpdate:isShow\": _cache[0] || (_cache[0] = ($event: any) => ((isShowInfoDialog).value = $event)),\n            onRefresh: refreshHandle,\n            row: selectedRow.value\n          }, null, 8, [\"isShow\", \"row\"]))\n        : _createCommentVNode(\"\", true),\n      (isShowBindRolesDialog.value)\n        ? (_openBlock(), _createBlock(bindRolesDialog, {\n            key: 1,\n            isShow: isShowBindRolesDialog.value,\n            \"onUpdate:isShow\": _cache[1] || (_cache[1] = ($event: any) => ((isShowBindRolesDialog).value = $event)),\n            row: selectedRow.value,\n            roleList: roleList.value,\n            moduleList: moduleList.value\n          }, null, 8, [\"isShow\", \"row\", \"roleList\", \"moduleList\"]))\n        : _createCommentVNode(\"\", true),\n      (isShowBatchInsertDialog.value)\n        ? (_openBlock(), _createBlock(batchInsertDialog, {\n            key: 2,\n            isShow: isShowBatchInsertDialog.value,\n            \"onUpdate:isShow\": _cache[2] || (_cache[2] = ($event: any) => ((isShowBatchInsertDialog).value = $event))\n          }, null, 8, [\"isShow\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 16))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-12-28 09:43:38\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-11 21:59:25\n * @项目的路径: \\vue-manager-system\\src\\views\\system\\users\\index.vue\n * @描述: 用户管理页面\n-->\n<template>\n    <search-page v-bind=\"searchConfigData\" ref=\"searchPageRef\">\n        <template #dataTable_status=\"scope\">\n            <div class=\"state-text\" :class=\"{ disable: scope.row.status === '1', enable: scope.row.status === '0' }\">{{ getStatusText(scope.row.status) }}</div>\n        </template>\n        <info-form-dialog v-if=\"isShowInfoDialog\" v-model:isShow=\"isShowInfoDialog\" @refresh=\"refreshHandle\" :row=\"selectedRow\" />\n        <bind-roles-dialog v-if=\"isShowBindRolesDialog\" v-model:isShow=\"isShowBindRolesDialog\" :row=\"selectedRow\" :roleList=\"roleList\" :moduleList=\"moduleList\" />\n        <batch-insert-dialog v-if=\"isShowBatchInsertDialog\" v-model:isShow=\"isShowBatchInsertDialog\" />\n    </search-page>\n</template>\n<script setup lang=\"ts\">\nimport type { Components } from \"/#/components\";\nimport { ref } from \"vue\";\nimport { ElMessageBox, ElMessage } from \"element-plus\";\nimport systemAPI from \"@api/system\";\nimport { HANDLE_CODES } from \"@/services/constants\";\nimport searchConfig from \"./search-config\";\nimport infoFormDialog from \"./components/info-form-dialog.vue\";\nimport bindRolesDialog from \"./components/bind-roles-dialog.vue\";\nimport batchInsertDialog from \"./components/batch-insert-dialog.vue\";\n\n// search page 组件\nconst searchPageRef = ref<Components.SearchPageRef>();\n\n// 是否显示信息弹窗\nconst isShowInfoDialog = ref(false);\n\n// 是否显示绑定角色弹窗\nconst isShowBindRolesDialog = ref(false);\n\n// 是否显示批量新增用户弹窗\nconst isShowBatchInsertDialog = ref(false);\n\n// 当前选中数据列\nconst selectedRow = ref();\n\n// 角色列表\nconst roleList = ref<Record<string, any>[]>([]);\n\n// 模块列表\nconst moduleList = ref<Record<string, any>[]>([]);\n\n// 获取状态的内容\nconst getStatusText = function (status) {\n    if (!status) return \"-\";\n    if (status === \"0\") {\n        return \"正常\";\n    } else if (status === \"1\") {\n        return \"锁定\";\n    }\n    return \"未知\";\n};\n\n// 数据刷新操作\nconst refreshHandle = async function () {\n    await searchPageRef.value!.query();\n};\n\n// 显示用户信息操作弹窗信息\nconst showDialogHandle = function (rows, { handleCode }) {\n    if (handleCode === HANDLE_CODES.CREATE) {\n        selectedRow.value = null;\n    } else {\n        selectedRow.value = rows;\n    }\n    if ([HANDLE_CODES.CREATE, HANDLE_CODES.UPDATE].includes(handleCode)) {\n        // 新增/修改用户信息弹窗\n        isShowInfoDialog.value = true;\n    } else if (handleCode === HANDLE_CODES.AUTH) {\n        // 显示绑定角色信息弹窗\n        isShowBindRolesDialog.value = true;\n    } else if (handleCode === HANDLE_CODES.BATCHCREATE) {\n        // 显示批量新增用户信息弹窗\n        isShowBatchInsertDialog.value = true;\n    }\n};\n\n// 重置用户密码\nconst resetUserPasswordHandle = async function (row) {\n    await ElMessageBox.confirm(\"重置后的新密码会以邮件的形式发送给用户，确定重置当前用户密码吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.resetUerPassword({ id: row.id });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 切换用户的锁定状态\nconst toggleUserLockStatusHandle = async function (row, { handleCode }) {\n    await ElMessageBox.confirm(\"确定\" + (handleCode === HANDLE_CODES.DISABLE ? \"锁定\" : \"解锁\") + \"当前用户信息吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.toggleUserLockStatus({ id: row.id, status: handleCode === HANDLE_CODES.DISABLE ? \"1\" : \"0\" });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 删除操作\nconst deleteHandle = async function (row) {\n    await ElMessageBox.confirm(\"确定删除当前用户信息吗?\", \"信息确认\", {\n        customClass: \"custom-confirm\",\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n    });\n    await systemAPI.deleteUser({ id: row.id });\n    ElMessage({\n        customClass: \"custom-message\",\n        message: \"操作成功\",\n        type: \"success\"\n    });\n    refreshHandle();\n};\n\n// 搜索页配置数据\nconst searchConfigData = searchConfig({ showDialogHandle, toggleUserLockStatusHandle, resetUserPasswordHandle, deleteHandle });\n\nconst init = async function () {\n    // 查询模块列表\n    moduleList.value = ((await systemAPI.queryModuleList({})) as Array<Record<string, any>>) || [];\n    // 查询角色列表\n    roleList.value = ((await systemAPI.queryRoleList({})) as Array<Record<string, any>>) || [];\n};\n\ninit();\n</script>\n<style lang=\"scss\" scoped>\n.state-text {\n    padding-left: 12px;\n    position: relative;\n\n    &::before {\n        content: \"\";\n        position: absolute;\n        left: 0px;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 6px;\n        height: 6px;\n        background: #909399;\n        border-radius: 50%;\n    }\n\n    &.disable::before {\n        background: #e63948;\n    }\n\n    &.enable::before {\n        background: #00b85c;\n    }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=368f5169&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-368f5169\"]])\n\nexport default __exports__"],"names":["login","inputData","ajaxOptions","request","Object","assign","url","data","sendValidateCode","method","queryUnreadMessages","queryLoginUserMenus","updateLoginPassword","updateLoginUserInfo","queryPageModuleList","params","queryModuleList","addOrUpdateModule","deleteModuleById","id","queryPageMenuList","queryMenuList","addOrUpdateMenu","toggleMenuLockStatus","queryRoleListByMenuId","deleteMenu","uploadMenusExcel","file","commonApi","upload","batchInsertMenus","queryPageRoleList","queryRoleList","queryMenuListByRoleId","addOrUpdateRole","toggleRoleLockStatus","updateMenusByRoleId","deleteRole","uploadRolesExcel","batchInsertRoles","queryPageUserList","queryRoleListByUserId","addOrUpdateUser","updateRoleListByUserId","deleteUser","toggleUserLockStatus","resetUerPassword","uploadUsersExcel","batchInsertUers","queryPageMessageList","insertMessage","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","finished","type","Boolean","default","ratio","Number","validator","value","time","progress","emits","setup","__props","emit","__emit","percentage","ref","timeIntervalId","watch","start","progressAttributes","computed","textInside","strokeWidth","window","clearInterval","times","setInterval","parseInt","Math","random","toFixed","onMounted","onUnmounted","_ctx","_cache","_component_el_progress","_resolveComponent","_openBlock","_createElementBlock","_createVNode","_mergeProps","_createElementVNode","_renderSlot","$slots","__exports__","showDialogHandle","toggleUserLockStatusHandle","resetUserPasswordHandle","deleteHandle","searchFormProps","fields","name","label","isShowCollapse","actionBarProps","buttons","text","handleCode","HANDLE_CODES","CREATE","click","BATCHCREATE","dataTableProps","query","systemAPI","columns","prop","minWidth","slot","formate","width","UPDATE","AUTH","DISABLE","display","row","status","ENABLE","RESET","DELETE","isShow","dialogFormRef","inputForm","reactive","JSON","parse","stringify","disabled","maxlength","rules","required","message","formItemProps","pattern","async","inputFormValue","validate","ElMessage","success","_component_el_icon","_component_img_upload","_component_dialog_form","_createBlock","ref_key","inputFormProps","dialogProps","title","onClose","$event","avatar","_withCtx","formValue","modelValue","uploadProps","showFileList","limit","_normalizeClass","empty","_Fragment","key","src","_unref","Check","_","onClick","_withModifiers","Close","Plus","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","roleList","Array","moduleList","dialogVisible","keyword","modules","roleTableRef","dataList","selectedRoleRows","isSubmiting","getModuleText","moduleCode","find","item","code","dialogClosed","selectionChangeHandle","rows","clearSelectionHandle","clearSelection","rowClickHandle","toggleRowSelection","findIndex","deleteSelectedHandle","index","splice","searchDebounce","debounce","keywordReg","RegExp","replace","filter","role","test","length","includes","queryUserRoleList","userRoleList","userId","forEach","findRole","roleItem","roleId","push","saveHandle","roles","map","error","logs","immediate","_component_el_input","_component_el_option","_component_el_select","_component_el_table_column","_component_el_button","_component_el_dialog","onClosed","footer","_createTextVNode","loading","modelModifiers","trim","style","clearable","placeholder","Search","multiple","_renderList","module","ElTable","height","stripe","border","onSelectionChange","onRowClick","align","scope","_toDisplayString","property","Delete","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","uploadExcelRef","uploadInfo","step","isLoading","isShowProgress","fileList","uploadErrorMessage","selectColumns","tableColumnList","formatter","column","cellValue","batchInsertErrorMessage","uid","init","downExcelTemplateHandle","download","require","fileName","httpRequest","options","isShowError","e","console","info","progressFinishedHandle","uploadExceedHandle","files","clearFiles","genFileId","handleStart","toggleCheckColumn","columnProp","isCheck","indexOf","deleteDataHandle","excelUploadHandle","submit","batchInsertHandle","newItem","againUploadHandle","_component_el_step","_component_el_steps","_component_el_link","_component_el_alert","_component_el_checkbox","_component_el_table","_createCommentVNode","active","simple","icon","Upload","Histogram","Finished","virtuallyProgress","onAfterFinished","ElUpload","action","accept","trigger","innerHTML","Warning","header","checked","onChange","fixed","$index","link","CircleCloseFilled","SuccessFilled","searchPageRef","isShowInfoDialog","isShowBindRolesDialog","isShowBatchInsertDialog","selectedRow","getStatusText","refreshHandle","ElMessageBox","confirm","customClass","confirmButtonText","cancelButtonText","searchConfigData","searchConfig","_component_search_page","dataTable_status","disable","enable","infoFormDialog","onRefresh","bindRolesDialog","batchInsertDialog"],"sourceRoot":""}