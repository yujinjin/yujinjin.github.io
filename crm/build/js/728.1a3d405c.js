"use strict";(self["webpackChunkvue_manager_system"]=self["webpackChunkvue_manager_system"]||[]).push([[728],{3157:function(e,s,t){var a=t(4803),r=t(141);s.A={login(e,s){return(0,a.A)(Object.assign({url:"/system/login",data:e},s||{}))},sendValidateCode(e,s){return(0,a.A)(Object.assign({url:"/system/sendValidateCode",data:e,method:"POST"},s||{}))},queryUnreadMessages(e){return(0,a.A)(Object.assign({url:"/system/queryUnreadMessages",method:"GET"},e||{}))},queryLoginUserMenus(e){return(0,a.A)(Object.assign({url:"/system/queryLoginUserMenus",method:"GET"},e||{}))},updateLoginPassword(e,s){return(0,a.A)(Object.assign({url:"/system/updateLoginPassword",data:e},s||{}))},updateLoginUserInfo(e,s){return(0,a.A)(Object.assign({url:"/system/updateLoginUserInfo",data:e},s||{}))},queryPageModuleList(e,s){return(0,a.A)(Object.assign({url:"/system/queryPageModuleList",params:e,method:"GET"},s||{}))},queryModuleList(e,s){return(0,a.A)(Object.assign({url:"/system/queryModuleList",params:e,method:"GET"},s||{}))},addOrUpdateModule(e,s){return(0,a.A)(Object.assign({url:"/system/addOrUpdateModule",data:e},s||{}))},deleteModuleById(e,s){return(0,a.A)(Object.assign({url:"/system/deleteModuleById",data:{id:e}},s||{}))},queryPageMenuList(e,s){return(0,a.A)(Object.assign({url:"/system/queryPageMenuList",params:e,method:"GET"},s||{}))},queryMenuList(e,s){return(0,a.A)(Object.assign({url:"/system/queryMenuList",params:e,method:"GET"},s||{}))},addOrUpdateMenu(e,s){return(0,a.A)(Object.assign({url:"/system/addOrUpdateMenu",data:e},s||{}))},toggleMenuLockStatus(e,s){return(0,a.A)(Object.assign({url:"/system/updateMenuLockStatus",data:e},s||{}))},queryRoleListByMenuId(e,s){return(0,a.A)(Object.assign({url:"/system/queryRoleListByMenuId",params:e,method:"GET"},s||{}))},deleteMenu(e,s){return(0,a.A)(Object.assign({url:"/system/deleteMenu",data:e},s||{}))},uploadMenusExcel(e,s){return r.A.upload({file:e},"/system/uploadMenusExcel",s)},batchInsertMenus(e,s){return(0,a.A)(Object.assign({url:"/system/batchInsertMenus",data:e},s||{}))},queryPageRoleList(e,s){return(0,a.A)(Object.assign({url:"/system/queryPageRoleList",params:e,method:"GET"},s||{}))},queryRoleList(e,s){return(0,a.A)(Object.assign({url:"/system/queryRoleList",params:e,method:"GET"},s||{}))},queryMenuListByRoleId(e,s){return(0,a.A)(Object.assign({url:"/system/queryMenuListByRoleId",params:e,method:"GET"},s||{}))},addOrUpdateRole(e,s){return(0,a.A)(Object.assign({url:"/system/addOrUpdateRole",data:e},s||{}))},toggleRoleLockStatus(e,s){return(0,a.A)(Object.assign({url:"/system/updateRoleLockStatus",data:e},s||{}))},updateMenusByRoleId(e,s){return(0,a.A)(Object.assign({url:"/system/updateMenusByRoleId",data:e},s||{}))},deleteRole(e,s){return(0,a.A)(Object.assign({url:"/system/deleteRole",data:e},s||{}))},uploadRolesExcel(e,s){return r.A.upload({file:e},"/system/uploadRolesExcel",s)},batchInsertRoles(e,s){return(0,a.A)(Object.assign({url:"/system/batchInsertRoles",data:e},s||{}))},queryPageUserList(e,s){return(0,a.A)(Object.assign({url:"/system/queryPageUserList",method:"GET",params:e},s||{}))},queryRoleListByUserId(e,s){return(0,a.A)(Object.assign({url:"/system/queryRoleListByUserId",params:e,method:"GET"},s||{}))},addOrUpdateUser(e,s){return(0,a.A)(Object.assign({url:"/system/addOrUpdateUser",data:e},s||{}))},updateRoleListByUserId(e,s){return(0,a.A)(Object.assign({url:"/system/updateRoleListByUserId",data:e},s||{}))},deleteUser(e,s){return(0,a.A)(Object.assign({url:"/system/deleteUser",data:e},s||{}))},toggleUserLockStatus(e,s){return(0,a.A)(Object.assign({url:"/system/updateUserLockStatus",data:e},s||{}))},resetUerPassword(e,s){return(0,a.A)(Object.assign({url:"/system/resetUerPassword",data:e},s||{}))},uploadUsersExcel(e,s){return r.A.upload({file:e},"/system/uploadUsersExcel",s)},batchInsertUers(e,s){return(0,a.A)(Object.assign({url:"/system/batchInsertUers",data:e},s||{}))},queryPageMessageList(e,s){return(0,a.A)(Object.assign({url:"/system/queryPageMessageList",params:e,method:"GET"},s||{}))},insertMessage(e,s){return(0,a.A)(Object.assign({url:"/system/sendMessage",data:e},s||{}))}}},2728:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var a=t(641),r=t(953),u=t(7918),n=t(163),l=t(3157),d=t(5747);function o({showDialogHandle:e,deleteHandle:s}){return{searchFormProps:{isShowCollapse:!1,fields:[{name:"moduleName",type:"input",label:"模块名称"}]},actionBarProps:{buttons:[{text:"新增",handleCode:d.Cj.CREATE,click:e,props:{type:"primary"}}]},dataTableProps:{query:l.A.queryPageModuleList,columns:[{label:"模块名称",prop:"name",minWidth:150},{label:"模块编号",prop:"code",minWidth:150},{label:"更新人",prop:"updated",minWidth:150},{label:"更新时间",prop:"updateTime",type:"date",formate:"YYYY-MM-DD HH:mm:ss",minWidth:150},{type:"action",width:100,buttons:[{text:"修改",handleCode:d.Cj.UPDATE,click:e},{text:"删除",handleCode:d.Cj.DELETE,click:s}]}]}}}var i=(0,a.pM)({__name:"info-form-dialog",props:{isShow:{type:Boolean,default:!1},row:{type:Object}},emits:["update:isShow","refresh"],setup(e,{emit:s}){const t=e,u=s,d=(0,r.KR)(),o=(0,r.Kh)({value:t.row&&JSON.parse(JSON.stringify(t.row)),fields:[{name:"code",label:"模块编码",type:"input",props:{disabled:!!t.row,maxlength:20},rules:[{required:!0,message:"请填写"}]},{name:"name",label:"模块名称",type:"input",props:{maxlength:20},rules:[{required:!0,message:"请填写"}]}]}),i=(0,r.KR)([{text:"取消"},{text:"修改",props:{type:"primary"},click:async function(e){await(d.value?.validate()),await l.A.addOrUpdateModule(e),n.nk.success("操作"),u("refresh")}}]);return(s,t)=>{const r=(0,a.g2)("dialog-form");return(0,a.uX)(),(0,a.Wv)(r,{ref_key:"dialogFormRef",ref:d,isShow:e.isShow,buttons:i.value,inputFormProps:o,dialogProps:{title:e.row?"修改模块":"新增模块",width:"600px"},onClose:t[0]||(t[0]=e=>u("update:isShow",!1))},null,8,["isShow","buttons","inputFormProps","dialogProps"])}}});const m=i;var c=m,y=(0,a.pM)({__name:"index",setup(e){const s=(0,r.KR)(),t=(0,r.KR)(!1),i=(0,r.KR)(),m=async function(){await s.value.query()},y=function(e,{handleCode:s}){s===d.Cj.CREATE?i.value=null:i.value=e,t.value=!0},p=async function(e){await u.s.confirm("是否删除当前模块信息?","信息确认",{customClass:"custom-confirm",confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}),await l.A.deleteModuleById(e.id),(0,n.nk)({customClass:"custom-message",message:"操作成功",type:"success"}),m()},g=o({showDialogHandle:y,deleteHandle:p});return(e,u)=>{const n=(0,a.g2)("search-page");return(0,a.uX)(),(0,a.Wv)(n,(0,a.v6)((0,r.R1)(g),{ref_key:"searchPageRef",ref:s}),{default:(0,a.k6)((()=>[t.value?((0,a.uX)(),(0,a.Wv)(c,{key:0,isShow:t.value,"onUpdate:isShow":u[0]||(u[0]=e=>t.value=e),onRefresh:m,row:i.value},null,8,["isShow","row"])):(0,a.Q3)("",!0)])),_:1},16)}}});const p=y;var g=p}}]);
//# sourceMappingURL=728.1a3d405c.js.map