{"version":3,"file":"build/js/833.e79922db.js","mappings":"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","sources":["webpack://vue-manager-system/./src/api/system.ts","webpack://vue-manager-system/./src/views/home/components/messages.vue?f909","webpack://vue-manager-system/./src/views/home/components/messages.vue","webpack://vue-manager-system/./src/views/home/components/messages.vue?323c","webpack://vue-manager-system/./src/views/home/components/login-info-dialog.vue?a509","webpack://vue-manager-system/./src/views/home/components/login-info-dialog.vue","webpack://vue-manager-system/./src/views/home/components/login-info-dialog.vue?926d","webpack://vue-manager-system/./src/views/home/components/update-password-dialog.vue?5c26","webpack://vue-manager-system/./src/views/home/components/update-password-dialog.vue","webpack://vue-manager-system/./src/views/home/components/update-password-dialog.vue?59ea","webpack://vue-manager-system/./src/views/home/components/header-bar.vue?b4f8","webpack://vue-manager-system/./src/views/home/components/header-bar.vue","webpack://vue-manager-system/./src/views/home/components/header-bar.vue?9068","webpack://vue-manager-system/./src/views/home/components/menu-list.vue?9975","webpack://vue-manager-system/./src/views/home/components/menu-list.vue","webpack://vue-manager-system/./src/views/home/components/men-text.vue?09cb","webpack://vue-manager-system/./src/views/home/components/men-text.vue","webpack://vue-manager-system/./src/views/home/components/men-text.vue?7cd6","webpack://vue-manager-system/./src/views/home/components/menu-list.vue?7f5b","webpack://vue-manager-system/./src/views/home/components/side-bar.vue?6390","webpack://vue-manager-system/./src/views/home/components/side-bar.vue","webpack://vue-manager-system/./src/views/home/components/side-bar.vue?5d50","webpack://vue-manager-system/./node_modules/@better-scroll/core/dist/core.esm.js","webpack://vue-manager-system/./node_modules/@better-scroll/mouse-wheel/dist/mouse-wheel.esm.js","webpack://vue-manager-system/./src/views/home/components/page-tabs.vue?a4e1","webpack://vue-manager-system/./src/views/home/components/page-tabs.vue","webpack://vue-manager-system/./src/views/home/components/page-tabs.vue?9827","webpack://vue-manager-system/./src/views/home/components/iframe-list.vue?16b6","webpack://vue-manager-system/./src/views/home/components/iframe-list.vue","webpack://vue-manager-system/./src/views/home/components/iframe-list.vue?af56","webpack://vue-manager-system/./src/views/home/components/system-tour.vue?8d1f","webpack://vue-manager-system/./src/views/home/components/system-tour.vue","webpack://vue-manager-system/./src/views/home/components/system-tour.vue?6a06","webpack://vue-manager-system/./src/views/home/index.vue?0a72","webpack://vue-manager-system/./src/views/home/index.vue","webpack://vue-manager-system/./src/views/home/index.vue?ed4e"],"sourcesContent":["/**\n * 作者：yujinjin9@126.com\n * 时间：2019-11-28\n * 描述：系统管理API接口\n */\n\nimport type { Http } from \"../../types/http\";\nimport request from \"./request\";\nimport commonApi from \"./common\";\n\nexport default {\n    /**\n     * 用户登录\n     */\n    login(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/login\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 发送验证码\n     */\n    sendValidateCode(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/sendValidateCode\",\n                    data: inputData,\n                    method: \"POST\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 获取未读消息列表\n     */\n    queryUnreadMessages(ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryUnreadMessages\",\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询登录用户的菜单列表\n     */\n    queryLoginUserMenus<T>(ajaxOptions?: Http.RequestConfig) {\n        return request<T>(\n            Object.assign(\n                {\n                    url: \"/system/queryLoginUserMenus\",\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改当前用户登录的密码\n     */\n    updateLoginPassword(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateLoginPassword\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改当前登录用户的基本信息\n     */\n    updateLoginUserInfo(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateLoginUserInfo\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统模块列表\n     */\n    queryPageModuleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageModuleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询系统模块列表\n     */\n    queryModuleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryModuleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改模块\n     */\n    addOrUpdateModule(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateModule\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除模块\n     */\n    deleteModuleById(id: string, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteModuleById\",\n                    data: { id }\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统菜单列表\n     */\n    queryPageMenuList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageMenuList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询系统菜单列表\n     */\n    queryMenuList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryMenuList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改菜单\n     */\n    addOrUpdateMenu(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateMenu\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换菜单锁定状态信息\n     */\n    toggleMenuLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateMenuLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据菜单ID查询角色列表（菜单页面查询绑定的角色列表）\n     */\n    queryRoleListByMenuId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleListByMenuId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除菜单\n     */\n    deleteMenu(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteMenu\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量菜单EXCEL(批量新增菜单)\n     */\n    uploadMenusExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadMenusExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增菜单信息\n     */\n    batchInsertMenus(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertMenus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询角色列表\n     */\n    queryPageRoleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageRoleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 查询角色列表\n     */\n    queryRoleList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据角色ID查询菜单列表（角色页面查询绑定的菜单）\n     */\n    queryMenuListByRoleId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryMenuListByRoleId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 修改角色信息\n     */\n    addOrUpdateRole(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateRole\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换角色锁定状态信息\n     */\n    toggleRoleLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateRoleLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 更新角色的菜单列表(角色页面绑定菜单)\n     */\n    updateMenusByRoleId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateMenusByRoleId\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除角色信息\n     */\n    deleteRole(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteRole\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量角色EXCEL(批量新增角色)\n     */\n    uploadRolesExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadRolesExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增角色信息\n     */\n    batchInsertRoles(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertRoles\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询系统用户列表\n     */\n    queryPageUserList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageUserList\",\n                    method: \"GET\",\n                    params: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据用户ID查询角色列表（用户页面查询绑定角色列表）\n     */\n    queryRoleListByUserId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryRoleListByUserId\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 新增或修改用户信息\n     */\n    addOrUpdateUser(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/addOrUpdateUser\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 根据用户ID绑定角色列表（用户页面绑定角色信息）\n     */\n    updateRoleListByUserId(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateRoleListByUserId\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 删除用户信息\n     */\n    deleteUser(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/deleteUser\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 切换用户锁定状态信息\n     */\n    toggleUserLockStatus(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/updateUserLockStatus\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 重置用户密码\n     */\n    resetUerPassword(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/resetUerPassword\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 上传批量用户EXCEL(批量新增用户)\n     */\n    uploadUsersExcel(file: File, ajaxOptions?: Http.RequestConfig) {\n        return commonApi.upload({ file }, \"/system/uploadUsersExcel\", ajaxOptions);\n    },\n\n    /**\n     * 批量新增用户信息\n     */\n    batchInsertUers(inputData: Record<string, any>[], ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/batchInsertUers\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 分页查询站内信列表（创建的数量）\n     */\n    queryPageMessageList(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/queryPageMessageList\",\n                    params: inputData,\n                    method: \"GET\"\n                },\n                ajaxOptions || {}\n            )\n        );\n    },\n\n    /**\n     * 发送站内信\n     */\n    insertMessage(inputData: Record<string, any>, ajaxOptions?: Http.RequestConfig) {\n        return request(\n            Object.assign(\n                {\n                    url: \"/system/sendMessage\",\n                    data: inputData\n                },\n                ajaxOptions || {}\n            )\n        );\n    }\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createBlock as _createBlock, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@imgs/test/head.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-39be61b1\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"el-dropdown-link\" }\nconst _hoisted_2 = { class: \"message-item\" }\nconst _hoisted_3 = { class: \"avatar-img\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = {\n  key: 1,\n  src: _imports_0\n}\nconst _hoisted_6 = { class: \"inner-info\" }\nconst _hoisted_7 = { class: \"title-text text-ellipsis-block\" }\nconst _hoisted_8 = { class: \"subtitle-text text-ellipsis-block\" }\nconst _hoisted_9 = { class: \"time-text\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"message-footer\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-box\" }, \"查看更多\"),\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-box\" }, \"清空消息\")\n], -1))\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"message-item no-data\" }, [\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"icomoon-info\" }),\n  /*#__PURE__*/_createTextVNode(\" 没有未读消息 \")\n], -1))\n\nimport { ref } from \"vue\";\nimport type { Ref } from \"vue\";\nimport { ChatLineRound } from \"@element-plus/icons-vue\";\nimport systemAPI from \"@api/system\";\nimport { timeDifferenceFormat } from \"@yujinjin/utils\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'messages',\n  setup(__props) {\n\nconst unreadMessages: Ref<Record<string, any>[]> = ref([]);\n\n// 查询未读消息列表\nconst queryUnreadMessages = async function () {\n    unreadMessages.value = (await systemAPI.queryUnreadMessages()) as Record<string, any>[];\n};\n\n// 消息查看\nconst messageCommandHandle = function (index) {\n    // TODO: 消息操作\n    logs.info(\"messageCommandHandle.........\" + unreadMessages.value[index]);\n};\n\nqueryUnreadMessages();\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_badge = _resolveComponent(\"el-badge\")!\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\")!\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\")!\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\")!\n\n  return (_openBlock(), _createBlock(_component_el_dropdown, { onCommand: messageCommandHandle }, {\n    dropdown: _withCtx(() => [\n      _createVNode(_component_el_dropdown_menu, null, {\n        default: _withCtx(() => [\n          (unreadMessages.value.length > 0)\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(unreadMessages.value.slice(0, 4), (messageItem, index) => {\n                  return (_openBlock(), _createBlock(_component_el_dropdown_item, {\n                    key: messageItem.id,\n                    command: index\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"div\", _hoisted_3, [\n                          (messageItem.senderAvatar)\n                            ? (_openBlock(), _createElementBlock(\"img\", {\n                                key: 0,\n                                src: messageItem.senderAvatar\n                              }, null, 8, _hoisted_4))\n                            : (_openBlock(), _createElementBlock(\"img\", _hoisted_5))\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                          _createElementVNode(\"div\", _hoisted_7, _toDisplayString(messageItem.title), 1),\n                          _createElementVNode(\"div\", _hoisted_8, _toDisplayString(messageItem.content), 1),\n                          _createElementVNode(\"div\", _hoisted_9, _toDisplayString(_unref(timeDifferenceFormat)(messageItem.sendTime)), 1)\n                        ])\n                      ])\n                    ]),\n                    _: 2\n                  }, 1032, [\"command\"]))\n                }), 128)),\n                _createVNode(_component_el_dropdown_item, null, {\n                  default: _withCtx(() => [\n                    _hoisted_10\n                  ]),\n                  _: 1\n                })\n              ], 64))\n            : (_openBlock(), _createBlock(_component_el_dropdown_item, {\n                key: 1,\n                command: -1\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_11\n                ]),\n                _: 1\n              }))\n        ]),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"span\", _hoisted_1, [\n        _createVNode(_component_el_badge, {\n          value: unreadMessages.value.length,\n          max: 99,\n          hidden: unreadMessages.value.length <= 0\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(ChatLineRound))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"value\", \"hidden\"])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2022-08-09 13:49:25\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-04 15:01:20\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\messages.vue\n * @描述: 消息列表\n-->\n<template>\n    <el-dropdown @command=\"messageCommandHandle\">\n        <span class=\"el-dropdown-link\">\n            <el-badge :value=\"unreadMessages.length\" :max=\"99\" :hidden=\"unreadMessages.length <= 0\">\n                <el-icon><ChatLineRound /></el-icon>\n            </el-badge>\n        </span>\n        <template #dropdown>\n            <el-dropdown-menu>\n                <template v-if=\"unreadMessages.length > 0\">\n                    <el-dropdown-item v-for=\"(messageItem, index) in unreadMessages.slice(0, 4)\" :key=\"messageItem.id\" :command=\"index\">\n                        <div class=\"message-item\">\n                            <div class=\"avatar-img\">\n                                <img v-if=\"messageItem.senderAvatar\" :src=\"messageItem.senderAvatar\" />\n                                <img v-else src=\"@imgs/test/head.png\" />\n                            </div>\n                            <div class=\"inner-info\">\n                                <div class=\"title-text text-ellipsis-block\">{{ messageItem.title }}</div>\n                                <div class=\"subtitle-text text-ellipsis-block\">{{ messageItem.content }}</div>\n                                <div class=\"time-text\">{{ timeDifferenceFormat(messageItem.sendTime) }}</div>\n                            </div>\n                        </div>\n                    </el-dropdown-item>\n                    <el-dropdown-item>\n                        <div class=\"message-footer\">\n                            <div class=\"text-box\">查看更多</div>\n                            <div class=\"text-box\">清空消息</div>\n                        </div>\n                    </el-dropdown-item>\n                </template>\n                <template v-else>\n                    <el-dropdown-item :command=\"-1\">\n                        <div class=\"message-item no-data\">\n                            <i class=\"icomoon-info\"></i>\n                            没有未读消息\n                        </div>\n                    </el-dropdown-item>\n                </template>\n            </el-dropdown-menu>\n        </template>\n    </el-dropdown>\n</template>\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport type { Ref } from \"vue\";\nimport { ChatLineRound } from \"@element-plus/icons-vue\";\nimport systemAPI from \"@api/system\";\nimport { timeDifferenceFormat } from \"@yujinjin/utils\";\n\nconst unreadMessages: Ref<Record<string, any>[]> = ref([]);\n\n// 查询未读消息列表\nconst queryUnreadMessages = async function () {\n    unreadMessages.value = (await systemAPI.queryUnreadMessages()) as Record<string, any>[];\n};\n\n// 消息查看\nconst messageCommandHandle = function (index) {\n    // TODO: 消息操作\n    logs.info(\"messageCommandHandle.........\" + unreadMessages.value[index]);\n};\n\nqueryUnreadMessages();\n</script>\n<style lang=\"scss\" scoped>\n.el-icon {\n    color: #606266;\n    font-size: 18px;\n}\n\n:deep(.el-dropdown-menu__item) {\n    padding: 0px;\n}\n\n.message-item {\n    padding: 8px;\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid #f7f7f7;\n\n    // &:hover {\n    //     background-color: #f7f7f7;\n    // }\n\n    .avatar-img {\n        height: 40px;\n        width: 40px;\n        flex-shrink: 0;\n\n        img {\n            height: 40px;\n            width: 40px;\n        }\n    }\n\n    .inner-info {\n        flex: 1;\n        width: 180px;\n        padding-left: 5px;\n        line-height: 18px;\n        display: flex;\n        flex-direction: column;\n\n        .title-text {\n            font-size: 12px;\n        }\n\n        .subtitle-text {\n            font-size: 12px;\n            color: #999999;\n        }\n\n        .time-text {\n            text-align: right;\n            font-size: 11px;\n            color: var(--el-color-primary);\n            line-height: 12px;\n        }\n    }\n}\n\n.message-footer {\n    display: flex;\n    text-align: center;\n    width: 100%;\n    font-size: 12px;\n    line-height: 32px;\n    color: #666;\n\n    &:hover {\n        background-color: #fff;\n    }\n\n    .text-box {\n        flex: 1;\n\n        &:hover {\n            color: var(--el-color-primary);\n        }\n    }\n}\n</style>\n","import script from \"./messages.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./messages.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./messages.vue?vue&type=style&index=0&id=39be61b1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39be61b1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d7c13796\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"status-label\" }\n\nimport type { Ref } from \"vue\";\nimport type { Components } from \"/#/components\";\nimport type { DialogProps } from \"element-plus\";\nimport type { NotReadonly } from \"/#/global\";\nimport { ref, reactive } from \"vue\";\nimport { storageStore } from \"@/stores\";\nimport { Plus, Check, Close } from \"@element-plus/icons-vue\";\nimport { ElMessage } from \"element-plus\";\nimport systemAPI from \"@api/system\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'login-info-dialog',\n  props: {\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: [\"update:isShow\"],\n  setup(__props, { emit: __emit }) {\n\n\n\nconst emits = __emit;\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 存储data\nconst storageData = storageStore();\n\n// 弹窗属性\nconst dialogProps = reactive<Partial<NotReadonly<DialogProps>>>({\n    title: \"修改用户信息\",\n    width: \"500px\"\n});\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    fields: [\n        {\n            name: \"userName\",\n            label: \"用户名\",\n            type: \"label\",\n            value: storageData.loginUserInfo.userName\n        },\n        {\n            name: \"gender\",\n            label: \"性别\",\n            type: \"radio\",\n            data: [\n                {\n                    value: \"1\",\n                    label: \"男\"\n                },\n                {\n                    value: \"2\",\n                    label: \"女\"\n                }\n            ],\n            value: storageData.loginUserInfo.gender\n        },\n        {\n            name: \"avatar\",\n            label: \"头像\",\n            slot: \"avatar\",\n            value: storageData.loginUserInfo.avatar\n        },\n        {\n            name: \"email\",\n            label: \"EMAIL\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入EMAIL\" },\n                    { type: \"email\", message: \"请输入正确格式的邮箱\" }\n                ]\n            },\n            value: storageData.loginUserInfo.email\n        },\n        {\n            name: \"phoneNumber\",\n            label: \"手机号\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入手机号\" },\n                    { pattern: /^1[3456789]\\d{9}$/, message: \"请输入正确格式的手机号\" }\n                ]\n            },\n            value: storageData.loginUserInfo.phoneNumber\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons: Ref<Components.FormButton[]> = ref([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"修改\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.updateLoginUserInfo(inputFormValue);\n            // 这里更新一下store中登录的用户信息（根据实际业务考虑也更新一下本地localstorage存储的用户信息，这里就不做更新了）\n            storageData.$patch(state => {\n                state.loginUserInfo.avatar = inputFormValue.avatar;\n                state.loginUserInfo.email = inputFormValue.email;\n                state.loginUserInfo.phoneNumber = inputFormValue.phoneNumber;\n                state.loginUserInfo.gender = inputFormValue.gender;\n            });\n            ElMessage.success(\"用户信息修改成功\");\n        }\n    }\n]);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_img_upload = _resolveComponent(\"img-upload\")!\n  const _component_dialog_form = _resolveComponent(\"dialog-form\")!\n\n  return (_openBlock(), _createBlock(_component_dialog_form, {\n    isShow: __props.isShow,\n    ref_key: \"dialogFormRef\",\n    ref: dialogFormRef,\n    buttons: buttons.value,\n    inputFormProps: inputForm,\n    dialogProps: dialogProps,\n    onClose: _cache[0] || (_cache[0] = ($event: any) => (emits('update:isShow', false)))\n  }, {\n    avatar: _withCtx(({ formValue }) => [\n      _createVNode(_component_img_upload, {\n        modelValue: formValue.avatar,\n        \"onUpdate:modelValue\": ($event: any) => ((formValue.avatar) = $event),\n        uploadProps: { showFileList: false, class: 'upload-avatar', limit: 1 },\n        cropperProps: true\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"avatar-box\", { empty: !formValue.avatar }])\n          }, [\n            (formValue.avatar)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"img\", {\n                    src: formValue.avatar,\n                    class: \"avatar-pic\"\n                  }, null, 8, _hoisted_1),\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createVNode(_component_el_icon, { class: \"icon-check\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Check))\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_el_icon, {\n                      class: \"icon-close\",\n                      onClick: _withModifiers(($event: any) => (formValue.avatar = null), [\"stop\"])\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Close))\n                      ]),\n                      _: 2\n                    }, 1032, [\"onClick\"])\n                  ])\n                ], 64))\n              : (_openBlock(), _createBlock(_component_el_icon, {\n                  key: 1,\n                  class: \"avatar-uploader-icon\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(Plus))\n                  ]),\n                  _: 1\n                }))\n          ], 2)\n        ]),\n        _: 2\n      }, 1032, [\"modelValue\", \"onUpdate:modelValue\"])\n    ]),\n    _: 1\n  }, 8, [\"isShow\", \"buttons\", \"inputFormProps\", \"dialogProps\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2022-08-09 13:49:25\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-05 17:18:40\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\login-info-dialog.vue\n * @描述: 登录用户信息弹窗\n-->\n<template>\n    <dialog-form :isShow=\"isShow\" ref=\"dialogFormRef\" :buttons=\"buttons\" :inputFormProps=\"inputForm\" :dialogProps=\"dialogProps\" @close=\"emits('update:isShow', false)\">\n        <template #avatar=\"{ formValue }\">\n            <img-upload v-model=\"formValue.avatar\" :uploadProps=\"{ showFileList: false, class: 'upload-avatar', limit: 1 }\" :cropperProps=\"true\">\n                <div class=\"avatar-box\" :class=\"{ empty: !formValue.avatar }\">\n                    <template v-if=\"formValue.avatar\">\n                        <img :src=\"formValue.avatar\" class=\"avatar-pic\" />\n                        <div class=\"status-label\">\n                            <el-icon class=\"icon-check\"><Check /></el-icon>\n                            <el-icon class=\"icon-close\" @click.stop=\"formValue.avatar = null\"><Close /></el-icon>\n                        </div>\n                    </template>\n                    <el-icon v-else class=\"avatar-uploader-icon\"><Plus /></el-icon>\n                </div>\n            </img-upload>\n        </template>\n    </dialog-form>\n</template>\n<script setup lang=\"ts\">\nimport type { Ref } from \"vue\";\nimport type { Components } from \"/#/components\";\nimport type { DialogProps } from \"element-plus\";\nimport type { NotReadonly } from \"/#/global\";\nimport { ref, reactive } from \"vue\";\nimport { storageStore } from \"@/stores\";\nimport { Plus, Check, Close } from \"@element-plus/icons-vue\";\nimport { ElMessage } from \"element-plus\";\nimport systemAPI from \"@api/system\";\n\ndefineProps({\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst emits = defineEmits([\"update:isShow\"]);\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 存储data\nconst storageData = storageStore();\n\n// 弹窗属性\nconst dialogProps = reactive<Partial<NotReadonly<DialogProps>>>({\n    title: \"修改用户信息\",\n    width: \"500px\"\n});\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    fields: [\n        {\n            name: \"userName\",\n            label: \"用户名\",\n            type: \"label\",\n            value: storageData.loginUserInfo.userName\n        },\n        {\n            name: \"gender\",\n            label: \"性别\",\n            type: \"radio\",\n            data: [\n                {\n                    value: \"1\",\n                    label: \"男\"\n                },\n                {\n                    value: \"2\",\n                    label: \"女\"\n                }\n            ],\n            value: storageData.loginUserInfo.gender\n        },\n        {\n            name: \"avatar\",\n            label: \"头像\",\n            slot: \"avatar\",\n            value: storageData.loginUserInfo.avatar\n        },\n        {\n            name: \"email\",\n            label: \"EMAIL\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入EMAIL\" },\n                    { type: \"email\", message: \"请输入正确格式的邮箱\" }\n                ]\n            },\n            value: storageData.loginUserInfo.email\n        },\n        {\n            name: \"phoneNumber\",\n            label: \"手机号\",\n            type: \"input\",\n            formItemProps: {\n                rules: [\n                    { required: true, message: \"请输入手机号\" },\n                    { pattern: /^1[3456789]\\d{9}$/, message: \"请输入正确格式的手机号\" }\n                ]\n            },\n            value: storageData.loginUserInfo.phoneNumber\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons: Ref<Components.FormButton[]> = ref([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"修改\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.updateLoginUserInfo(inputFormValue);\n            // 这里更新一下store中登录的用户信息（根据实际业务考虑也更新一下本地localstorage存储的用户信息，这里就不做更新了）\n            storageData.$patch(state => {\n                state.loginUserInfo.avatar = inputFormValue.avatar;\n                state.loginUserInfo.email = inputFormValue.email;\n                state.loginUserInfo.phoneNumber = inputFormValue.phoneNumber;\n                state.loginUserInfo.gender = inputFormValue.gender;\n            });\n            ElMessage.success(\"用户信息修改成功\");\n        }\n    }\n]);\n</script>\n<style lang=\"scss\" scoped>\n:deep(.upload-avatar) {\n    .avatar-box {\n        width: 100px;\n        height: 100px;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n        transition: var(--el-transition-duration-fast);\n        border: 1px solid var(--el-border-color);\n        &.empty:hover {\n            border-color: var(--el-color-primary);\n        }\n\n        .avatar-pic {\n            object-fit: contain;\n            width: 100%;\n            height: 100%;\n        }\n\n        .status-label {\n            right: -15px;\n            top: -6px;\n            width: 40px;\n            height: 24px;\n            background: var(--el-color-primary);\n            text-align: center;\n            transform: rotate(45deg);\n            position: absolute;\n            line-height: inherit;\n            justify-content: center;\n            align-items: center;\n            transition: opacity var(--el-transition-duration);\n\n            i {\n                font-size: 12px;\n                margin-top: 11px;\n                transform: rotate(-45deg);\n                color: #fff;\n            }\n\n            i.icon-close {\n                display: none;\n            }\n\n            &:hover {\n                background-color: rgba(0, 0, 0, 0.5);\n                i.icon-check {\n                    display: none;\n                }\n\n                i.icon-close {\n                    display: inline-flex;\n                }\n            }\n        }\n\n        .el-icon.avatar-uploader-icon {\n            font-size: 28px;\n            color: #8c939d;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n        }\n    }\n}\n</style>\n","import script from \"./login-info-dialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./login-info-dialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./login-info-dialog.vue?vue&type=style&index=0&id=d7c13796&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d7c13796\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport type { Components } from \"/#/components\";\nimport { ref, reactive } from \"vue\";\nimport systemAPI from \"@api/system\";\nimport { storageStore } from \"@/stores\";\nimport { ElMessage } from \"element-plus\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'update-password-dialog',\n  props: {\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: [\"update:isShow\"],\n  setup(__props, { emit: __emit }) {\n\n\n\nconst emits = __emit;\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 存储data\nconst storageData = storageStore();\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    fields: [\n        {\n            name: \"userName\",\n            label: \"用户名\",\n            type: \"label\",\n            value: storageData.loginUserInfo.userName\n        },\n        {\n            name: \"password\",\n            label: \"旧密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"newPassword\",\n            label: \"新密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [\n                { required: true, message: \"请输入新密码\" },\n                {\n                    pattern: /(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[^\\w\\s])^([0-9A-Za-z]|[^\\w\\s]){8,20}$/,\n                    message: \"密码内容长度8-20位，且必须是数字、小写字母、大写字母、特殊字符这四种组合\",\n                    trigger: [\"blur\"]\n                }\n            ]\n        },\n        {\n            name: \"repeatPassword\",\n            label: \"确认密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [\n                { required: true, message: \"请输入确认密码\" },\n                {\n                    validator: function (rule, value, callback) {\n                        const formValue = dialogFormRef.value!.getInputValue();\n                        if (formValue.newPassword && value !== formValue.newPassword) {\n                            callback(new Error(\"两次密码输入的不一样\"));\n                        } else {\n                            callback();\n                        }\n                    }\n                }\n            ]\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons = ref<Components.FormButton[]>([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"修改\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.updateLoginPassword(inputFormValue);\n            ElMessage.success(\"密码修改成功\");\n            emits(\"update:isShow\", false);\n        }\n    }\n]);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_dialog_form = _resolveComponent(\"dialog-form\")!\n\n  return (_openBlock(), _createBlock(_component_dialog_form, {\n    ref_key: \"dialogFormRef\",\n    ref: dialogFormRef,\n    isShow: __props.isShow,\n    buttons: buttons.value,\n    inputFormProps: inputForm,\n    dialogProps: { title: '修改密码', width: '500px' },\n    onClose: _cache[0] || (_cache[0] = ($event: any) => (emits('update:isShow', false)))\n  }, null, 8, [\"isShow\", \"buttons\", \"inputFormProps\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2022-08-09 13:49:25\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-05 17:18:08\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\update-password-dialog.vue\n * @描述: 修改密码弹窗\n-->\n<template>\n    <dialog-form ref=\"dialogFormRef\" :isShow=\"isShow\" :buttons=\"buttons\" :inputFormProps=\"inputForm\" :dialogProps=\"{ title: '修改密码', width: '500px' }\" @close=\"emits('update:isShow', false)\" />\n</template>\n<script setup lang=\"ts\">\nimport type { Components } from \"/#/components\";\nimport { ref, reactive } from \"vue\";\nimport systemAPI from \"@api/system\";\nimport { storageStore } from \"@/stores\";\nimport { ElMessage } from \"element-plus\";\n\ndefineProps({\n    // 是否显示弹窗\n    isShow: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst emits = defineEmits([\"update:isShow\"]);\n\nconst dialogFormRef = ref<Components.DialogFormRef>();\n\n// 存储data\nconst storageData = storageStore();\n\n// 输入表单信息\nconst inputForm = reactive<Components.InputForm>({\n    fields: [\n        {\n            name: \"userName\",\n            label: \"用户名\",\n            type: \"label\",\n            value: storageData.loginUserInfo.userName\n        },\n        {\n            name: \"password\",\n            label: \"旧密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [{ required: true, message: \"请填写\" }]\n        },\n        {\n            name: \"newPassword\",\n            label: \"新密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [\n                { required: true, message: \"请输入新密码\" },\n                {\n                    pattern: /(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[^\\w\\s])^([0-9A-Za-z]|[^\\w\\s]){8,20}$/,\n                    message: \"密码内容长度8-20位，且必须是数字、小写字母、大写字母、特殊字符这四种组合\",\n                    trigger: [\"blur\"]\n                }\n            ]\n        },\n        {\n            name: \"repeatPassword\",\n            label: \"确认密码\",\n            type: \"input\",\n            props: {\n                type: \"password\",\n                maxlength: 20\n            },\n            rules: [\n                { required: true, message: \"请输入确认密码\" },\n                {\n                    validator: function (rule, value, callback) {\n                        const formValue = dialogFormRef.value!.getInputValue();\n                        if (formValue.newPassword && value !== formValue.newPassword) {\n                            callback(new Error(\"两次密码输入的不一样\"));\n                        } else {\n                            callback();\n                        }\n                    }\n                }\n            ]\n        }\n    ]\n});\n\n// 底部按钮列表\nconst buttons = ref<Components.FormButton[]>([\n    {\n        text: \"取消\"\n    },\n    {\n        text: \"修改\",\n        props: { type: \"primary\" },\n        click: async function (inputFormValue) {\n            await dialogFormRef.value?.validate();\n            await systemAPI.updateLoginPassword(inputFormValue);\n            ElMessage.success(\"密码修改成功\");\n            emits(\"update:isShow\", false);\n        }\n    }\n]);\n</script>\n","import script from \"./update-password-dialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./update-password-dialog.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-66fe3736\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header-bar\" }\nconst _hoisted_2 = { class: \"left-inner\" }\nconst _hoisted_3 = { class: \"logo-box\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"title-text\" }, \"中台管理系统\", -1))\nconst _hoisted_5 = { class: \"center-inner\" }\nconst _hoisted_6 = { class: \"right-inner\" }\nconst _hoisted_7 = { class: \"message-box\" }\nconst _hoisted_8 = { class: \"icon-box\" }\nconst _hoisted_9 = { class: \"login-info-box\" }\nconst _hoisted_10 = { class: \"el-dropdown-link name-info\" }\nconst _hoisted_11 = { class: \"avatar-box\" }\nconst _hoisted_12 = [\"src\"]\nconst _hoisted_13 = { class: \"user-name-text text-ellipsis-block\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"icomoon-user\" }, null, -1))\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"dropdown-text\" }, \"我的账户\", -1))\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"icomoon-cog\" }, null, -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"dropdown-text\" }, \"修改密码\", -1))\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"icomoon-switch\" }, null, -1))\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"dropdown-text\" }, \"退出\", -1))\n\nimport type { PropType, Ref } from \"vue\";\nimport type { Router } from \"vue-router\";\nimport { computed } from \"vue\";\nimport { ref } from \"vue\";\nimport { Refresh, CaretBottom, ArrowRight } from \"@element-plus/icons-vue\";\nimport { useRouter } from \"vue-router\";\nimport { storageStore, pageViewsStore } from \"@/stores\";\nimport { transitRoutePath } from \"@/routers\";\nimport messages from \"./messages.vue\";\nimport loginInfoDialog from \"./login-info-dialog.vue\";\nimport updatePasswordDialog from \"./update-password-dialog.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'header-bar',\n  props: {\n    menuCollapseState: {\n        type: Boolean\n    },\n    breadcrumbNames: {\n        type: Array as PropType<Array<string>>\n    }\n},\n  emits: [\"toggleMenuCollapseState\"],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emits = __emit;\n\n// 全局路由对象\nconst router: Router = useRouter();\n\n// 存储data\nconst storageData = storageStore();\n\n// vuex\nconst pageViews = pageViewsStore();\n\n// 是否显示修改用户信息弹窗\nconst isShowUserInfoDialog: Ref<boolean> = ref(false);\n\n// 是否显示修改用户密码弹窗\nconst isShowUpdatePasswordDialog = ref<boolean>(false);\n\n// 省略面包屑名称（导航的名称最多显示6层，超过之后用省略号表示）\nconst omitBreadcrumbNames = computed(() => {\n    if (props.breadcrumbNames && props.breadcrumbNames.length > 5) {\n        return [props.breadcrumbNames![0], \"...\", ...props.breadcrumbNames!.slice(-4)];\n    }\n    return props.breadcrumbNames || [];\n});\n\nconst refreshCurrentPageHandle = function () {\n    const index = pageViews.currentVisiteIndex;\n    if (pageViews.visitedViews[index].isIframe) {\n        // 刷新iframe\n        (document.querySelector(\"iframe[id='\" + pageViews.visitedViews[index].id + \"']\") as HTMLIFrameElement).src = pageViews.visitedViews[index].fullPath;\n    } else {\n        // 当前正在展示的单页刷新\n        router.push(transitRoutePath({ pageIndex: index }));\n    }\n};\n\n// 切换菜单折叠状态\nconst toggleMenuCollapseState = function () {\n    emits(\"toggleMenuCollapseState\");\n};\n\nconst loginUserCommandHandle = function (command) {\n    if (command === \"showUserInfoDialog\") {\n        isShowUserInfoDialog.value = true;\n    } else if (command === \"showUpdatePasswordDialog\") {\n        isShowUpdatePasswordDialog.value = true;\n    }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_svg_icon = _resolveComponent(\"svg-icon\")!\n  const _component_el_breadcrumb_item = _resolveComponent(\"el-breadcrumb-item\")!\n  const _component_el_breadcrumb = _resolveComponent(\"el-breadcrumb\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\")!\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\")!\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(_component_svg_icon, {\n          class: \"logo\",\n          value: \"vue-logo\"\n        })\n      ]),\n      _hoisted_4,\n      _createElementVNode(\"div\", {\n        class: \"icon-box\",\n        onClick: toggleMenuCollapseState\n      }, [\n        _createVNode(_component_svg_icon, {\n          class: _normalizeClass({ actived: __props.menuCollapseState }),\n          value: \"fold\"\n        }, null, 8, [\"class\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (omitBreadcrumbNames.value.length > 0)\n        ? (_openBlock(), _createBlock(_component_el_breadcrumb, {\n            key: 0,\n            \"separator-icon\": _unref(ArrowRight)\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(omitBreadcrumbNames.value, (name, index) => {\n                return (_openBlock(), _createBlock(_component_el_breadcrumb_item, { key: index }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(name || \"-\"), 1)\n                  ]),\n                  _: 2\n                }, 1024))\n              }), 128))\n            ]),\n            _: 1\n          }, 8, [\"separator-icon\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(messages)\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(_component_el_tooltip, { content: \"刷新当前正在展示的内容页\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, { onClick: refreshCurrentPageHandle }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Refresh))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(_component_el_dropdown, { onCommand: loginUserCommandHandle }, {\n          dropdown: _withCtx(() => [\n            _createVNode(_component_el_dropdown_menu, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_dropdown_item, { command: \"showUserInfoDialog\" }, {\n                  default: _withCtx(() => [\n                    _hoisted_14,\n                    _hoisted_15\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_dropdown_item, { command: \"showUpdatePasswordDialog\" }, {\n                  default: _withCtx(() => [\n                    _hoisted_16,\n                    _hoisted_17\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_dropdown_item, {\n                  command: \"logout\",\n                  divided: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_18,\n                    _hoisted_19\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", _hoisted_10, [\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"img\", {\n                  src: _unref(storageData).loginUserInfo.avatar,\n                  height: \"24\",\n                  width: \"24\"\n                }, null, 8, _hoisted_12)\n              ]),\n              _createElementVNode(\"div\", _hoisted_13, _toDisplayString(_unref(storageData).loginUserInfo.userName), 1),\n              _createVNode(_component_el_icon, { class: \"el-icon--right\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(CaretBottom))\n                ]),\n                _: 1\n              })\n            ])\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _createVNode(loginInfoDialog, {\n      isShow: isShowUserInfoDialog.value,\n      \"onUpdate:isShow\": _cache[0] || (_cache[0] = ($event: any) => ((isShowUserInfoDialog).value = $event))\n    }, null, 8, [\"isShow\"]),\n    _createVNode(updatePasswordDialog, {\n      isShow: isShowUpdatePasswordDialog.value,\n      \"onUpdate:isShow\": _cache[1] || (_cache[1] = ($event: any) => ((isShowUpdatePasswordDialog).value = $event))\n    }, null, 8, [\"isShow\"])\n  ]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2022-12-16 13:53:57\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-01 10:55:09\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\header-bar.vue\n * @描述: home 头部\n-->\n<template>\n    <div class=\"header-bar\">\n        <div class=\"left-inner\">\n            <div class=\"logo-box\">\n                <svg-icon class=\"logo\" value=\"vue-logo\" />\n            </div>\n            <div class=\"title-text\">中台管理系统</div>\n            <div class=\"icon-box\" @click=\"toggleMenuCollapseState\">\n                <svg-icon :class=\"{ actived: menuCollapseState }\" value=\"fold\" />\n            </div>\n        </div>\n        <div class=\"center-inner\">\n            <el-breadcrumb :separator-icon=\"ArrowRight\" v-if=\"omitBreadcrumbNames.length > 0\">\n                <el-breadcrumb-item v-for=\"(name, index) in omitBreadcrumbNames\" :key=\"index\">{{ name || \"-\" }}</el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"right-inner\">\n            <div class=\"message-box\"><messages /></div>\n            <div class=\"icon-box\">\n                <el-tooltip content=\"刷新当前正在展示的内容页\">\n                    <el-icon @click=\"refreshCurrentPageHandle\"><Refresh /></el-icon>\n                </el-tooltip>\n            </div>\n            <div class=\"login-info-box\">\n                <el-dropdown @command=\"loginUserCommandHandle\">\n                    <span class=\"el-dropdown-link name-info\">\n                        <div class=\"avatar-box\">\n                            <img :src=\"storageData.loginUserInfo.avatar\" height=\"24\" width=\"24\" />\n                        </div>\n                        <div class=\"user-name-text text-ellipsis-block\">{{ storageData.loginUserInfo.userName }}</div>\n                        <el-icon class=\"el-icon--right\"><CaretBottom /></el-icon>\n                    </span>\n                    <template #dropdown>\n                        <el-dropdown-menu>\n                            <el-dropdown-item command=\"showUserInfoDialog\">\n                                <i class=\"icomoon-user\"></i>\n                                <span class=\"dropdown-text\">我的账户</span>\n                            </el-dropdown-item>\n                            <el-dropdown-item command=\"showUpdatePasswordDialog\">\n                                <i class=\"icomoon-cog\"></i>\n                                <span class=\"dropdown-text\">修改密码</span>\n                            </el-dropdown-item>\n                            <el-dropdown-item command=\"logout\" divided>\n                                <i class=\"icomoon-switch\"></i>\n                                <span class=\"dropdown-text\">退出</span>\n                            </el-dropdown-item>\n                        </el-dropdown-menu>\n                    </template>\n                </el-dropdown>\n            </div>\n        </div>\n        <login-info-dialog v-model:isShow=\"isShowUserInfoDialog\" />\n        <update-password-dialog v-model:isShow=\"isShowUpdatePasswordDialog\" />\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport type { PropType, Ref } from \"vue\";\nimport type { Router } from \"vue-router\";\nimport { computed } from \"vue\";\nimport { ref } from \"vue\";\nimport { Refresh, CaretBottom, ArrowRight } from \"@element-plus/icons-vue\";\nimport { useRouter } from \"vue-router\";\nimport { storageStore, pageViewsStore } from \"@/stores\";\nimport { transitRoutePath } from \"@/routers\";\nimport messages from \"./messages.vue\";\nimport loginInfoDialog from \"./login-info-dialog.vue\";\nimport updatePasswordDialog from \"./update-password-dialog.vue\";\n\nconst props = defineProps({\n    menuCollapseState: {\n        type: Boolean\n    },\n    breadcrumbNames: {\n        type: Array as PropType<Array<string>>\n    }\n});\n\nconst emits = defineEmits([\"toggleMenuCollapseState\"]);\n\n// 全局路由对象\nconst router: Router = useRouter();\n\n// 存储data\nconst storageData = storageStore();\n\n// vuex\nconst pageViews = pageViewsStore();\n\n// 是否显示修改用户信息弹窗\nconst isShowUserInfoDialog: Ref<boolean> = ref(false);\n\n// 是否显示修改用户密码弹窗\nconst isShowUpdatePasswordDialog = ref<boolean>(false);\n\n// 省略面包屑名称（导航的名称最多显示6层，超过之后用省略号表示）\nconst omitBreadcrumbNames = computed(() => {\n    if (props.breadcrumbNames && props.breadcrumbNames.length > 5) {\n        return [props.breadcrumbNames![0], \"...\", ...props.breadcrumbNames!.slice(-4)];\n    }\n    return props.breadcrumbNames || [];\n});\n\nconst refreshCurrentPageHandle = function () {\n    const index = pageViews.currentVisiteIndex;\n    if (pageViews.visitedViews[index].isIframe) {\n        // 刷新iframe\n        (document.querySelector(\"iframe[id='\" + pageViews.visitedViews[index].id + \"']\") as HTMLIFrameElement).src = pageViews.visitedViews[index].fullPath;\n    } else {\n        // 当前正在展示的单页刷新\n        router.push(transitRoutePath({ pageIndex: index }));\n    }\n};\n\n// 切换菜单折叠状态\nconst toggleMenuCollapseState = function () {\n    emits(\"toggleMenuCollapseState\");\n};\n\nconst loginUserCommandHandle = function (command) {\n    if (command === \"showUserInfoDialog\") {\n        isShowUserInfoDialog.value = true;\n    } else if (command === \"showUpdatePasswordDialog\") {\n        isShowUpdatePasswordDialog.value = true;\n    }\n};\n</script>\n<style lang=\"less\" scoped>\n.header-bar {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    border: none;\n    height: 45px;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);\n    display: flex;\n    justify-content: space-between;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    z-index: 99;\n\n    .left-inner {\n        display: flex;\n        width: 224px;\n        .logo-box {\n            width: 60px;\n            text-align: center;\n            :deep(.svg-icon) {\n                height: 44px;\n                width: 44px;\n            }\n        }\n\n        .title-text {\n            flex: 1;\n            font-size: 15px;\n            padding-left: 5px;\n            text-align: left;\n            line-height: 45px;\n            font-weight: bold;\n            display: -webkit-box;\n            word-break: break-all;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 1;\n        }\n\n        .icon-box {\n            width: 30px;\n            cursor: pointer;\n            font-size: 20px;\n            transition: color 0.318s ease 0s;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: #606266;\n\n            .actived {\n                transform: rotate(180deg);\n            }\n\n            &:hover {\n                box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n            }\n        }\n    }\n\n    .center-inner {\n        flex: 1;\n        display: flex;\n        align-items: flex-end;\n        position: relative;\n        align-items: center;\n\n        :deep(.el-breadcrumb) {\n            margin-left: 12px;\n            .el-breadcrumb__item[aria-current=\"page\"] .el-breadcrumb__inner {\n                color: #ccc;\n            }\n        }\n    }\n\n    .right-inner {\n        width: 200px;\n        display: flex;\n        padding: 0px 10px;\n        font-size: 12px;\n        align-items: center;\n        line-height: 24px;\n\n        .message-box,\n        .icon-box {\n            cursor: pointer;\n            padding-right: 16px;\n            color: #606266;\n            font-size: 18px;\n            display: flex;\n            align-items: center;\n        }\n\n        .login-info-box {\n            cursor: pointer;\n\n            .name-info {\n                display: flex;\n                position: relative;\n                align-items: center;\n\n                .avatar-box {\n                    flex-shrink: 0;\n\n                    img {\n                        border-radius: 50%;\n                    }\n                }\n\n                .user-name-text {\n                    padding-left: 5px;\n                    width: 80px;\n                }\n\n                .el-icon {\n                    font-size: 15px;\n                }\n            }\n        }\n    }\n}\n.dropdown-text {\n    width: 80px;\n    padding-left: 4px;\n}\n</style>\n","import script from \"./header-bar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./header-bar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./header-bar.vue?vue&type=style&index=0&id=66fe3736&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-66fe3736\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_menu_text = _resolveComponent(\"menu-text\")!\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_menu_list = _resolveComponent(\"menu-list\", true)!\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuTreeData, (menuItem) => {\n    return (_openBlock(), _createElementBlock(_Fragment, {\n      key: menuItem.id\n    }, [\n      (menuItem.childList.length === 0)\n        ? (_openBlock(), _createBlock(_component_el_menu_item, {\n            key: 0,\n            index: menuItem.id\n          }, {\n            title: _withCtx(() => [\n              _createVNode(_component_menu_text, { menuItem: menuItem }, null, 8, [\"menuItem\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"i\", {\n                    class: _normalizeClass(menuItem.icons)\n                  }, null, 2)\n                ]),\n                _: 2\n              }, 1024)\n            ]),\n            _: 2\n          }, 1032, [\"index\"]))\n        : (_openBlock(), _createBlock(_component_el_sub_menu, {\n            key: 1,\n            index: menuItem.id,\n            \"popper-class\": \"side-bar-menu-popper\"\n          }, {\n            title: _withCtx(() => [\n              _createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"i\", {\n                    class: _normalizeClass(menuItem.icons)\n                  }, null, 2)\n                ]),\n                _: 2\n              }, 1024),\n              _createVNode(_component_menu_text, { menuItem: menuItem }, null, 8, [\"menuItem\"])\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_component_menu_list, {\n                menuTreeData: menuItem.childList\n              }, null, 8, [\"menuTreeData\"])\n            ]),\n            _: 2\n          }, 1032, [\"index\"]))\n    ], 64))\n  }), 128))\n}","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-11-14 16:14:46\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-01-16 16:17:53\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\menu-list.vue\n * @描述: 菜单列表\n-->\n<template>\n    <template v-for=\"menuItem in menuTreeData\" :key=\"menuItem.id\">\n        <el-menu-item v-if=\"menuItem.childList.length === 0\" :index=\"menuItem.id\">\n            <el-icon>\n                <!-- <svg-icon class=\"menu-icon\" :value=\"menuItem.icons\" /> -->\n                <i :class=\"menuItem.icons\"></i>\n            </el-icon>\n            <template #title>\n                <menu-text :menuItem=\"menuItem\" />\n            </template>\n        </el-menu-item>\n        <el-sub-menu v-else :index=\"menuItem.id\" popper-class=\"side-bar-menu-popper\">\n            <template #title>\n                <el-icon>\n                    <!--icomoon-forward <svg-icon class=\"menu-icon\" :value=\"menuItem.icons\" /> -->\n                    <i :class=\"menuItem.icons\"></i>\n                </el-icon>\n                <menu-text :menuItem=\"menuItem\" />\n            </template>\n            <menu-list :menuTreeData=\"menuItem.childList\" />\n        </el-sub-menu>\n    </template>\n</template>\n<script lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport type { System } from \"/#/modules/system\";\nimport { defineComponent } from \"vue\";\nimport menuText from \"./men-text.vue\";\n\nexport default defineComponent({\n    name: \"menuList\",\n    components: { menuText },\n    data() {\n        return {};\n    },\n    props: {\n        menuTreeData: {\n            type: Array as PropType<Array<System.MenuTree>>,\n            require: true\n        }\n    }\n});\n</script>\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = [\"href\"]\n\nimport type { PropType } from \"vue\";\nimport { computed, onMounted } from \"vue\";\nimport type { System } from \"/#/modules/system\";\nimport { ref } from \"vue\";\nimport type { Router } from \"vue-router\";\nimport { useRouter } from \"vue-router\";\nimport { pageViewsStore } from \"@/stores\";\nimport { isExternalLink } from \"@/utils/index\";\nimport { externalRoutePath, innerRoutePath } from \"@/routers\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'men-text',\n  props: {\n    menuItem: {\n        type: Object as PropType<System.MenuTree>,\n        require: true\n    }\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst pageViews = pageViewsStore();\n\n// 是否禁用提示\nconst isDisabledTips = ref(true);\n\nconst router: Router = useRouter();\n\n// 路由地址\nconst routePath = ref<string | undefined>();\n\n// 当前菜单a标签显示的外部链接\nconst menuHref = computed<string | undefined>(() => {\n    if (!routePath.value) {\n        return routePath.value;\n    }\n    return config.projectContentPath + (config.isWebHash && \"/#\") + routePath.value;\n});\n\n// 是否外链\nconst externalLink = ref(true);\n\n// 点击事件\nconst clickEvent = function (e: Event) {\n    if (!routePath.value) {\n        return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    router.push(routePath.value);\n    pageViews.openPageByMenu({\n        id: props.menuItem!.id,\n        name: props.menuItem!.name,\n        url: props.menuItem!.url,\n        routePath: routePath.value!,\n        externalLink: externalLink.value\n    });\n};\n\n// 鼠标移动上去判断是否需要显示提示语\nconst mouseenterEvent = function (e: MouseEvent) {\n    isDisabledTips.value = (e.currentTarget as HTMLElement).scrollWidth <= (e.currentTarget as HTMLElement).clientWidth;\n};\n\nonMounted(() => {\n    if (props.menuItem?.url && props.menuItem?.childList.length === 0) {\n        if (isExternalLink(props.menuItem!.url)) {\n            routePath.value = externalRoutePath({ menuId: props.menuItem!.id });\n        } else {\n            externalLink.value = false;\n            routePath.value = innerRoutePath(props.menuItem!.url, { menuId: props.menuItem!.id });\n        }\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n\n  return (_openBlock(), _createBlock(_component_el_tooltip, {\n    effect: \"light\",\n    content: __props.menuItem!.name,\n    placement: \"right\",\n    disabled: isDisabledTips.value\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"a\", {\n        class: \"menu-text\",\n        onMouseenter: mouseenterEvent,\n        href: menuHref.value,\n        onClick: clickEvent\n      }, _toDisplayString(__props.menuItem!.name), 41, _hoisted_1)\n    ]),\n    _: 1\n  }, 8, [\"content\", \"disabled\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-11-14 15:21:53\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-13 10:25:13\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\men-text.vue\n * @描述: 侧边栏菜单名称展示\n-->\n<template>\n    <el-tooltip effect=\"light\" :content=\"menuItem!.name\" placement=\"right\" :disabled=\"isDisabledTips\">\n        <a class=\"menu-text\" @mouseenter=\"mouseenterEvent\" :href=\"menuHref\" @click=\"clickEvent\">{{ menuItem!.name }}</a>\n    </el-tooltip>\n</template>\n<script setup lang=\"ts\">\nimport type { PropType } from \"vue\";\nimport { computed, onMounted } from \"vue\";\nimport type { System } from \"/#/modules/system\";\nimport { ref } from \"vue\";\nimport type { Router } from \"vue-router\";\nimport { useRouter } from \"vue-router\";\nimport { pageViewsStore } from \"@/stores\";\nimport { isExternalLink } from \"@/utils/index\";\nimport { externalRoutePath, innerRoutePath } from \"@/routers\";\n\nconst props = defineProps({\n    menuItem: {\n        type: Object as PropType<System.MenuTree>,\n        require: true\n    }\n});\n\nconst pageViews = pageViewsStore();\n\n// 是否禁用提示\nconst isDisabledTips = ref(true);\n\nconst router: Router = useRouter();\n\n// 路由地址\nconst routePath = ref<string | undefined>();\n\n// 当前菜单a标签显示的外部链接\nconst menuHref = computed<string | undefined>(() => {\n    if (!routePath.value) {\n        return routePath.value;\n    }\n    return config.projectContentPath + (config.isWebHash && \"/#\") + routePath.value;\n});\n\n// 是否外链\nconst externalLink = ref(true);\n\n// 点击事件\nconst clickEvent = function (e: Event) {\n    if (!routePath.value) {\n        return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    router.push(routePath.value);\n    pageViews.openPageByMenu({\n        id: props.menuItem!.id,\n        name: props.menuItem!.name,\n        url: props.menuItem!.url,\n        routePath: routePath.value!,\n        externalLink: externalLink.value\n    });\n};\n\n// 鼠标移动上去判断是否需要显示提示语\nconst mouseenterEvent = function (e: MouseEvent) {\n    isDisabledTips.value = (e.currentTarget as HTMLElement).scrollWidth <= (e.currentTarget as HTMLElement).clientWidth;\n};\n\nonMounted(() => {\n    if (props.menuItem?.url && props.menuItem?.childList.length === 0) {\n        if (isExternalLink(props.menuItem!.url)) {\n            routePath.value = externalRoutePath({ menuId: props.menuItem!.id });\n        } else {\n            externalLink.value = false;\n            routePath.value = innerRoutePath(props.menuItem!.url, { menuId: props.menuItem!.id });\n        }\n    }\n});\n</script>\n","import script from \"./men-text.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./men-text.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./menu-list.vue?vue&type=template&id=d9d841b0&ts=true\"\nimport script from \"./menu-list.vue?vue&type=script&lang=ts\"\nexport * from \"./menu-list.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, unref as _unref, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0bb7836c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search-box\" }\n\nimport type { System } from \"/#/modules/system\";\nimport type { Router } from \"vue-router\";\nimport { ref, watch } from \"vue\";\nimport { ElMessageBox, ElScrollbar } from \"element-plus\";\nimport systemAPI from \"@api/system\";\nimport menuList from \"./menu-list.vue\";\nimport { pageViewsStore } from \"@/stores\";\nimport { useRouter } from \"vue-router\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'side-bar',\n  props: {\n    menuCollapseState: Boolean\n},\n  emits: [\"loaded\", \"navigationChange\"],\n  setup(__props, { emit: __emit }) {\n\n\n\nconst emits = __emit;\n\nconst pageViews = pageViewsStore();\n\nconst router: Router = useRouter();\n\n// 当前选中的菜单ID\nconst currentMenuId = ref<string>();\n\nconst scrollbarRef = ref<InstanceType<typeof ElScrollbar>>();\n\nconst isLoadingForMenus = ref(true);\n\n// 菜单搜索所选中的选项\nconst searchSelectValue = ref<System.MenuTree>();\n\n// 当前菜单搜索出来的选项列表\nconst searchMenuList = ref<\n    Array<{\n        label: string;\n        value: System.MenuTree;\n    }>\n>([]);\n\n// 菜单树数据\nconst menuTreeData = ref<System.MenuTree[]>([]);\n\n// 初始化当前页面导航（面包屑）名称列表\nconst initCurrentNavigationNames = function () {\n    if (menuTreeData.value.length === 0) {\n        return;\n    }\n\n    const breadcrumbNames: Array<string> = [];\n\n    // 查找菜单名称\n    const findMenuNames = function (menuList: System.MenuTree[], menuId: string) {\n        menuList.find(menu => {\n            if (menuId.startsWith(menu.id)) {\n                breadcrumbNames.push(menu.name);\n                if (menu.childList.length > 0) {\n                    findMenuNames(menu.childList, menuId);\n                }\n                return true;\n            }\n            return false;\n        });\n    };\n    let menuId = pageViews.visitedViews[pageViews.currentVisiteIndex]?.menuId;\n    if (pageViews.visitedViews[pageViews.currentVisiteIndex]?.id === \"welcome\") {\n        breadcrumbNames.push(\"首页\");\n    } else if (!menuId) {\n        // 如果当前页不是从菜单里进来的，这里追溯到来自菜单的名称\n        let findIndex = pageViews.currentVisiteIndex;\n        while (!menuId && findIndex !== -1) {\n            findIndex = pageViews.visitedViews.findIndex(view => view.id === pageViews.visitedViews[findIndex].fromPageId);\n            menuId = pageViews.visitedViews[findIndex]?.menuId;\n        }\n        if (pageViews.visitedViews[findIndex]?.id === \"welcome\") {\n            breadcrumbNames.push(\"首页\");\n        } else if (menuId) {\n            findMenuNames(menuTreeData.value, menuId!);\n        }\n        breadcrumbNames.push(pageViews.visitedViews[pageViews.currentVisiteIndex].title);\n    } else {\n        findMenuNames(menuTreeData.value, menuId!);\n    }\n    emits(\"navigationChange\", breadcrumbNames);\n};\n\n// 初始化菜单树数据\nconst initMenuTreeData = async function () {\n    const menuTreeList: Array<Record<string, any>> = (await systemAPI.queryLoginUserMenus<Array<Record<string, any>>>()) as Array<Record<string, any>>;\n    isLoadingForMenus.value = false;\n    if (!menuTreeList || menuTreeList.length === 0) {\n        // 当前用户还没有配置任何菜单\n        ElMessageBox.alert(\"当前用户还没有配置任何菜单信息，请联系系统管理员\", \"提示\", { type: \"warning\" });\n        return;\n    }\n    const tempMenuTreeList: System.MenuTree[] = [];\n    menuTreeList.forEach(item => {\n        const menuTree: System.MenuTree = {\n            id: item.id,\n            parentId: item.parentId,\n            name: item.name,\n            icons: item.icons,\n            url: item.url,\n            moduleCode: item.moduleCode,\n            childList: []\n        };\n        if (!item.parentId) {\n            menuTreeData.value.push(menuTree);\n        } else {\n            tempMenuTreeList.push(menuTree);\n        }\n    });\n    let newMenuList: System.MenuTree[] = menuTreeData.value;\n    while (newMenuList.length > 0 && tempMenuTreeList.length > 0) {\n        const tempNewMenuList: System.MenuTree[] = [];\n        for (let i = 0; i < tempMenuTreeList.length; i++) {\n            const findMenu = newMenuList.find(tree => tree.id === tempMenuTreeList[i].parentId);\n            if (findMenu) {\n                findMenu.childList.push(tempMenuTreeList[i]);\n                tempNewMenuList.push(tempMenuTreeList[i]);\n                tempMenuTreeList.splice(i, 1);\n                --i;\n            }\n        }\n        newMenuList = tempNewMenuList;\n    }\n    emits(\"loaded\", menuTreeData.value);\n    initCurrentNavigationNames();\n    // // 查找父级菜单\n    // const findParentMenu = function(menuList: MenuTree[], menuTree: MenuTree): MenuTree | null {\n    //     if(menuList.length === 0) {\n    //         return null;\n    //     }\n    //     const findMenu = menuList.find(tree => menuTree.id.startsWith(tree.id));\n    //     if(!findMenu || findMenu.childList.length === 0) {\n    //         return null;\n    //     } else if(findMenu.id === menuTree.id) {\n    //         return findMenu;\n    //     } else {\n    //         return findParentMenu(findMenu.childList, menuTree);\n    //     }\n    // }\n};\n\n// 搜索菜单操作\nconst searchMenuHandle = function (query: string) {\n    if (menuTreeData.value.length === 0) {\n        return;\n    }\n    logs.debug(\"..........searchMenuHandle\");\n    // 匹配菜单名称\n    const matchMenuTreeName = function (menuList: System.MenuTree[], menuNames: Array<string>, isAllInsert: boolean) {\n        menuList.forEach(menu => {\n            if (menu.childList.length > 0 || isAllInsert || menu.name.includes(query)) {\n                const newMenuNames = menuNames.slice(0);\n                newMenuNames.push(menu.name);\n                if (menu.childList.length > 0) {\n                    matchMenuTreeName(menu.childList, newMenuNames, isAllInsert || menu.name.includes(query));\n                } else {\n                    searchMenuList.value.push({ label: newMenuNames.join(\" / \"), value: menu });\n                }\n            }\n        });\n    };\n    searchMenuList.value = [];\n    query = query?.trim();\n    if (query) {\n        matchMenuTreeName(menuTreeData.value, [], false);\n    }\n};\n\n// 菜单链接跳转\nconst gotoPage = function (menu: System.MenuTree) {\n    pageViews.openPageByMenu({ id: menu.id, url: menu.url, name: menu.name });\n    router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n};\n\n// 菜单选择变化\nconst menuSelectChange = function (menu: System.MenuTree) {\n    searchSelectValue.value = undefined;\n    gotoPage(menu);\n};\n\n// 菜单激活回调\nconst selectedMenuHandle = function (key: string, keyPath: string[]) {\n    let findMenu = menuTreeData.value.find(menu => menu.id === keyPath[0]);\n    let i = 1;\n    while (findMenu && i < keyPath.length) {\n        findMenu = findMenu.childList.find(menu => menu.id === keyPath[i]);\n        i++;\n    }\n    if (findMenu) {\n        gotoPage(findMenu);\n    }\n};\n\n// 监控当前页面tab page 的变化\nwatch(\n    () => pageViews.visitedViews[pageViews.currentVisiteIndex]?.id,\n    () => {\n        if (pageViews.visitedViews[pageViews.currentVisiteIndex]?.menuId) {\n            currentMenuId.value = pageViews.visitedViews[pageViews.currentVisiteIndex].menuId;\n        }\n        initCurrentNavigationNames();\n    },\n    {\n        immediate: true\n    }\n);\n\ninitMenuTreeData();\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"side-bar\", { collapse: __props.menuCollapseState }]),\n    \"element-loading-text\": \"加载菜单中...\"\n  }, [\n    _withDirectives(_createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_select, {\n        modelValue: searchSelectValue.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchSelectValue).value = $event)),\n        filterable: \"\",\n        remote: \"\",\n        \"default-first-option\": \"\",\n        \"value-key\": \"id\",\n        placeholder: \"搜索菜单\",\n        \"remote-method\": searchMenuHandle,\n        onChange: menuSelectChange\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(searchMenuList.value, (item) => {\n            return (_openBlock(), _createBlock(_component_el_option, {\n              key: item.value.id,\n              label: item.label,\n              value: item.value\n            }, null, 8, [\"label\", \"value\"]))\n          }), 128))\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ], 512), [\n      [_vShow, !__props.menuCollapseState]\n    ]),\n    _createVNode(_unref(ElScrollbar), {\n      class: \"menus-wrapper\",\n      ref_key: \"scrollbarRef\",\n      ref: scrollbarRef\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_menu, {\n          \"default-active\": currentMenuId.value,\n          collapse: __props.menuCollapseState,\n          onSelect: selectedMenuHandle\n        }, {\n          default: _withCtx(() => [\n            _createVNode(menuList, { menuTreeData: menuTreeData.value }, null, 8, [\"menuTreeData\"])\n          ]),\n          _: 1\n        }, 8, [\"default-active\", \"collapse\"])\n      ]),\n      _: 1\n    }, 512)\n  ], 2)), [\n    [_directive_loading, isLoadingForMenus.value]\n  ])\n}\n}\n\n})","<template>\n    <div class=\"side-bar\" :class=\"{ collapse: menuCollapseState }\" v-loading=\"isLoadingForMenus\" element-loading-text=\"加载菜单中...\">\n        <div class=\"search-box\" v-show=\"!menuCollapseState\">\n            <el-select v-model=\"searchSelectValue\" filterable remote default-first-option value-key=\"id\" placeholder=\"搜索菜单\" :remote-method=\"searchMenuHandle\" @change=\"menuSelectChange\">\n                <el-option v-for=\"item in searchMenuList\" :key=\"item.value.id\" :label=\"item.label\" :value=\"item.value\" />\n            </el-select>\n        </div>\n        <el-scrollbar class=\"menus-wrapper\" ref=\"scrollbarRef\">\n            <el-menu :default-active=\"currentMenuId\" :collapse=\"menuCollapseState\" @select=\"selectedMenuHandle\">\n                <menu-list :menuTreeData=\"menuTreeData\" />\n            </el-menu>\n        </el-scrollbar>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport type { System } from \"/#/modules/system\";\nimport type { Router } from \"vue-router\";\nimport { ref, watch } from \"vue\";\nimport { ElMessageBox, ElScrollbar } from \"element-plus\";\nimport systemAPI from \"@api/system\";\nimport menuList from \"./menu-list.vue\";\nimport { pageViewsStore } from \"@/stores\";\nimport { useRouter } from \"vue-router\";\n\ndefineProps({\n    menuCollapseState: Boolean\n});\n\nconst emits = defineEmits([\"loaded\", \"navigationChange\"]);\n\nconst pageViews = pageViewsStore();\n\nconst router: Router = useRouter();\n\n// 当前选中的菜单ID\nconst currentMenuId = ref<string>();\n\nconst scrollbarRef = ref<InstanceType<typeof ElScrollbar>>();\n\nconst isLoadingForMenus = ref(true);\n\n// 菜单搜索所选中的选项\nconst searchSelectValue = ref<System.MenuTree>();\n\n// 当前菜单搜索出来的选项列表\nconst searchMenuList = ref<\n    Array<{\n        label: string;\n        value: System.MenuTree;\n    }>\n>([]);\n\n// 菜单树数据\nconst menuTreeData = ref<System.MenuTree[]>([]);\n\n// 初始化当前页面导航（面包屑）名称列表\nconst initCurrentNavigationNames = function () {\n    if (menuTreeData.value.length === 0) {\n        return;\n    }\n\n    const breadcrumbNames: Array<string> = [];\n\n    // 查找菜单名称\n    const findMenuNames = function (menuList: System.MenuTree[], menuId: string) {\n        menuList.find(menu => {\n            if (menuId.startsWith(menu.id)) {\n                breadcrumbNames.push(menu.name);\n                if (menu.childList.length > 0) {\n                    findMenuNames(menu.childList, menuId);\n                }\n                return true;\n            }\n            return false;\n        });\n    };\n    let menuId = pageViews.visitedViews[pageViews.currentVisiteIndex]?.menuId;\n    if (pageViews.visitedViews[pageViews.currentVisiteIndex]?.id === \"welcome\") {\n        breadcrumbNames.push(\"首页\");\n    } else if (!menuId) {\n        // 如果当前页不是从菜单里进来的，这里追溯到来自菜单的名称\n        let findIndex = pageViews.currentVisiteIndex;\n        while (!menuId && findIndex !== -1) {\n            findIndex = pageViews.visitedViews.findIndex(view => view.id === pageViews.visitedViews[findIndex].fromPageId);\n            menuId = pageViews.visitedViews[findIndex]?.menuId;\n        }\n        if (pageViews.visitedViews[findIndex]?.id === \"welcome\") {\n            breadcrumbNames.push(\"首页\");\n        } else if (menuId) {\n            findMenuNames(menuTreeData.value, menuId!);\n        }\n        breadcrumbNames.push(pageViews.visitedViews[pageViews.currentVisiteIndex].title);\n    } else {\n        findMenuNames(menuTreeData.value, menuId!);\n    }\n    emits(\"navigationChange\", breadcrumbNames);\n};\n\n// 初始化菜单树数据\nconst initMenuTreeData = async function () {\n    const menuTreeList: Array<Record<string, any>> = (await systemAPI.queryLoginUserMenus<Array<Record<string, any>>>()) as Array<Record<string, any>>;\n    isLoadingForMenus.value = false;\n    if (!menuTreeList || menuTreeList.length === 0) {\n        // 当前用户还没有配置任何菜单\n        ElMessageBox.alert(\"当前用户还没有配置任何菜单信息，请联系系统管理员\", \"提示\", { type: \"warning\" });\n        return;\n    }\n    const tempMenuTreeList: System.MenuTree[] = [];\n    menuTreeList.forEach(item => {\n        const menuTree: System.MenuTree = {\n            id: item.id,\n            parentId: item.parentId,\n            name: item.name,\n            icons: item.icons,\n            url: item.url,\n            moduleCode: item.moduleCode,\n            childList: []\n        };\n        if (!item.parentId) {\n            menuTreeData.value.push(menuTree);\n        } else {\n            tempMenuTreeList.push(menuTree);\n        }\n    });\n    let newMenuList: System.MenuTree[] = menuTreeData.value;\n    while (newMenuList.length > 0 && tempMenuTreeList.length > 0) {\n        const tempNewMenuList: System.MenuTree[] = [];\n        for (let i = 0; i < tempMenuTreeList.length; i++) {\n            const findMenu = newMenuList.find(tree => tree.id === tempMenuTreeList[i].parentId);\n            if (findMenu) {\n                findMenu.childList.push(tempMenuTreeList[i]);\n                tempNewMenuList.push(tempMenuTreeList[i]);\n                tempMenuTreeList.splice(i, 1);\n                --i;\n            }\n        }\n        newMenuList = tempNewMenuList;\n    }\n    emits(\"loaded\", menuTreeData.value);\n    initCurrentNavigationNames();\n    // // 查找父级菜单\n    // const findParentMenu = function(menuList: MenuTree[], menuTree: MenuTree): MenuTree | null {\n    //     if(menuList.length === 0) {\n    //         return null;\n    //     }\n    //     const findMenu = menuList.find(tree => menuTree.id.startsWith(tree.id));\n    //     if(!findMenu || findMenu.childList.length === 0) {\n    //         return null;\n    //     } else if(findMenu.id === menuTree.id) {\n    //         return findMenu;\n    //     } else {\n    //         return findParentMenu(findMenu.childList, menuTree);\n    //     }\n    // }\n};\n\n// 搜索菜单操作\nconst searchMenuHandle = function (query: string) {\n    if (menuTreeData.value.length === 0) {\n        return;\n    }\n    logs.debug(\"..........searchMenuHandle\");\n    // 匹配菜单名称\n    const matchMenuTreeName = function (menuList: System.MenuTree[], menuNames: Array<string>, isAllInsert: boolean) {\n        menuList.forEach(menu => {\n            if (menu.childList.length > 0 || isAllInsert || menu.name.includes(query)) {\n                const newMenuNames = menuNames.slice(0);\n                newMenuNames.push(menu.name);\n                if (menu.childList.length > 0) {\n                    matchMenuTreeName(menu.childList, newMenuNames, isAllInsert || menu.name.includes(query));\n                } else {\n                    searchMenuList.value.push({ label: newMenuNames.join(\" / \"), value: menu });\n                }\n            }\n        });\n    };\n    searchMenuList.value = [];\n    query = query?.trim();\n    if (query) {\n        matchMenuTreeName(menuTreeData.value, [], false);\n    }\n};\n\n// 菜单链接跳转\nconst gotoPage = function (menu: System.MenuTree) {\n    pageViews.openPageByMenu({ id: menu.id, url: menu.url, name: menu.name });\n    router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n};\n\n// 菜单选择变化\nconst menuSelectChange = function (menu: System.MenuTree) {\n    searchSelectValue.value = undefined;\n    gotoPage(menu);\n};\n\n// 菜单激活回调\nconst selectedMenuHandle = function (key: string, keyPath: string[]) {\n    let findMenu = menuTreeData.value.find(menu => menu.id === keyPath[0]);\n    let i = 1;\n    while (findMenu && i < keyPath.length) {\n        findMenu = findMenu.childList.find(menu => menu.id === keyPath[i]);\n        i++;\n    }\n    if (findMenu) {\n        gotoPage(findMenu);\n    }\n};\n\n// 监控当前页面tab page 的变化\nwatch(\n    () => pageViews.visitedViews[pageViews.currentVisiteIndex]?.id,\n    () => {\n        if (pageViews.visitedViews[pageViews.currentVisiteIndex]?.menuId) {\n            currentMenuId.value = pageViews.visitedViews[pageViews.currentVisiteIndex].menuId;\n        }\n        initCurrentNavigationNames();\n    },\n    {\n        immediate: true\n    }\n);\n\ninitMenuTreeData();\n</script>\n<style lang=\"scss\" scoped>\n.side-bar {\n    width: 224px;\n    height: 100%;\n    flex-shrink: 0;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    // transition: all 300ms ease-in-out;\n\n    &.collapse {\n        width: 58px;\n    }\n\n    &::after {\n        content: \"\";\n        position: absolute;\n        right: 1px;\n        top: 0px;\n        bottom: 0px;\n        width: 1px;\n        background-color: #fff;\n        box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1);\n        z-index: 1;\n    }\n\n    .search-box {\n        width: 100%;\n        padding: 10px;\n\n        :deep(.el-select) {\n            width: 100%;\n\n            .el-input__wrapper {\n                border-radius: 4px;\n            }\n        }\n    }\n\n    .menus-wrapper {\n        flex: 1;\n        // padding-right: 4px;\n\n        :deep(.el-menu) {\n            border-right: 0px;\n            --el-menu-base-level-padding: 12px;\n            --el-menu-level-padding: 12px;\n            --el-menu-icon-width: 24px;\n            --el-menu-item-height: 44px;\n            --el-menu-item-font-size: 14px;\n            --el-menu-sub-item-height: 44px;\n\n            .el-sub-menu__title,\n            .el-menu-item {\n                .el-icon {\n                    color: #909399;\n                    font-size: 14px;\n                }\n                .menu-text {\n                    width: 100%;\n                    display: inline-block;\n                    white-space: nowrap;\n                    word-wrap: normal;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    text-align: left;\n                    color: #303133;\n                }\n\n                &:hover {\n                    .menu-text,\n                    .el-icon {\n                        color: var(--el-color-primary);\n                    }\n                }\n\n                &.is-active {\n                    background-color: var(--el-menu-hover-bg-color);\n\n                    &::after {\n                        position: absolute;\n                        content: \"\";\n                        z-index: 1;\n                        right: 0px;\n                        top: 0px;\n                        bottom: 0px;\n                        width: 1px;\n                        background-color: #15c359;\n                    }\n\n                    .menu-text,\n                    .el-icon {\n                        color: var(--el-color-primary);\n                    }\n                }\n            }\n        }\n    }\n}\n</style>\n<style lang=\"scss\">\n.side-bar-menu-popper {\n    --el-menu-base-level-padding: 12px;\n    --el-menu-level-padding: 12px;\n    --el-menu-icon-width: 24px;\n    --el-menu-item-height: 44px;\n    --el-menu-item-font-size: 12px;\n    --el-menu-sub-item-height: 44px;\n\n    .el-sub-menu__title,\n    .el-menu-item {\n        .el-icon {\n            color: #909399;\n            font-size: 14px;\n        }\n        .menu-text {\n            width: 100%;\n            display: inline-block;\n            white-space: nowrap;\n            word-wrap: normal;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            text-align: left;\n            color: #303133;\n        }\n\n        &:hover {\n            .menu-text,\n            .el-icon {\n                color: var(--el-color-primary);\n            }\n        }\n\n        &.is-active {\n            background-color: var(--el-menu-hover-bg-color);\n\n            &::after {\n                position: absolute;\n                content: \"\";\n                z-index: 1;\n                right: 0px;\n                top: 0px;\n                bottom: 0px;\n                width: 1px;\n                background-color: #15c359;\n            }\n\n            .menu-text,\n            .el-icon {\n                color: var(--el-color-primary);\n            }\n        }\n    }\n}\n</style>\n","import script from \"./side-bar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./side-bar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./side-bar.vue?vue&type=style&index=0&id=0bb7836c&lang=scss&scoped=true\"\nimport \"./side-bar.vue?vue&type=style&index=1&id=0bb7836c&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0bb7836c\"]])\n\nexport default __exports__","/*!\n * better-scroll / core\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string' ? document.querySelector(el) : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction maybePrevent(e) {\r\n    if (e.cancelable) {\r\n        e.preventDefault();\r\n    }\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    touchcancel: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    /* istanbul ignore if  */\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            /* istanbul ignore next */\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 1000 / 60;\r\nvar windowCompat = inBrowser && window;\r\n/* istanbul ignore next */\r\nfunction noop$1() { }\r\nvar requestAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, callback.interval || DEFAULT_INTERVAL); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\n/* istanbul ignore next */\r\nvar noop = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop,\r\n    set: noop,\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 0;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        _this.quadrant = 1 /* First */;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.rebindDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.rebindDOMEvents = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.handleDOMEvents();\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setCallStop = function (called) {\r\n        this.callStopWhenPending = called;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.clearTimer = function () {\r\n        if (this.timer) {\r\n            cancelAnimationFrame(this.timer);\r\n            this.timer = 0;\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\n// iOS 13.6 - 14.x, window.getComputedStyle sometimes will get wrong transform value\r\n// when bs use transition mode\r\n// eg: translateY -100px -> -200px, when the last frame which is about to scroll to -200px\r\n// window.getComputedStyle(this.content) will calculate transformY to be -100px(startPoint)\r\n// it is weird\r\n// so we should validate position caculated by 'window.getComputedStyle'\r\nvar isValidPostion = function (startPoint, endPoint, currentPos, prePos) {\r\n    var computeDirection = function (endValue, startValue) {\r\n        var delta = endValue - startValue;\r\n        var direction = delta > 0\r\n            ? -1 /* Negative */\r\n            : delta < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return direction;\r\n    };\r\n    var directionX = computeDirection(endPoint.x, startPoint.x);\r\n    var directionY = computeDirection(endPoint.y, startPoint.y);\r\n    var deltaX = currentPos.x - prePos.x;\r\n    var deltaY = currentPos.y - prePos.y;\r\n    return directionX * deltaX <= 0 && directionY * deltaY <= 0;\r\n};\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function (startPoint, endPoint) {\r\n        var _this = this;\r\n        var prePos = startPoint;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            if (isValidPostion(startPoint, endPoint, pos, prePos)) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // transition ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n                }\r\n            }\r\n            prePos = pos;\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        if (time && isRealtimeProbeType) {\r\n            this.startProbe(startPoint, endPoint);\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            if (isRealtimeProbeType) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            if (this.options.probeType === 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                if (isRealtimeProbeType) {\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                }\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (isRealtimeProbeType) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // raf ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                }\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        },\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll'\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var duration = Math.min(swipeTime, (speed * 2) / deceleration);\r\n        var momentumData = {\r\n            destination: current + ((speed * speed) / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: duration,\r\n            rate: 15\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = this.currentPos - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        // Force reflow\r\n        var wrapperRect = getRect(this.wrapper);\r\n        // use client is more fair than offset\r\n        this.wrapperSize = this.wrapper[size === 'width' ? 'clientWidth' : 'clientHeight'];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        /* istanbul ignore if  */\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return this.currentPos;\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos > this.minScrollPos) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos < this.maxScrollPos) {\r\n            pos = this.maxScrollPos;\r\n        }\r\n        return pos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        maybePrevent(e);\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar applyQuadrantTransformation = function (deltaX, deltaY, quadrant) {\r\n    if (quadrant === 2 /* Second */) {\r\n        return [deltaY, -deltaX];\r\n    }\r\n    else if (quadrant === 3 /* Third */) {\r\n        return [-deltaX, -deltaY];\r\n    }\r\n    else if (quadrant === 4 /* Forth */) {\r\n        return [-deltaY, deltaX];\r\n    }\r\n    else {\r\n        return [deltaX, deltaY];\r\n    }\r\n};\r\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd',\r\n            'contentNotMoved',\r\n            'detectMovingDirection',\r\n            'coordinateTransformation',\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            var _b = applyQuadrantTransformation(deltaX, deltaY, _this.options.quadrant), transformateDeltaX = _b[0], transformateDeltaY = _b[1];\r\n            var transformateDeltaData = {\r\n                deltaX: transformateDeltaX,\r\n                deltaY: transformateDeltaY,\r\n            };\r\n            _this.hooks.trigger(_this.hooks.eventTypes.coordinateTransformation, transformateDeltaData);\r\n            return _this.handleMove(transformateDeltaData.deltaX, transformateDeltaData.deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.fingerMoved = false;\r\n        this.contentMoved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var prevX = this.scrollBehaviorX.getCurrentPos();\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var prevY = this.scrollBehaviorY.getCurrentPos();\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)) {\r\n            return;\r\n        }\r\n        if (!this.fingerMoved) {\r\n            this.fingerMoved = true;\r\n        }\r\n        var positionChanged = newX !== prevX || newY !== prevY;\r\n        if (!this.contentMoved && !positionChanged) {\r\n            this.hooks.trigger(this.hooks.eventTypes.contentNotMoved);\r\n        }\r\n        if (!this.contentMoved && positionChanged) {\r\n            this.contentMoved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.contentMoved && positionChanged) {\r\n            this.animater.translate({\r\n                x: newX,\r\n                y: newY,\r\n            });\r\n            this.dispatchScroll(timestamp);\r\n        }\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        currentPos = this.ensureIntegerPos(currentPos);\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.ensureIntegerPos = function (currentPos) {\r\n        this.ensuringInteger = true;\r\n        var x = currentPos.x, y = currentPos.y;\r\n        var _a = this.scrollBehaviorX, minScrollPosX = _a.minScrollPos, maxScrollPosX = _a.maxScrollPos;\r\n        var _b = this.scrollBehaviorY, minScrollPosY = _b.minScrollPos, maxScrollPosY = _b.maxScrollPos;\r\n        x = x > 0 ? Math.ceil(x) : Math.floor(x);\r\n        y = y > 0 ? Math.ceil(y) : Math.floor(y);\r\n        x = between(x, maxScrollPosX, minScrollPosX);\r\n        y = between(y, maxScrollPosY, minScrollPosY);\r\n        return { x: x, y: y };\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            maybePrevent(e);\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos(),\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar MIN_SCROLL_DISTANCE = 1;\r\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'minDistanceScroll',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // scrollEnd will dispatch when scroll is force stopping in touchstart handler\r\n            // so in touchend handler, don't toggle pointer-events\r\n            if (_this.actions.ensuringInteger === true) {\r\n                _this.actions.ensuringInteger = false;\r\n                return;\r\n            }\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.fingerMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            if (actions.contentMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            if (_this.animater.forceStopped) {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        /* istanbul ignore if  */\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            /* istanbul ignore if  */\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        var deltaX = Math.abs(endPoint.x - startPoint.x);\r\n        var deltaY = Math.abs(endPoint.y - startPoint.y);\r\n        // considering of browser compatibility for decimal transform value\r\n        // force translating immediately\r\n        if (deltaX < MIN_SCROLL_DISTANCE && deltaY < MIN_SCROLL_DISTANCE) {\r\n            time = 0;\r\n            this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll);\r\n        }\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        /* istanbul ignore if  */\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this.reflow();\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.reflow = function () {\r\n        this._reflow = this.content.offsetHeight;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy'\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged'\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        /* istanbul ignore if  */\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nexport { Behavior, CustomOptions, createBScroll, BScroll as default };\n","/*!\n * better-scroll / mouse-wheel\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\n!!(ua && /wechatdevtools/.test(ua));\r\nua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\n((function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n}))();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction maybePrevent(e) {\r\n    if (e.cancelable) {\r\n        e.preventDefault();\r\n    }\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\ninBrowser && prefixStyle('perspective') in elementStyle;\r\n({\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n});\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\n\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar MouseWheel = /** @class */ (function () {\r\n    function MouseWheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.wheelEndTimer = 0;\r\n        this.wheelMoveTimer = 0;\r\n        this.wheelStart = false;\r\n        this.init();\r\n    }\r\n    MouseWheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.registerEvent();\r\n    };\r\n    MouseWheel.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            'alterOptions',\r\n            'mousewheelStart',\r\n            'mousewheelMove',\r\n            'mousewheelEnd',\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.mouseWheel === true\r\n            ? {}\r\n            : this.scroll.options.mouseWheel);\r\n        var defaultOptions = {\r\n            speed: 20,\r\n            invert: false,\r\n            easeTime: 300,\r\n            discreteTime: 400,\r\n            throttleTime: 0,\r\n            dampingFactor: 0.1,\r\n        };\r\n        this.mouseWheelOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    MouseWheel.prototype.handleHooks = function () {\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    MouseWheel.prototype.registerEvent = function () {\r\n        this.eventRegister = new EventRegister(this.scroll.scroller.wrapper, [\r\n            {\r\n                name: 'wheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'mousewheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'DOMMouseScroll',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    MouseWheel.prototype.wheelHandler = function (e) {\r\n        if (!this.scroll.enabled) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e);\r\n        // start\r\n        if (!this.wheelStart) {\r\n            this.wheelStartHandler(e);\r\n            this.wheelStart = true;\r\n        }\r\n        // move\r\n        var delta = this.getWheelDelta(e);\r\n        this.wheelMoveHandler(delta);\r\n        // end\r\n        this.wheelEndDetector(delta);\r\n    };\r\n    MouseWheel.prototype.wheelStartHandler = function (e) {\r\n        this.cleanCache();\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        scrollBehaviorX.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorX.setDirection(0 /* Default */);\r\n        scrollBehaviorY.setDirection(0 /* Default */);\r\n        this.scroll.trigger(this.scroll.eventTypes.alterOptions, this.mouseWheelOpt);\r\n        this.scroll.trigger(this.scroll.eventTypes.mousewheelStart);\r\n    };\r\n    MouseWheel.prototype.cleanCache = function () {\r\n        this.deltaCache = [];\r\n    };\r\n    MouseWheel.prototype.wheelMoveHandler = function (delta) {\r\n        var _this = this;\r\n        var _a = this.mouseWheelOpt, throttleTime = _a.throttleTime, dampingFactor = _a.dampingFactor;\r\n        if (throttleTime && this.wheelMoveTimer) {\r\n            this.deltaCache.push(delta);\r\n        }\r\n        else {\r\n            var cachedDelta = this.deltaCache.reduce(function (prev, current) {\r\n                return {\r\n                    x: prev.x + current.x,\r\n                    y: prev.y + current.y,\r\n                };\r\n            }, { x: 0, y: 0 });\r\n            this.cleanCache();\r\n            var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n            scrollBehaviorX.setMovingDirection(-delta.directionX);\r\n            scrollBehaviorY.setMovingDirection(-delta.directionY);\r\n            scrollBehaviorX.setDirection(delta.x);\r\n            scrollBehaviorY.setDirection(delta.y);\r\n            // when out of boundary, perform a damping scroll\r\n            var newX = scrollBehaviorX.performDampingAlgorithm(Math.round(delta.x) + cachedDelta.x, dampingFactor);\r\n            var newY = scrollBehaviorY.performDampingAlgorithm(Math.round(delta.y) + cachedDelta.x, dampingFactor);\r\n            if (!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove, {\r\n                x: newX,\r\n                y: newY,\r\n            })) {\r\n                var easeTime = this.getEaseTime();\r\n                if (newX !== this.scroll.x || newY !== this.scroll.y) {\r\n                    this.scroll.scrollTo(newX, newY, easeTime);\r\n                }\r\n            }\r\n            if (throttleTime) {\r\n                this.wheelMoveTimer = window.setTimeout(function () {\r\n                    _this.wheelMoveTimer = 0;\r\n                }, throttleTime);\r\n            }\r\n        }\r\n    };\r\n    MouseWheel.prototype.wheelEndDetector = function (delta) {\r\n        var _this = this;\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        this.wheelEndTimer = window.setTimeout(function () {\r\n            _this.wheelStart = false;\r\n            window.clearTimeout(_this.wheelMoveTimer);\r\n            _this.wheelMoveTimer = 0;\r\n            _this.scroll.trigger(_this.scroll.eventTypes.mousewheelEnd, delta);\r\n        }, this.mouseWheelOpt.discreteTime);\r\n    };\r\n    MouseWheel.prototype.getWheelDelta = function (e) {\r\n        var _a = this.mouseWheelOpt, speed = _a.speed, invert = _a.invert;\r\n        var wheelDeltaX = 0;\r\n        var wheelDeltaY = 0;\r\n        var direction = invert ? -1 /* Negative */ : 1 /* Positive */;\r\n        switch (true) {\r\n            case 'deltaX' in e:\r\n                if (e.deltaMode === 1) {\r\n                    wheelDeltaX = -e.deltaX * speed;\r\n                    wheelDeltaY = -e.deltaY * speed;\r\n                }\r\n                else {\r\n                    wheelDeltaX = -e.deltaX;\r\n                    wheelDeltaY = -e.deltaY;\r\n                }\r\n                break;\r\n            case 'wheelDeltaX' in e:\r\n                wheelDeltaX = (e.wheelDeltaX / 120) * speed;\r\n                wheelDeltaY = (e.wheelDeltaY / 120) * speed;\r\n                break;\r\n            case 'wheelDelta' in e:\r\n                wheelDeltaX = wheelDeltaY = (e.wheelDelta / 120) * speed;\r\n                break;\r\n            case 'detail' in e:\r\n                wheelDeltaX = wheelDeltaY = (-e.detail / 3) * speed;\r\n                break;\r\n        }\r\n        wheelDeltaX *= direction;\r\n        wheelDeltaY *= direction;\r\n        if (!this.scroll.hasVerticalScroll) {\r\n            if (Math.abs(wheelDeltaY) > Math.abs(wheelDeltaX)) {\r\n                wheelDeltaX = wheelDeltaY;\r\n            }\r\n            wheelDeltaY = 0;\r\n        }\r\n        if (!this.scroll.hasHorizontalScroll) {\r\n            wheelDeltaX = 0;\r\n        }\r\n        var directionX = wheelDeltaX > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaX < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        var directionY = wheelDeltaY > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaY < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return {\r\n            x: wheelDeltaX,\r\n            y: wheelDeltaY,\r\n            directionX: directionX,\r\n            directionY: directionY,\r\n        };\r\n    };\r\n    MouseWheel.prototype.beforeHandler = function (e) {\r\n        var _a = this.scroll.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        if (preventDefault &&\r\n            !preventDefaultExceptionFn(e.target, preventDefaultException)) {\r\n            maybePrevent(e);\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    MouseWheel.prototype.getEaseTime = function () {\r\n        var SAFE_EASETIME = 100;\r\n        var easeTime = this.mouseWheelOpt.easeTime;\r\n        // scrollEnd event will be triggered in every calling of scrollTo when easeTime is too small\r\n        // easeTime needs to be greater than 100\r\n        if (easeTime < SAFE_EASETIME) {\r\n            warn(\"easeTime should be greater than 100.\" +\r\n                \"If mouseWheel easeTime is too small,\" +\r\n                \"scrollEnd will be triggered many times.\");\r\n        }\r\n        return Math.max(easeTime, SAFE_EASETIME);\r\n    };\r\n    MouseWheel.prototype.destroy = function () {\r\n        this.eventRegister.destroy();\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        window.clearTimeout(this.wheelMoveTimer);\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n    };\r\n    MouseWheel.pluginName = 'mouseWheel';\r\n    MouseWheel.applyOrder = \"pre\" /* Pre */;\r\n    return MouseWheel;\r\n}());\n\nexport { MouseWheel as default };\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d61da6e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"page-tabs-bar\" }\nconst _hoisted_2 = { class: \"page-tabs-inner\" }\nconst _hoisted_3 = [\"onClick\", \"onContextmenu\"]\n\nimport type { Router } from \"vue-router\";\nimport type { BScrollConstructor } from \"@better-scroll/core/dist/types/BScroll\";\nimport BScroll from \"@better-scroll/core\";\nimport MouseWheel from \"@better-scroll/mouse-wheel\";\nimport { ArrowLeft, Close, ArrowRight } from \"@element-plus/icons-vue\";\nimport { computed, watch } from \"vue\";\nimport { onMounted, onUnmounted, reactive, ref, nextTick } from \"vue\";\nimport { debounce } from \"@yujinjin/utils\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { pageViewsStore, storageStore } from \"@/stores\";\nimport { transitRoutePath } from \"@/routers\";\n\n// 全局路由对象\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'page-tabs',\n  setup(__props) {\n\nconst router: Router = useRouter();\nconst route = useRoute();\n\n// vuex\nconst pageViews = pageViewsStore();\nconst storage = storageStore();\n\n// 固定的page 数量是否耗尽(最大6个固定，包括首页)\nconst fixedNumberRunOut = computed(() => {\n    return pageViews.visitedViews.filter(item => item.isFixed).length >= 6;\n});\n\n// pageTab ref\nconst pageTabsRef = ref<HTMLDivElement>();\n\n// page tabs ref\nconst pageTabRefs = ref<Array<HTMLDivElement>>([]);\n\n// better-scroll 实例\nconst scrollInstance = ref<BScrollConstructor>();\n\n// 是否显示滚动方向\nconst isShowScrollDirection = ref(false);\n\n// page tab 右键菜单选项\nconst tabMenuPopover = reactive({\n    isShow: false,\n    tabIndex: -1\n});\n\nwatch(\n    () => pageViews.visitedViews.length,\n    () => {\n        refreshScroll();\n    }\n);\n\nwatch(\n    () => route.fullPath,\n    () => {\n        if (pageViews.visitedViews[pageViews.currentVisiteIndex].routePath === route.fullPath) {\n            return;\n        }\n        // 当前路由是通过浏览器的前进或后台方式来跳转的,也存在外部某个页面跳转到某个tab页\n        const findIndex = pageViews.visitedViews.findIndex(item => item.routePath === route.fullPath);\n        if (findIndex !== -1) {\n            pageViews.$patch({ currentVisiteIndex: findIndex });\n            scrollToElement(pageTabRefs.value[findIndex]);\n        }\n    }\n);\n\n// 显示右键菜单操作\nconst showContextmenuHandle = function (index: number) {\n    tabMenuPopover.tabIndex = index;\n    tabMenuPopover.isShow = true;\n};\n\n// 刷新scroll\nconst refreshScroll = async function () {\n    await nextTick();\n    scrollInstance.value?.refresh();\n    const isShow = scrollInstance.value!.maxScrollX < 0;\n    if (isShow !== isShowScrollDirection.value) {\n        isShowScrollDirection.value = isShow;\n        await nextTick();\n        scrollInstance.value?.refresh();\n    }\n};\n\n// 左右滑动\nconst scrollTo = function (direction: \"left\" | \"right\") {\n    // scrollInstance.value?.refresh();\n    // 当前移动的距离\n    const moveDistance = 300;\n    if (direction === \"left\") {\n        scrollInstance.value?.scrollTo(scrollInstance.value?.x + moveDistance > 0 ? 0 : scrollInstance.value?.x + moveDistance, 0, 300);\n    } else {\n        scrollInstance.value?.scrollTo(scrollInstance.value?.x - moveDistance < scrollInstance.value?.maxScrollX ? scrollInstance.value?.maxScrollX : scrollInstance.value?.x - moveDistance, 0, 300);\n    }\n};\n\n// 滑动到某个元素上\nconst scrollToElement = function (element: HTMLDivElement) {\n    // 该元素距离左边的距离\n    const leftDistance = element.getBoundingClientRect().left - pageTabsRef.value!.getBoundingClientRect().left;\n    // 该元素距离右边的距离\n    const rightDistance = pageTabsRef.value!.getBoundingClientRect().right - element.getBoundingClientRect().right;\n    if (leftDistance < 150) {\n        scrollInstance.value?.scrollToElement(element, 300, -150, 0);\n    } else if (rightDistance < 150) {\n        scrollInstance.value?.scrollToElement(element, 300, 150 - rightDistance - leftDistance, 0);\n    }\n};\n\n// 关闭当前页\nconst closePageViews = function (index: number) {\n    pageViews.closePageViews(index);\n    if (pageViews.currentVisiteIndex !== index) {\n        if (pageViews.currentVisiteIndex === -1) {\n            // 当前tab已经被全部关闭，去欢迎页\n            router.push({ name: \"welcome\" });\n        } else {\n            // 打开新的路由页面\n            router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n    }\n};\n\n// 显示页面tab\nconst showPageTab = function (index: number) {\n    pageViews.$patch({ currentVisiteIndex: index });\n    scrollToElement(pageTabRefs.value[index]);\n    router.push(pageViews.visitedViews[index].routePath);\n};\n\n// 页面固定状态切换\nconst toggleFixStatus = function (index: number) {\n    if (pageViews.visitedViews[tabMenuPopover.tabIndex].isFixed && index === 0) {\n        // 第一个页面（欢迎页）不能取消固定\n        return;\n    } else if (!pageViews.visitedViews[tabMenuPopover.tabIndex].isFixed && (fixedNumberRunOut.value || !pageViews.visitedViews[tabMenuPopover.tabIndex].menuId)) {\n        // 当前页面固定的数额已经用完了或者当前页面不是从菜单进入的\n        return;\n    }\n    pageViews.toggleFixStatus(tabMenuPopover.tabIndex);\n    // 保存当前固定的页面状态\n    storage.setFixedMenuData(pageViews.visitedViews.filter(item => item.isFixed && item.id !== \"welcome\").map(item => item.menuId!));\n};\n\n// 刷新当前页面\nconst refreshPage = async function (index: number) {\n    if (pageViews.visitedViews[index].isIframe) {\n        // 刷新iframe\n        (document.querySelector(\"iframe[id='\" + pageViews.visitedViews[index].id + \"']\") as HTMLIFrameElement).src = pageViews.visitedViews[index].fullPath;\n    } else if (index === pageViews.currentVisiteIndex) {\n        // 当前正在展示的单页刷新\n        router.push(transitRoutePath({ pageIndex: index }));\n    } else {\n        // 未展示的单页刷新，只需短暂的把keep-alive 去掉就行了\n        const routePath = pageViews.visitedViews[index].routePath;\n        const routeName = router.resolve(routePath).name as string;\n        pageViews.insertExcludeCacheViewName(routeName);\n        await nextTick();\n        pageViews.deleteExcludeCacheViewName(routeName);\n    }\n};\n\n// 屏幕尺寸变化事件\nconst resizeHandle = debounce(refreshScroll, 100);\n\nonMounted(() => {\n    BScroll.use(MouseWheel);\n    scrollInstance.value = new BScroll(pageTabsRef.value!, {\n        scrollX: true,\n        scrollY: false,\n        mouseWheel: true\n    });\n    refreshScroll();\n    window.addEventListener(\"resize\", resizeHandle);\n});\n\nonUnmounted(() => {\n    scrollInstance.value?.destroy();\n    window.removeEventListener(\"resize\", resizeHandle);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_popover = _resolveComponent(\"el-popover\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (isShowScrollDirection.value)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            class: \"icon-box\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (scrollTo('left')))\n          }, [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(ArrowLeft))\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", {\n        class: \"page-tabs\",\n        ref_key: \"pageTabsRef\",\n        ref: pageTabsRef\n      }, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(pageViews).visitedViews, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: _normalizeClass([\"page-tab\", { actived: _unref(pageViews).currentVisiteIndex === index, fixed: item.isFixed }]),\n              key: item.id,\n              ref_for: true,\n              ref_key: \"pageTabRefs\",\n              ref: pageTabRefs,\n              onClick: ($event: any) => (showPageTab(index)),\n              onContextmenu: _withModifiers(($event: any) => (showContextmenuHandle(index)), [\"stop\",\"prevent\"])\n            }, [\n              _createElementVNode(\"span\", null, _toDisplayString(item.title), 1),\n              _createVNode(_component_el_icon, {\n                onClick: _withModifiers(($event: any) => (closePageViews(index)), [\"stop\",\"prevent\"])\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(Close))\n                ]),\n                _: 2\n              }, 1032, [\"onClick\"])\n            ], 42, _hoisted_3))\n          }), 128))\n        ])\n      ], 512),\n      (isShowScrollDirection.value)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 1,\n            class: \"icon-box\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (scrollTo('right')))\n          }, [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(ArrowRight))\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (pageTabRefs.value[tabMenuPopover.tabIndex])\n      ? (_openBlock(), _createBlock(_component_el_popover, {\n          key: 0,\n          \"virtual-triggering\": \"\",\n          \"virtual-ref\": pageTabRefs.value[tabMenuPopover.tabIndex],\n          disabled: !tabMenuPopover.isShow,\n          \"popper-class\": \"page-tab-menu-popper\",\n          visible: tabMenuPopover.isShow,\n          \"onUpdate:visible\": _cache[9] || (_cache[9] = ($event: any) => ((tabMenuPopover.isShow) = $event))\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"page-tab-menu\",\n              onClick: _cache[8] || (_cache[8] = ($event: any) => (tabMenuPopover.isShow = false))\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"menu-item\",\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (refreshPage(tabMenuPopover.tabIndex)))\n              }, \"刷新\"),\n              (_unref(pageViews).visitedViews[tabMenuPopover.tabIndex].isFixed)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: _normalizeClass([\"menu-item\", { disabled: tabMenuPopover.tabIndex === 0 }]),\n                    onClick: _cache[3] || (_cache[3] = ($event: any) => (toggleFixStatus(tabMenuPopover.tabIndex)))\n                  }, \" 取消固定 \", 2))\n                : (_openBlock(), _createElementBlock(\"div\", {\n                    key: 1,\n                    class: _normalizeClass([\"menu-item\", { disabled: fixedNumberRunOut.value || !_unref(pageViews).visitedViews[tabMenuPopover.tabIndex].menuId }]),\n                    onClick: _cache[4] || (_cache[4] = ($event: any) => (toggleFixStatus(tabMenuPopover.tabIndex)))\n                  }, \" 固定展示 \", 2)),\n              _createElementVNode(\"div\", {\n                class: \"menu-item\",\n                onClick: _cache[5] || (_cache[5] = ($event: any) => (closePageViews(tabMenuPopover.tabIndex)))\n              }, \"关闭当前\"),\n              _createElementVNode(\"div\", {\n                class: \"menu-item\",\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_unref(pageViews).closeOtherPageViews(tabMenuPopover.tabIndex)))\n              }, \"关闭其他\"),\n              _createElementVNode(\"div\", {\n                class: \"menu-item\",\n                onClick: _cache[7] || (_cache[7] = ($event: any) => (_unref(pageViews).closeAllPageViews()))\n              }, \"全部关闭\")\n            ])\n          ]),\n          _: 1\n        }, 8, [\"virtual-ref\", \"disabled\", \"visible\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}\n}\n\n})","<template>\n    <div class=\"page-tabs-bar\">\n        <div v-if=\"isShowScrollDirection\" class=\"icon-box\" @click=\"scrollTo('left')\">\n            <el-icon><ArrowLeft /></el-icon>\n        </div>\n        <div class=\"page-tabs\" ref=\"pageTabsRef\">\n            <div class=\"page-tabs-inner\">\n                <div\n                    class=\"page-tab\"\n                    :class=\"{ actived: pageViews.currentVisiteIndex === index, fixed: item.isFixed }\"\n                    v-for=\"(item, index) in pageViews.visitedViews\"\n                    :key=\"item.id\"\n                    ref=\"pageTabRefs\"\n                    @click=\"showPageTab(index)\"\n                    @contextmenu.stop.prevent=\"showContextmenuHandle(index)\"\n                >\n                    <span>{{ item.title }}</span>\n                    <el-icon @click.stop.prevent=\"closePageViews(index)\"><Close /></el-icon>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"isShowScrollDirection\" class=\"icon-box\" @click=\"scrollTo('right')\">\n            <el-icon><ArrowRight /></el-icon>\n        </div>\n    </div>\n    <el-popover\n        v-if=\"pageTabRefs[tabMenuPopover.tabIndex]\"\n        virtual-triggering\n        :virtual-ref=\"pageTabRefs[tabMenuPopover.tabIndex]\"\n        :disabled=\"!tabMenuPopover.isShow\"\n        popper-class=\"page-tab-menu-popper\"\n        v-model:visible=\"tabMenuPopover.isShow\"\n    >\n        <div class=\"page-tab-menu\" @click=\"tabMenuPopover.isShow = false\">\n            <div class=\"menu-item\" @click=\"refreshPage(tabMenuPopover.tabIndex)\">刷新</div>\n            <div\n                v-if=\"pageViews.visitedViews[tabMenuPopover.tabIndex].isFixed\"\n                class=\"menu-item\"\n                :class=\"{ disabled: tabMenuPopover.tabIndex === 0 }\"\n                @click=\"toggleFixStatus(tabMenuPopover.tabIndex)\"\n            >\n                取消固定\n            </div>\n            <div v-else class=\"menu-item\" :class=\"{ disabled: fixedNumberRunOut || !pageViews.visitedViews[tabMenuPopover.tabIndex].menuId }\" @click=\"toggleFixStatus(tabMenuPopover.tabIndex)\">\n                固定展示\n            </div>\n            <div class=\"menu-item\" @click=\"closePageViews(tabMenuPopover.tabIndex)\">关闭当前</div>\n            <div class=\"menu-item\" @click=\"pageViews.closeOtherPageViews(tabMenuPopover.tabIndex)\">关闭其他</div>\n            <div class=\"menu-item\" @click=\"pageViews.closeAllPageViews()\">全部关闭</div>\n        </div>\n    </el-popover>\n</template>\n<script setup lang=\"ts\">\nimport type { Router } from \"vue-router\";\nimport type { BScrollConstructor } from \"@better-scroll/core/dist/types/BScroll\";\nimport BScroll from \"@better-scroll/core\";\nimport MouseWheel from \"@better-scroll/mouse-wheel\";\nimport { ArrowLeft, Close, ArrowRight } from \"@element-plus/icons-vue\";\nimport { computed, watch } from \"vue\";\nimport { onMounted, onUnmounted, reactive, ref, nextTick } from \"vue\";\nimport { debounce } from \"@yujinjin/utils\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { pageViewsStore, storageStore } from \"@/stores\";\nimport { transitRoutePath } from \"@/routers\";\n\n// 全局路由对象\nconst router: Router = useRouter();\nconst route = useRoute();\n\n// vuex\nconst pageViews = pageViewsStore();\nconst storage = storageStore();\n\n// 固定的page 数量是否耗尽(最大6个固定，包括首页)\nconst fixedNumberRunOut = computed(() => {\n    return pageViews.visitedViews.filter(item => item.isFixed).length >= 6;\n});\n\n// pageTab ref\nconst pageTabsRef = ref<HTMLDivElement>();\n\n// page tabs ref\nconst pageTabRefs = ref<Array<HTMLDivElement>>([]);\n\n// better-scroll 实例\nconst scrollInstance = ref<BScrollConstructor>();\n\n// 是否显示滚动方向\nconst isShowScrollDirection = ref(false);\n\n// page tab 右键菜单选项\nconst tabMenuPopover = reactive({\n    isShow: false,\n    tabIndex: -1\n});\n\nwatch(\n    () => pageViews.visitedViews.length,\n    () => {\n        refreshScroll();\n    }\n);\n\nwatch(\n    () => route.fullPath,\n    () => {\n        if (pageViews.visitedViews[pageViews.currentVisiteIndex].routePath === route.fullPath) {\n            return;\n        }\n        // 当前路由是通过浏览器的前进或后台方式来跳转的,也存在外部某个页面跳转到某个tab页\n        const findIndex = pageViews.visitedViews.findIndex(item => item.routePath === route.fullPath);\n        if (findIndex !== -1) {\n            pageViews.$patch({ currentVisiteIndex: findIndex });\n            scrollToElement(pageTabRefs.value[findIndex]);\n        }\n    }\n);\n\n// 显示右键菜单操作\nconst showContextmenuHandle = function (index: number) {\n    tabMenuPopover.tabIndex = index;\n    tabMenuPopover.isShow = true;\n};\n\n// 刷新scroll\nconst refreshScroll = async function () {\n    await nextTick();\n    scrollInstance.value?.refresh();\n    const isShow = scrollInstance.value!.maxScrollX < 0;\n    if (isShow !== isShowScrollDirection.value) {\n        isShowScrollDirection.value = isShow;\n        await nextTick();\n        scrollInstance.value?.refresh();\n    }\n};\n\n// 左右滑动\nconst scrollTo = function (direction: \"left\" | \"right\") {\n    // scrollInstance.value?.refresh();\n    // 当前移动的距离\n    const moveDistance = 300;\n    if (direction === \"left\") {\n        scrollInstance.value?.scrollTo(scrollInstance.value?.x + moveDistance > 0 ? 0 : scrollInstance.value?.x + moveDistance, 0, 300);\n    } else {\n        scrollInstance.value?.scrollTo(scrollInstance.value?.x - moveDistance < scrollInstance.value?.maxScrollX ? scrollInstance.value?.maxScrollX : scrollInstance.value?.x - moveDistance, 0, 300);\n    }\n};\n\n// 滑动到某个元素上\nconst scrollToElement = function (element: HTMLDivElement) {\n    // 该元素距离左边的距离\n    const leftDistance = element.getBoundingClientRect().left - pageTabsRef.value!.getBoundingClientRect().left;\n    // 该元素距离右边的距离\n    const rightDistance = pageTabsRef.value!.getBoundingClientRect().right - element.getBoundingClientRect().right;\n    if (leftDistance < 150) {\n        scrollInstance.value?.scrollToElement(element, 300, -150, 0);\n    } else if (rightDistance < 150) {\n        scrollInstance.value?.scrollToElement(element, 300, 150 - rightDistance - leftDistance, 0);\n    }\n};\n\n// 关闭当前页\nconst closePageViews = function (index: number) {\n    pageViews.closePageViews(index);\n    if (pageViews.currentVisiteIndex !== index) {\n        if (pageViews.currentVisiteIndex === -1) {\n            // 当前tab已经被全部关闭，去欢迎页\n            router.push({ name: \"welcome\" });\n        } else {\n            // 打开新的路由页面\n            router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n    }\n};\n\n// 显示页面tab\nconst showPageTab = function (index: number) {\n    pageViews.$patch({ currentVisiteIndex: index });\n    scrollToElement(pageTabRefs.value[index]);\n    router.push(pageViews.visitedViews[index].routePath);\n};\n\n// 页面固定状态切换\nconst toggleFixStatus = function (index: number) {\n    if (pageViews.visitedViews[tabMenuPopover.tabIndex].isFixed && index === 0) {\n        // 第一个页面（欢迎页）不能取消固定\n        return;\n    } else if (!pageViews.visitedViews[tabMenuPopover.tabIndex].isFixed && (fixedNumberRunOut.value || !pageViews.visitedViews[tabMenuPopover.tabIndex].menuId)) {\n        // 当前页面固定的数额已经用完了或者当前页面不是从菜单进入的\n        return;\n    }\n    pageViews.toggleFixStatus(tabMenuPopover.tabIndex);\n    // 保存当前固定的页面状态\n    storage.setFixedMenuData(pageViews.visitedViews.filter(item => item.isFixed && item.id !== \"welcome\").map(item => item.menuId!));\n};\n\n// 刷新当前页面\nconst refreshPage = async function (index: number) {\n    if (pageViews.visitedViews[index].isIframe) {\n        // 刷新iframe\n        (document.querySelector(\"iframe[id='\" + pageViews.visitedViews[index].id + \"']\") as HTMLIFrameElement).src = pageViews.visitedViews[index].fullPath;\n    } else if (index === pageViews.currentVisiteIndex) {\n        // 当前正在展示的单页刷新\n        router.push(transitRoutePath({ pageIndex: index }));\n    } else {\n        // 未展示的单页刷新，只需短暂的把keep-alive 去掉就行了\n        const routePath = pageViews.visitedViews[index].routePath;\n        const routeName = router.resolve(routePath).name as string;\n        pageViews.insertExcludeCacheViewName(routeName);\n        await nextTick();\n        pageViews.deleteExcludeCacheViewName(routeName);\n    }\n};\n\n// 屏幕尺寸变化事件\nconst resizeHandle = debounce(refreshScroll, 100);\n\nonMounted(() => {\n    BScroll.use(MouseWheel);\n    scrollInstance.value = new BScroll(pageTabsRef.value!, {\n        scrollX: true,\n        scrollY: false,\n        mouseWheel: true\n    });\n    refreshScroll();\n    window.addEventListener(\"resize\", resizeHandle);\n});\n\nonUnmounted(() => {\n    scrollInstance.value?.destroy();\n    window.removeEventListener(\"resize\", resizeHandle);\n});\n</script>\n<style lang=\"scss\" scoped>\n.page-tabs-bar {\n    display: flex;\n    width: 100%;\n    overflow: hidden;\n    position: relative;\n    z-index: 1;\n    box-shadow: 0px 2px 4px 0 rgba(0, 0, 0, 0.15);\n    min-height: 32px;\n\n    .icon-box {\n        width: 35px;\n        color: #999;\n        display: flex;\n        font-size: 15px;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        background-color: #ffffff;\n        border-left: 1px solid #eee;\n        border-right: 1px solid #eee;\n        flex-shrink: 0;\n\n        &:hover {\n            background-color: #f2f2f2;\n        }\n    }\n\n    .page-tabs {\n        flex: 1;\n        overflow: hidden;\n        white-space: nowrap;\n\n        .page-tabs-inner {\n            display: inline-flex;\n            height: 100%;\n\n            .page-tab {\n                position: relative;\n                display: inline-flex;\n                padding: 0 8px;\n                transition: all 0.3s ease-out 0s;\n                color: #999;\n                border-right: 1px solid #eeeeee;\n                cursor: pointer;\n                min-width: 60px;\n                font-size: 12px;\n                line-height: 32px;\n                display: flex;\n                align-items: center;\n                flex-shrink: 0;\n\n                .el-icon {\n                    padding: 2px 3px;\n                    display: inline-block;\n                    height: auto;\n                    width: auto;\n                    border-radius: 50%;\n\n                    svg {\n                        transform: scale(0.8);\n                    }\n                }\n\n                &:hover {\n                    background-color: var(--el-color-primary-light-9);\n\n                    .el-icon {\n                        color: #999;\n                        background-color: var(--el-color-info-light-9);\n\n                        svg {\n                            transform: scale(1);\n                        }\n                    }\n                }\n\n                &.fixed::before {\n                    position: absolute;\n                    content: \"\";\n                    z-index: 1;\n                    right: 4px;\n                    top: 4px;\n                    width: 6px;\n                    height: 6px;\n                    border-radius: 50%;\n                    background-color: var(--el-color-primary);\n                }\n\n                &.actived {\n                    color: #fff;\n                    background-color: var(--el-color-primary);\n\n                    &.fixed::before {\n                        background-color: #fff;\n                    }\n                }\n\n                span {\n                    max-width: 220px;\n                    display: inline-block;\n                    white-space: nowrap;\n                    word-wrap: normal;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n            }\n        }\n    }\n}\n\n.page-tab-menu {\n    line-height: 30px;\n    color: #333;\n    width: 120px;\n    padding: 8px 0px;\n    font-size: 13px;\n\n    .menu-item {\n        cursor: pointer;\n        padding: 0px 20px;\n\n        &:hover {\n            background-color: var(--el-color-primary-light-9);\n            color: var(--el-color-primary);\n        }\n\n        &.disabled {\n            cursor: not-allowed;\n            color: var(--el-disabled-text-color);\n            background: none !important;\n        }\n    }\n}\n</style>\n<style lang=\"scss\">\n.el-popover.el-popper.page-tab-menu-popper {\n    padding: 0px;\n    width: 120px !important;\n    min-width: 120px;\n}\n</style>\n","import script from \"./page-tabs.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./page-tabs.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./page-tabs.vue?vue&type=style&index=0&id=2d61da6e&lang=scss&scoped=true\"\nimport \"./page-tabs.vue?vue&type=style&index=1&id=2d61da6e&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d61da6e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4e05bdca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"iframe-list\" }\nconst _hoisted_2 = [\"id\", \"src\", \"onLoad\"]\n\nimport { ref, computed, onUnmounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { pageViewsStore } from \"@/stores\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'iframe-list',\n  setup(__props) {\n\nconst router = useRouter();\n\nconst route = useRoute();\n\nconst pageViews = pageViewsStore();\n\n// iframe 列表\nconst iframeList = computed(() => {\n    return pageViews.visitedViews.filter(item => item.isIframe);\n});\n\nconst iframeRefList = ref<HTMLIFrameElement[]>([]);\n\n// 可以显示的iframe 索引\nconst showIframeIndex = computed(() => {\n    return iframeList.value.findIndex(item => item.id === pageViews.visitedViews[pageViews.currentVisiteIndex].id);\n});\n\nconst iframeLoad = function (index: number) {\n    logs.info(\"设置 IframeId：\" + iframeList.value[index].id);\n    iframeRefList.value[index].contentWindow?.postMessage({ eventType: \"setIframeId\", value: iframeList.value[index].id }, \"*\");\n};\n\n// 接手iframe发过来的消息\nconst receiveIfrmaeMessage = function (event: MessageEvent) {\n    if (event.data.eventType === \"openNewTabPage\") {\n        const beforePageIndex = pageViews.currentVisiteIndex;\n        // 打开新的tab page，如果有指定pageId有传值会判断当前已经打开的 tab 页里是否存在该 ID，存在的情况展示该 tab 页,不存在就新增一个 tab 页\n        pageViews.openPageByTabPage({ url: event.data.value.url, fromPageId: event.data.value.iframeId, title: event.data.value.title, pageId: event.data.value.pageId });\n        if (beforePageIndex !== pageViews.currentVisiteIndex) {\n            router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n        logs.info(event.data);\n    } else if (event.data.eventType === \"closeTabPage\") {\n        // 关闭tab page\n        const findIndex = pageViews.visitedViews.findIndex(item => item.id === event.data.value);\n        if (findIndex === -1) {\n            logs.error(\"当前关闭的页面标识不存在，请检查\");\n        } else {\n            pageViews.closePageViews(findIndex);\n            if (pageViews.currentVisiteIndex !== findIndex) {\n                if (pageViews.currentVisiteIndex === -1) {\n                    // 当前tab已经被全部关闭，去欢迎页\n                    router.push({ name: \"welcome\" });\n                } else {\n                    // 打开新的路由页面\n                    router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n                }\n            }\n        }\n        logs.info(event.data);\n    } else if (event.data.eventType === \"gotoTabPage\") {\n        // 跳转已经指定tab page，如果当前页面关闭成功发送true消息，如果页面已经关闭发送false消息\n        const pageId = event.data.value.pageId;\n        const callbackId = event.data.value.callbackId;\n        const findIndex = pageViews.visitedViews.findIndex(item => item.id === pageId);\n        if (findIndex === -1) {\n            logs.error(\"当前跳转页面标识肯能会因为用户已经手动关闭的缘故导致不存在了\");\n        } else if (findIndex !== pageViews.currentVisiteIndex) {\n            router.push(pageViews.visitedViews[findIndex].routePath);\n        }\n        if (callbackId) {\n            const fromPageId = event.data.value.iframeId;\n            const fromPageIndex = iframeList.value.findIndex(item => item.id === fromPageId);\n            iframeRefList.value[fromPageIndex].contentWindow?.postMessage({ eventType: \"callback\", value: findIndex !== -1, callbackId }, \"*\");\n        }\n    } else if (event.data.eventType === \"loginTokenExpired\") {\n        // 子页面发送过来消息说登录过期了，一般情况是框架去验证一遍是否真的过期了，如果没过期刷新页面重新传一下登录tonken，如果已过期就跳转到登录页重新登录就可以了\n        // TODO: 这个根据自己的系统情况来实现此业务\n    }\n};\n\nwindow.addEventListener(\"message\", receiveIfrmaeMessage);\n\nonUnmounted(() => {\n    window.removeEventListener(\"message\", receiveIfrmaeMessage);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(iframeList.value, (iframe, index) => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"iframe\", {\n        ref_for: true,\n        ref_key: \"iframeRefList\",\n        ref: iframeRefList,\n        key: iframe.id,\n        id: iframe.id,\n        src: iframe.fullPath,\n        scrolling: \"yes\",\n        frameborder: \"0\",\n        width: \"100%\",\n        height: \"100%\",\n        onLoad: ($event: any) => (iframeLoad(index))\n      }, null, 40, _hoisted_2)), [\n        [_vShow, index === showIframeIndex.value]\n      ])\n    }), 128))\n  ], 512)), [\n    [_vShow, _unref(route).name === 'external']\n  ])\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2023-12-20 15:14:12\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-01 11:17:21\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\iframe-list.vue\n * @描述: 引用外链的iframe列表\n-->\n<template>\n    <div class=\"iframe-list\" v-show=\"route.name === 'external'\">\n        <iframe\n            v-for=\"(iframe, index) in iframeList\"\n            v-show=\"index === showIframeIndex\"\n            ref=\"iframeRefList\"\n            :key=\"iframe.id\"\n            :id=\"iframe.id\"\n            :src=\"iframe.fullPath\"\n            scrolling=\"yes\"\n            frameborder=\"0\"\n            width=\"100%\"\n            height=\"100%\"\n            @load=\"iframeLoad(index)\"\n        ></iframe>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport { ref, computed, onUnmounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { pageViewsStore } from \"@/stores\";\n\nconst router = useRouter();\n\nconst route = useRoute();\n\nconst pageViews = pageViewsStore();\n\n// iframe 列表\nconst iframeList = computed(() => {\n    return pageViews.visitedViews.filter(item => item.isIframe);\n});\n\nconst iframeRefList = ref<HTMLIFrameElement[]>([]);\n\n// 可以显示的iframe 索引\nconst showIframeIndex = computed(() => {\n    return iframeList.value.findIndex(item => item.id === pageViews.visitedViews[pageViews.currentVisiteIndex].id);\n});\n\nconst iframeLoad = function (index: number) {\n    logs.info(\"设置 IframeId：\" + iframeList.value[index].id);\n    iframeRefList.value[index].contentWindow?.postMessage({ eventType: \"setIframeId\", value: iframeList.value[index].id }, \"*\");\n};\n\n// 接手iframe发过来的消息\nconst receiveIfrmaeMessage = function (event: MessageEvent) {\n    if (event.data.eventType === \"openNewTabPage\") {\n        const beforePageIndex = pageViews.currentVisiteIndex;\n        // 打开新的tab page，如果有指定pageId有传值会判断当前已经打开的 tab 页里是否存在该 ID，存在的情况展示该 tab 页,不存在就新增一个 tab 页\n        pageViews.openPageByTabPage({ url: event.data.value.url, fromPageId: event.data.value.iframeId, title: event.data.value.title, pageId: event.data.value.pageId });\n        if (beforePageIndex !== pageViews.currentVisiteIndex) {\n            router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n        logs.info(event.data);\n    } else if (event.data.eventType === \"closeTabPage\") {\n        // 关闭tab page\n        const findIndex = pageViews.visitedViews.findIndex(item => item.id === event.data.value);\n        if (findIndex === -1) {\n            logs.error(\"当前关闭的页面标识不存在，请检查\");\n        } else {\n            pageViews.closePageViews(findIndex);\n            if (pageViews.currentVisiteIndex !== findIndex) {\n                if (pageViews.currentVisiteIndex === -1) {\n                    // 当前tab已经被全部关闭，去欢迎页\n                    router.push({ name: \"welcome\" });\n                } else {\n                    // 打开新的路由页面\n                    router.push(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n                }\n            }\n        }\n        logs.info(event.data);\n    } else if (event.data.eventType === \"gotoTabPage\") {\n        // 跳转已经指定tab page，如果当前页面关闭成功发送true消息，如果页面已经关闭发送false消息\n        const pageId = event.data.value.pageId;\n        const callbackId = event.data.value.callbackId;\n        const findIndex = pageViews.visitedViews.findIndex(item => item.id === pageId);\n        if (findIndex === -1) {\n            logs.error(\"当前跳转页面标识肯能会因为用户已经手动关闭的缘故导致不存在了\");\n        } else if (findIndex !== pageViews.currentVisiteIndex) {\n            router.push(pageViews.visitedViews[findIndex].routePath);\n        }\n        if (callbackId) {\n            const fromPageId = event.data.value.iframeId;\n            const fromPageIndex = iframeList.value.findIndex(item => item.id === fromPageId);\n            iframeRefList.value[fromPageIndex].contentWindow?.postMessage({ eventType: \"callback\", value: findIndex !== -1, callbackId }, \"*\");\n        }\n    } else if (event.data.eventType === \"loginTokenExpired\") {\n        // 子页面发送过来消息说登录过期了，一般情况是框架去验证一遍是否真的过期了，如果没过期刷新页面重新传一下登录tonken，如果已过期就跳转到登录页重新登录就可以了\n        // TODO: 这个根据自己的系统情况来实现此业务\n    }\n};\n\nwindow.addEventListener(\"message\", receiveIfrmaeMessage);\n\nonUnmounted(() => {\n    window.removeEventListener(\"message\", receiveIfrmaeMessage);\n});\n</script>\n<style lang=\"scss\" scoped>\n.iframe-list {\n    flex: 1;\n    background-color: #fff;\n    overflow: hidden;\n    position: relative;\n}\n</style>\n","import script from \"./iframe-list.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./iframe-list.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./iframe-list.vue?vue&type=style&index=0&id=4e05bdca&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4e05bdca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35b6631d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport { onMounted, ref } from \"vue\";\nimport { storageStore } from \"@/stores\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'system-tour',\n  setup(__props) {\n\nconst storageData = storageStore();\n\nconst isShow = ref(false);\n\nconst init = function () {\n    const systemTourVersionValue = storageData.getSystemTourVersionValue();\n    if (!systemTourVersionValue) {\n        // 没有展示过系统引导提示\n        isShow.value = true;\n    } else {\n        // 获取到上次展示的版本号，根据实际的业务这次是否展示\n        isShow.value = false;\n    }\n};\n\nconst closeHandle = function () {\n    storageData.setSystemTourVersionValue(\"1\");\n};\n\nonMounted(() => {\n    init();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tour_step = _resolveComponent(\"el-tour-step\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_tour = _resolveComponent(\"el-tour\")!\n\n  return (_openBlock(), _createBlock(_component_el_tour, {\n    modelValue: isShow.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isShow).value = $event)),\n    onClose: closeHandle\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_tour_step, { title: \"引导提示开始\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 欢迎来到中后台内容管理系统 \"),\n          _hoisted_1,\n          _createTextVNode(\" 本系统是vue3 + element-plus + ts + vue-cli5的技术架构，基于element-plus再次封装，为快速搭建企业级中后台内容管理功能并实现统一UI、编码风格的一套前端解决方案。 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .side-bar\",\n        placement: \"right\",\n        title: \"菜单\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"当前登录用户的菜单列表，鼠标点击跳转不同的页面\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .side-bar > .search-box > .el-select\",\n        placement: \"right\",\n        title: \"查找菜单\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 当菜单比较多的时候可以根据搜索菜单的名字快速匹配出相关菜单列表，点击下拉框就会跳转到对应菜单页面并定位到菜单中的位置 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .header-bar > .left-inner > .icon-box\",\n        placement: \"bottom\",\n        title: \"菜单最小化\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 鼠标点击可以最小化菜单栏，最小化的菜单栏通过鼠标移动才会自动展示其菜单列表 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .header-bar > .center-inner > .el-breadcrumb\",\n        placement: \"bottom\",\n        title: \"页面路径\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 显示当前页面的菜单路径，如果当前页面是非菜单页面会显示出它来源菜单页面路径 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .header-bar > .right-inner > .message-box\",\n        placement: \"bottom\",\n        title: \"消息列表\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"显示当前未读消息列表，可清空，可查看详情\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .header-bar > .right-inner > .icon-box\",\n        placement: \"bottom\",\n        title: \"刷新\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"刷新当前正在展示的页面内容区域\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .header-bar > .right-inner > .login-info-box\",\n        placement: \"bottom\",\n        title: \"登录用户\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 展示当前登录用户的头像和登录名，点击展示下拉菜单可查看我的账户信息、修改登录密码、退出登录操作 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .page-content > .page-tabs-bar\",\n        placement: \"bottom\",\n        title: \"页面导航\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" 展示当前已经打开页面和固定展示页面列表，对于已设置固定的导航页面右上角会有绿点状态标记，可 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"切换\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"关闭\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 页面，当页面导航过多时会自动显示左右滑动的图标进行滑动。 \"),\n          _hoisted_2,\n          _hoisted_3,\n          _createTextVNode(\" 右键点击导航页面可进行 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"切换\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"取消固定\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"固定展示\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"关闭当前\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"关闭其他\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 、 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"全部关闭\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 操作。 \"),\n          _hoisted_4,\n          _hoisted_5,\n          _createTextVNode(\" 对于 \"),\n          _createVNode(_component_el_tag, { type: \"primary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"固定展示\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" 操作只能针对通过菜单跳转的页面，而且目前最多只能展示4个。 \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_tour_step, {\n        target: \".main > .page-content > .page-view\",\n        placement: \"left\",\n        title: \"页面内容\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"页面内容区域\")\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2024-03-04 10:12:52\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-05 18:10:29\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\components\\system-tour.vue\n * @描述: 进入系统给出引导提示\n-->\n<template>\n    <el-tour v-model=\"isShow\" @close=\"closeHandle\">\n        <el-tour-step title=\"引导提示开始\">\n            欢迎来到中后台内容管理系统\n            <br />\n            本系统是vue3 + element-plus + ts + vue-cli5的技术架构，基于element-plus再次封装，为快速搭建企业级中后台内容管理功能并实现统一UI、编码风格的一套前端解决方案。\n        </el-tour-step>\n        <el-tour-step target=\".main > .side-bar\" placement=\"right\" title=\"菜单\">当前登录用户的菜单列表，鼠标点击跳转不同的页面</el-tour-step>\n        <el-tour-step target=\".main > .side-bar > .search-box > .el-select\" placement=\"right\" title=\"查找菜单\">\n            当菜单比较多的时候可以根据搜索菜单的名字快速匹配出相关菜单列表，点击下拉框就会跳转到对应菜单页面并定位到菜单中的位置\n        </el-tour-step>\n        <el-tour-step target=\".main > .header-bar > .left-inner > .icon-box\" placement=\"bottom\" title=\"菜单最小化\">\n            鼠标点击可以最小化菜单栏，最小化的菜单栏通过鼠标移动才会自动展示其菜单列表\n        </el-tour-step>\n        <el-tour-step target=\".main > .header-bar > .center-inner > .el-breadcrumb\" placement=\"bottom\" title=\"页面路径\">\n            显示当前页面的菜单路径，如果当前页面是非菜单页面会显示出它来源菜单页面路径\n        </el-tour-step>\n        <el-tour-step target=\".main > .header-bar > .right-inner > .message-box\" placement=\"bottom\" title=\"消息列表\">显示当前未读消息列表，可清空，可查看详情</el-tour-step>\n        <el-tour-step target=\".main > .header-bar > .right-inner > .icon-box\" placement=\"bottom\" title=\"刷新\">刷新当前正在展示的页面内容区域</el-tour-step>\n        <el-tour-step target=\".main > .header-bar > .right-inner > .login-info-box\" placement=\"bottom\" title=\"登录用户\">\n            展示当前登录用户的头像和登录名，点击展示下拉菜单可查看我的账户信息、修改登录密码、退出登录操作\n        </el-tour-step>\n        <el-tour-step target=\".main > .page-content > .page-tabs-bar\" placement=\"bottom\" title=\"页面导航\">\n            展示当前已经打开页面和固定展示页面列表，对于已设置固定的导航页面右上角会有绿点状态标记，可\n            <el-tag type=\"primary\">切换</el-tag>\n            、\n            <el-tag type=\"primary\">关闭</el-tag>\n            页面，当页面导航过多时会自动显示左右滑动的图标进行滑动。\n            <br />\n            <br />\n            右键点击导航页面可进行\n            <el-tag type=\"primary\">切换</el-tag>\n            、\n            <el-tag type=\"primary\">取消固定</el-tag>\n            、\n            <el-tag type=\"primary\">固定展示</el-tag>\n            、\n            <el-tag type=\"primary\">关闭当前</el-tag>\n            、\n            <el-tag type=\"primary\">关闭其他</el-tag>\n            、\n            <el-tag type=\"primary\">全部关闭</el-tag>\n            操作。\n            <br />\n            <br />\n            对于\n            <el-tag type=\"primary\">固定展示</el-tag>\n            操作只能针对通过菜单跳转的页面，而且目前最多只能展示4个。\n        </el-tour-step>\n        <el-tour-step target=\".main > .page-content > .page-view\" placement=\"left\" title=\"页面内容\">页面内容区域</el-tour-step>\n    </el-tour>\n</template>\n<script setup lang=\"ts\">\nimport { onMounted, ref } from \"vue\";\nimport { storageStore } from \"@/stores\";\n\nconst storageData = storageStore();\n\nconst isShow = ref(false);\n\nconst init = function () {\n    const systemTourVersionValue = storageData.getSystemTourVersionValue();\n    if (!systemTourVersionValue) {\n        // 没有展示过系统引导提示\n        isShow.value = true;\n    } else {\n        // 获取到上次展示的版本号，根据实际的业务这次是否展示\n        isShow.value = false;\n    }\n};\n\nconst closeHandle = function () {\n    storageData.setSystemTourVersionValue(\"1\");\n};\n\nonMounted(() => {\n    init();\n});\n</script>\n<style lang=\"scss\" scoped>\n.tpl {\n}\n</style>\n","import script from \"./system-tour.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./system-tour.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./system-tour.vue?vue&type=style&index=0&id=35b6631d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35b6631d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, KeepAlive as _KeepAlive, resolveComponent as _resolveComponent, withCtx as _withCtx, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4ca52d0a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main\" }\nconst _hoisted_2 = { class: \"page-content\" }\n\nimport type { Router } from \"vue-router\";\nimport type { System } from \"/#/modules/system\";\nimport { ElMessage } from \"element-plus\";\nimport { computed, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { pageViewsStore, storageStore } from \"@/stores\";\nimport headerBar from \"./components/header-bar.vue\";\nimport sideBar from \"./components/side-bar.vue\";\nimport pageTabs from \"./components/page-tabs.vue\";\nimport iframeList from \"./components/iframe-list.vue\";\nimport systemTour from \"./components/system-tour.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  ...{\n    // 在渲染该组件的对应路由被验证前调用\n    beforeRouteEnter(to, from, next) {\n        if (to.name === \"welcome\") {\n            // 欢迎页正常跳转\n            next();\n        } else if (to.query.menuId || to.params.menuId) {\n            // 当前是菜单链接，先跳转到欢迎页，检验当前用户的有该菜单的权限后才能跳转到菜单页\n            next({ name: \"welcome\", query: { toMenuId: to.query.menuId || to.params.menuId } });\n        } else {\n            // 其他非法链接直接跳转到欢迎页\n            next({ name: \"welcome\" });\n        }\n    }\n},\n  __name: 'index',\n  setup(__props) {\n\n\n\nconst pageViews = pageViewsStore();\n\nconst storage = storageStore();\n\nconst router: Router = useRouter();\n\n// 面包屑导航名称列表\nconst breadcrumbNames = ref<string[]>();\n\n// 当前需要缓存的页面列表\nconst cachedViews = computed(() => {\n    const routeNames: string[] = [];\n    pageViews.visitedViews.forEach(item => {\n        const routeName = router.resolve(item.routePath).name as string;\n        if (!routeNames.includes(routeName)) {\n            routeNames.push(routeName);\n        }\n    });\n    return routeNames;\n});\n\n// 切换侧边菜单栏的折叠状态\nconst toggleMenuCollapseStateHandle = function () {\n    storage.setMenuCollapseState(!storage.menuCollapseState);\n};\n\n// 查找菜单数据\nconst findMenuById = function (menuList: System.MenuTree[], menuId: string): null | System.MenuTree {\n    const findMenu = menuList.find(menuItem => menuId.startsWith(menuItem.id));\n    if (!findMenu) {\n        return null;\n    } else if (findMenu.id === menuId) {\n        return findMenu;\n    } else if (findMenu.childList.length === 0) {\n        return null;\n    }\n    return findMenuById(findMenu.childList, menuId);\n};\n\n// 初始化上次固定展示的页面列表\nconst initLocalStoragePageViews = function (menuTreeData: System.MenuTree[]) {\n    const menuIdList = storage.getFixedMenuData();\n\n    if (!menuIdList || menuIdList.length === 0) {\n        return;\n    }\n\n    const findMenuList: System.MenuTree[] = [];\n\n    menuIdList.forEach(menuId => {\n        const findMenu = findMenuById(menuTreeData, menuId);\n        if (findMenu?.url && findMenu?.childList.length === 0) {\n            findMenuList.push(findMenu);\n        }\n    });\n\n    findMenuList.forEach(menuItem => {\n        // 路由地址\n        pageViews.openPageByMenu({\n            id: menuItem.id,\n            name: menuItem.name,\n            url: menuItem.url\n        });\n        // 固定当前菜单地址\n        pageViews.toggleFixStatus(pageViews.currentVisiteIndex);\n    });\n\n    if (findMenuList.length !== menuIdList.length) {\n        // 如果当前的菜单地址有变化导致之前选择固定展示的页面不一致，这里重新保存一下\n        storage.setFixedMenuData(findMenuList.map(menuItem => menuItem.id));\n    }\n};\n\n// 侧边栏加载完成\nconst sideBarLoadedHandle = function (menuTreeData: System.MenuTree[]) {\n    initLocalStoragePageViews(menuTreeData);\n    if (pageViews.currentVisiteIndex !== 0) {\n        pageViews.$patch({\n            currentVisiteIndex: 0\n        });\n    }\n    // 判断当前是否是中转页，如果是中转页则要跳转会原来的地址\n    if (router.currentRoute.value.name === \"welcome\" && router.currentRoute.value.query.toMenuId) {\n        const menuData = findMenuById(menuTreeData, router.currentRoute.value.query.toMenuId as string);\n        if (menuData) {\n            // 路由地址\n            pageViews.openPageByMenu({\n                id: menuData.id,\n                name: menuData.name,\n                url: menuData.url\n            });\n            router.replace(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n    }\n};\n\nconst init = function () {\n    if (window.screen.height < 768 || window.screen.width < 1366) {\n        ElMessage.warning(\"当前管理系统屏幕分辨率最佳体验不低于1366*768!\");\n    }\n    if (pageViews.visitedViews.findIndex(view => view.id === \"welcome\") === -1) {\n        // 初始化欢迎页面\n        pageViews.$patch(state => {\n            state.visitedViews.push({\n                id: \"welcome\",\n                routePath: router.resolve({ name: \"welcome\" }).fullPath,\n                title: \"首页\",\n                fullPath: router.resolve({ name: \"welcome\" }).fullPath,\n                isIframe: false,\n                isFixed: true\n            });\n        });\n    }\n};\n\ninit();\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(headerBar, {\n      menuCollapseState: _unref(storage).menuCollapseState,\n      breadcrumbNames: breadcrumbNames.value,\n      onToggleMenuCollapseState: toggleMenuCollapseStateHandle\n    }, null, 8, [\"menuCollapseState\", \"breadcrumbNames\"]),\n    _createVNode(sideBar, {\n      menuCollapseState: _unref(storage).menuCollapseState,\n      onLoaded: sideBarLoadedHandle,\n      onNavigationChange: _cache[0] || (_cache[0] = value => (breadcrumbNames.value = value))\n    }, null, 8, [\"menuCollapseState\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(pageTabs),\n      _createVNode(_component_router_view, null, {\n        default: _withCtx(({ Component }) => [\n          (_openBlock(), _createBlock(_KeepAlive, {\n            include: cachedViews.value,\n            exclude: _unref(pageViews).excludeCacheViewNames\n          }, [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(Component), { class: \"page-view\" }))\n          ], 1032, [\"include\", \"exclude\"]))\n        ]),\n        _: 1\n      }),\n      _createVNode(iframeList)\n    ]),\n    _createVNode(systemTour)\n  ]))\n}\n}\n\n})","<!--\n * @创建者: yujinjin9@126.com\n * @创建时间: 2022-12-19 14:21:12\n * @最后修改作者: yujinjin9@126.com\n * @最后修改时间: 2024-03-04 11:53:41\n * @项目的路径: \\vue-manager-system\\src\\views\\home\\index.vue\n * @描述: 中台主页\n-->\n<template>\n    <div class=\"main\">\n        <header-bar :menuCollapseState=\"storage.menuCollapseState\" :breadcrumbNames=\"breadcrumbNames\" @toggleMenuCollapseState=\"toggleMenuCollapseStateHandle\" />\n        <!-- 侧边栏 -->\n        <side-bar :menuCollapseState=\"storage.menuCollapseState\" @loaded=\"sideBarLoadedHandle\" @navigationChange=\"value => (breadcrumbNames = value)\" />\n        <div class=\"page-content\">\n            <!-- 页面tab列表 -->\n            <page-tabs />\n            <router-view v-slot=\"{ Component }\">\n                <keep-alive :include=\"cachedViews\" :exclude=\"pageViews.excludeCacheViewNames\">\n                    <component class=\"page-view\" :is=\"Component\" />\n                </keep-alive>\n            </router-view>\n            <!-- 引用外链的iframe列表 -->\n            <iframe-list />\n        </div>\n        <system-tour />\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Router } from \"vue-router\";\nimport type { System } from \"/#/modules/system\";\nimport { ElMessage } from \"element-plus\";\nimport { computed, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { pageViewsStore, storageStore } from \"@/stores\";\nimport headerBar from \"./components/header-bar.vue\";\nimport sideBar from \"./components/side-bar.vue\";\nimport pageTabs from \"./components/page-tabs.vue\";\nimport iframeList from \"./components/iframe-list.vue\";\nimport systemTour from \"./components/system-tour.vue\";\n\ndefineOptions({\n    // 在渲染该组件的对应路由被验证前调用\n    beforeRouteEnter(to, from, next) {\n        if (to.name === \"welcome\") {\n            // 欢迎页正常跳转\n            next();\n        } else if (to.query.menuId || to.params.menuId) {\n            // 当前是菜单链接，先跳转到欢迎页，检验当前用户的有该菜单的权限后才能跳转到菜单页\n            next({ name: \"welcome\", query: { toMenuId: to.query.menuId || to.params.menuId } });\n        } else {\n            // 其他非法链接直接跳转到欢迎页\n            next({ name: \"welcome\" });\n        }\n    }\n});\n\nconst pageViews = pageViewsStore();\n\nconst storage = storageStore();\n\nconst router: Router = useRouter();\n\n// 面包屑导航名称列表\nconst breadcrumbNames = ref<string[]>();\n\n// 当前需要缓存的页面列表\nconst cachedViews = computed(() => {\n    const routeNames: string[] = [];\n    pageViews.visitedViews.forEach(item => {\n        const routeName = router.resolve(item.routePath).name as string;\n        if (!routeNames.includes(routeName)) {\n            routeNames.push(routeName);\n        }\n    });\n    return routeNames;\n});\n\n// 切换侧边菜单栏的折叠状态\nconst toggleMenuCollapseStateHandle = function () {\n    storage.setMenuCollapseState(!storage.menuCollapseState);\n};\n\n// 查找菜单数据\nconst findMenuById = function (menuList: System.MenuTree[], menuId: string): null | System.MenuTree {\n    const findMenu = menuList.find(menuItem => menuId.startsWith(menuItem.id));\n    if (!findMenu) {\n        return null;\n    } else if (findMenu.id === menuId) {\n        return findMenu;\n    } else if (findMenu.childList.length === 0) {\n        return null;\n    }\n    return findMenuById(findMenu.childList, menuId);\n};\n\n// 初始化上次固定展示的页面列表\nconst initLocalStoragePageViews = function (menuTreeData: System.MenuTree[]) {\n    const menuIdList = storage.getFixedMenuData();\n\n    if (!menuIdList || menuIdList.length === 0) {\n        return;\n    }\n\n    const findMenuList: System.MenuTree[] = [];\n\n    menuIdList.forEach(menuId => {\n        const findMenu = findMenuById(menuTreeData, menuId);\n        if (findMenu?.url && findMenu?.childList.length === 0) {\n            findMenuList.push(findMenu);\n        }\n    });\n\n    findMenuList.forEach(menuItem => {\n        // 路由地址\n        pageViews.openPageByMenu({\n            id: menuItem.id,\n            name: menuItem.name,\n            url: menuItem.url\n        });\n        // 固定当前菜单地址\n        pageViews.toggleFixStatus(pageViews.currentVisiteIndex);\n    });\n\n    if (findMenuList.length !== menuIdList.length) {\n        // 如果当前的菜单地址有变化导致之前选择固定展示的页面不一致，这里重新保存一下\n        storage.setFixedMenuData(findMenuList.map(menuItem => menuItem.id));\n    }\n};\n\n// 侧边栏加载完成\nconst sideBarLoadedHandle = function (menuTreeData: System.MenuTree[]) {\n    initLocalStoragePageViews(menuTreeData);\n    if (pageViews.currentVisiteIndex !== 0) {\n        pageViews.$patch({\n            currentVisiteIndex: 0\n        });\n    }\n    // 判断当前是否是中转页，如果是中转页则要跳转会原来的地址\n    if (router.currentRoute.value.name === \"welcome\" && router.currentRoute.value.query.toMenuId) {\n        const menuData = findMenuById(menuTreeData, router.currentRoute.value.query.toMenuId as string);\n        if (menuData) {\n            // 路由地址\n            pageViews.openPageByMenu({\n                id: menuData.id,\n                name: menuData.name,\n                url: menuData.url\n            });\n            router.replace(pageViews.visitedViews[pageViews.currentVisiteIndex].routePath);\n        }\n    }\n};\n\nconst init = function () {\n    if (window.screen.height < 768 || window.screen.width < 1366) {\n        ElMessage.warning(\"当前管理系统屏幕分辨率最佳体验不低于1366*768!\");\n    }\n    if (pageViews.visitedViews.findIndex(view => view.id === \"welcome\") === -1) {\n        // 初始化欢迎页面\n        pageViews.$patch(state => {\n            state.visitedViews.push({\n                id: \"welcome\",\n                routePath: router.resolve({ name: \"welcome\" }).fullPath,\n                title: \"首页\",\n                fullPath: router.resolve({ name: \"welcome\" }).fullPath,\n                isIframe: false,\n                isFixed: true\n            });\n        });\n    }\n};\n\ninit();\n</script>\n\n<style scoped lang=\"less\">\n.main {\n    width: 100%;\n    height: 100vh;\n    position: relative;\n    display: flex;\n    min-width: 1350px;\n    min-height: 600px;\n    padding-top: 45px;\n\n    .page-content {\n        flex: 1;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n\n        // .page-navbar {\n        //     height: 38px;\n        //     line-height: 38px;\n        //     width: 100%;\n        //     overflow: hidden;\n        //     position: relative;\n        //     z-index: 1;\n        //     background-color: #fafafa;\n        //     box-shadow: 4px 2px 4px 0 rgba(0, 0, 0, 0.15);\n        // }\n\n        // .page-body {\n        //     flex: 1;\n        //     height: 100%;\n        //     background-color: #fff;\n        //     overflow: hidden;\n        //     display: flex;\n        //     flex-direction: column;\n        //     position: relative;\n        //     padding-left: 8px;\n        // }\n\n        .page-view {\n            flex: 1;\n            background-color: #fff;\n            overflow-x: hidden;\n            position: relative;\n        }\n    }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4ca52d0a&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4ca52d0a\"]])\n\nexport default __exports__"],"names":["login","inputData","ajaxOptions","request","Object","assign","url","data","sendValidateCode","method","queryUnreadMessages","queryLoginUserMenus","updateLoginPassword","updateLoginUserInfo","queryPageModuleList","params","queryModuleList","addOrUpdateModule","deleteModuleById","id","queryPageMenuList","queryMenuList","addOrUpdateMenu","toggleMenuLockStatus","queryRoleListByMenuId","deleteMenu","uploadMenusExcel","file","commonApi","upload","batchInsertMenus","queryPageRoleList","queryRoleList","queryMenuListByRoleId","addOrUpdateRole","toggleRoleLockStatus","updateMenusByRoleId","deleteRole","uploadRolesExcel","batchInsertRoles","queryPageUserList","queryRoleListByUserId","addOrUpdateUser","updateRoleListByUserId","deleteUser","toggleUserLockStatus","resetUerPassword","uploadUsersExcel","batchInsertUers","queryPageMessageList","insertMessage","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","key","src","_imports_0","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createElementVNode","_hoisted_11","_createTextVNode","_defineComponent","__name","setup","__props","unreadMessages","ref","async","value","systemAPI","messageCommandHandle","index","logs","info","_ctx","_cache","_component_el_icon","_resolveComponent","_component_el_badge","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_openBlock","_createBlock","onCommand","dropdown","_withCtx","_createVNode","default","length","_createElementBlock","_Fragment","_renderList","slice","messageItem","command","senderAvatar","_toDisplayString","title","content","_unref","timeDifferenceFormat","sendTime","_","max","hidden","ChatLineRound","__exports__","props","isShow","type","Boolean","emits","emit","__emit","dialogFormRef","storageData","storageStore","dialogProps","reactive","width","inputForm","fields","name","label","loginUserInfo","userName","gender","slot","avatar","formItemProps","rules","required","message","email","pattern","phoneNumber","buttons","text","click","inputFormValue","validate","$patch","state","ElMessage","success","_component_img_upload","_component_dialog_form","ref_key","inputFormProps","onClose","$event","formValue","modelValue","uploadProps","showFileList","limit","cropperProps","_normalizeClass","empty","Check","onClick","_withModifiers","Close","Plus","maxlength","trigger","validator","rule","callback","getInputValue","newPassword","Error","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","menuCollapseState","breadcrumbNames","Array","router","useRouter","pageViews","pageViewsStore","isShowUserInfoDialog","isShowUpdatePasswordDialog","omitBreadcrumbNames","computed","refreshCurrentPageHandle","currentVisiteIndex","visitedViews","isIframe","document","querySelector","fullPath","push","transitRoutePath","pageIndex","toggleMenuCollapseState","loginUserCommandHandle","_component_svg_icon","_component_el_breadcrumb_item","_component_el_breadcrumb","_component_el_tooltip","actived","ArrowRight","_createCommentVNode","messages","Refresh","divided","height","CaretBottom","loginInfoDialog","updatePasswordDialog","render","$props","$setup","$data","$options","_component_menu_text","_component_el_menu_item","_component_menu_list","_component_el_sub_menu","menuTreeData","menuItem","childList","icons","require","isDisabledTips","routePath","menuHref","config","projectContentPath","isWebHash","externalLink","clickEvent","e","stopPropagation","preventDefault","openPageByMenu","mouseenterEvent","currentTarget","scrollWidth","clientWidth","onMounted","isExternalLink","externalRoutePath","menuId","innerRoutePath","effect","placement","disabled","onMouseenter","href","defineComponent","components","menuText","currentMenuId","scrollbarRef","isLoadingForMenus","searchSelectValue","searchMenuList","initCurrentNavigationNames","findMenuNames","menuList","find","menu","startsWith","findIndex","view","fromPageId","initMenuTreeData","menuTreeList","ElMessageBox","alert","tempMenuTreeList","forEach","item","menuTree","parentId","moduleCode","newMenuList","tempNewMenuList","i","findMenu","tree","splice","searchMenuHandle","query","debug","matchMenuTreeName","menuNames","isAllInsert","includes","newMenuNames","join","trim","gotoPage","menuSelectChange","undefined","selectedMenuHandle","keyPath","watch","immediate","_component_el_option","_component_el_select","_component_el_menu","_directive_loading","_resolveDirective","_withDirectives","collapse","filterable","remote","placeholder","onChange","_vShow","ElScrollbar","onSelect","extendStatics","d","b","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__assign","t","s","arguments","apply","__spreadArrays","il","r","k","a","j","jl","propertiesConfig","sourceKey","warn","msg","console","error","inBrowser","window","ua","navigator","userAgent","toLowerCase","isWeChatDevTools","test","isAndroid","indexOf","isIOSBadVersion","regex","matches","exec","parts","split","map","parseInt","supportsPassive","EventName","opts","defineProperty","get","addEventListener","getNow","performance","now","timing","navigationStart","Date","extend","target","source","isUndef","v","between","x","min","elementStyle","createElement","style","vendor","transformNames","_i","transformNames_1","obj","prefixStyle","charAt","toUpperCase","substr","getElement","el","addEvent","fn","capture","useCapture","passive","removeEvent","removeEventListener","maybePrevent","cancelable","offset","left","top","offsetLeft","offsetTop","offsetParent","transform","transition","hasPerspective","hasTouch","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","transitionProperty","eventTypeMap","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","getRect","SVGElement","rect","getBoundingClientRect","offsetWidth","offsetHeight","preventDefaultExceptionFn","exceptions","tagExceptionFn","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","event","eventSource","changedTouches","posSrc","screenX","screenY","clientX","clientY","bubbles","ctrlKey","shiftKey","altKey","metaKey","pressedKeysMap","MouseEvent","forwardedTouchEvent","_constructed","dblclick","ease","swipe","swipeBounce","bounce","DEFAULT_INTERVAL","windowCompat","noop$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","setTimeout","interval","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","clearTimeout","noop","val","sharedPropertyDefinition","enumerable","configurable","set","getProperty","keys","lastKey","pop","setProperty","temp","propertiesProxy","EventEmitter","names","events","eventTypes","registerType","on","context","hasType","once","_this","magic","args","off","ret","count","len","eventsCopy","event_1","destroy","types","isType","JSON","stringify","EventRegister","wrapper","addDOMEvents","removeDOMEvents","handleDOMEvents","eventOperation","handleEvent","eventType","some","handler","CustomOptions","OptionsConstructor","_super","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","bottom","right","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefaultException","tagName","tagException","HWCompositing","useTransition","bindToWrapper","bindToTarget","disableMouse","disableTouch","autoBlur","autoEndDistance","outOfBoundaryDampingFactor","specifiedIndexAsContent","quadrant","merge","options","resolveBounce","process","translateZ","bounceOptions","DEFAULT_BOUNCE","NEGATED_BOUNCE","ActionsHandler","hooks","_a","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","bind","start","move","end","wrapperEventRegister","targetEventRegister","beforeHandler","preventDefaultConditions","setInitiated","initiated","_eventType","button","beforeStart","point","touches","pointX","pointY","deltaX","deltaY","scrollLeft","documentElement","pageXOffset","body","scrollTop","pageYOffset","pX","pY","clientHeight","setContent","rebindDOMEvents","translaterMetaData","y","Translater","getComputedPosition","cssStyle","getComputedStyle","matrix","translate","transformStyle","transformFnName","transformFnArgUnit","transformFnArg","beforeTranslate","Base","translater","timer","endPoint","setPending","pending","setForceStopped","forceStopped","setCallStop","called","callStopWhenPending","stop","clearTimer","isValidPostion","startPoint","currentPos","prePos","computeDirection","endValue","startValue","delta","direction","directionX","directionY","Transition","startProbe","probe","pos","transitionTime","time","easing","timeFunction","easingFn","isRealtimeProbeType","_reflow","doStop","forceStop","stopFromTransition","callStop","Animation","animate","duration","startTime","destTime","step","newPoint","stopFromAnimation","createAnimater","element","animaterOptions","_b","_c","_d","Behavior","refresh","dist","setMovingDirection","setDirection","hasScroll","performDampingAlgorithm","movingDirection","dampingFactor","newPos","minScrollPos","maxScrollPos","bounces","momentumInfo","absDist","Math","abs","startPos","wrapperSize","destination","current","lowerMargin","upperMargin","distance","speed","momentumData","rate","round","updateDirection","absStartPos","size","position","isWrapperStatic","wrapperRect","contentRect","contentSize","relativeOffset","computeBoundary","resetState","resetStartPos","beforeComputeBoundary","boundary","scrollable","updatePosition","getCurrentPos","checkInBoundary","adjustPosition","inBoundary","ignoreHasScroll","updateStartPos","updateAbsStartPos","getAbsDist","PassthroughHandlers","DirectionMap","DirectionLockAction","reset","directionLocked","checkMovingDirection","absDistX","absDistY","computeDirectionLock","handleEventPassthrough","adjustDelta","handleMap","applyQuadrantTransformation","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","directionLockAction","enabled","bindActionsHandler","handleStart","transformateDeltaX","transformateDeltaY","transformateDeltaData","coordinateTransformation","handleMove","handleEnd","handleClick","timestamp","fingerMoved","contentMoved","beforeMove","checkMomentum","prevX","newX","prevY","newY","detectMovingDirection","positionChanged","contentNotMoved","scrollStart","dispatchScroll","scroll","endTime","beforeEnd","ensureIntegerPos","scrollEnd","ensuringInteger","minScrollPosX","maxScrollPosX","minScrollPosY","maxScrollPosY","ceil","floor","createActionsHandlerOptions","bsOptions","reduce","prev","cur","createBehaviorOptions","extraProp","bubbling","sourceEvent","targetEvent","isSamePoint","keys_1","MIN_SCROLL_DISTANCE","Scroller","resizeTimeout","actions","resizeHandler","resize","resizeRegister","registerTransitionEnd","init","bindTranslater","bindAnimater","bindActions","togglePointerEvents","transitionEndRegister","prevPos","updatePositions","resetPosition","beforeScrollStart","touchEnd","scrollCancel","checkClick","checkFlick","flick","flickMinMovingDistance","meta","swiper","momentumX","momentumY","scrollTo","preventClick","_dblclick","dblclickTrigged","lastClickTime","delay","children","pointerEvents","node","isBScrollContainer","contentChanged","beforeRefresh","wrapperOffset","scrollBy","extraTransform","minDistanceScroll","scrollToElement","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","reflow","enable","disable","BScrollConstructor","plugins","valid","use","ctor","pluginName","installed","plugin","pluginsMap","applyOrder","scroller","eventBubbling","handleAutoBlur","proxy","applyPlugins","refreshWithoutReset","beforeInitialScrollTo","sort","applyOrderMap","aOrder","bOrder","activeElement","blur","eventRegister","createBScroll","bs","BScroll","MouseWheel","wheelEndTimer","wheelMoveTimer","wheelStart","handleBScroll","handleOptions","handleHooks","registerEvent","userOptions","mouseWheel","defaultOptions","invert","easeTime","discreteTime","throttleTime","mouseWheelOpt","hooksFn","registerHooks","wheelHandler","wheelStartHandler","getWheelDelta","wheelMoveHandler","wheelEndDetector","cleanCache","alterOptions","mousewheelStart","deltaCache","cachedDelta","mousewheelMove","getEaseTime","mousewheelEnd","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","hasVerticalScroll","hasHorizontalScroll","SAFE_EASETIME","hooksName","handlerFn","route","useRoute","storage","fixedNumberRunOut","filter","isFixed","pageTabsRef","pageTabRefs","scrollInstance","isShowScrollDirection","tabMenuPopover","tabIndex","refreshScroll","showContextmenuHandle","nextTick","maxScrollX","moveDistance","leftDistance","rightDistance","closePageViews","showPageTab","toggleFixStatus","setFixedMenuData","refreshPage","routeName","resolve","insertExcludeCacheViewName","deleteExcludeCacheViewName","resizeHandle","debounce","onUnmounted","_component_el_popover","ArrowLeft","fixed","ref_for","onContextmenu","visible","closeOtherPageViews","closeAllPageViews","iframeList","iframeRefList","showIframeIndex","iframeLoad","contentWindow","postMessage","receiveIfrmaeMessage","beforePageIndex","openPageByTabPage","iframeId","pageId","callbackId","fromPageIndex","iframe","scrolling","frameborder","onLoad","systemTourVersionValue","getSystemTourVersionValue","closeHandle","setSystemTourVersionValue","_component_el_tour_step","_component_el_tag","_component_el_tour","beforeRouteEnter","to","from","next","toMenuId","cachedViews","routeNames","toggleMenuCollapseStateHandle","setMenuCollapseState","findMenuById","initLocalStoragePageViews","menuIdList","getFixedMenuData","findMenuList","sideBarLoadedHandle","currentRoute","menuData","replace","screen","warning","_component_router_view","headerBar","onToggleMenuCollapseState","sideBar","onLoaded","onNavigationChange","pageTabs","Component","_KeepAlive","include","exclude","excludeCacheViewNames","_resolveDynamicComponent","systemTour"],"sourceRoot":""}