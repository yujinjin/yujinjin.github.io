(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ecced00"],{5965:function(e,t,i){"use strict";var s=i("eae8"),o=i.n(s);o.a},c5fa:function(e,t,i){"use strict";(function(e){i("ac1f"),i("5319"),i("96cf");var s=i("1da1"),o=i("a825"),n=i.n(o);i("5c96");t["a"]={data:function(){return{loginType:0,isShowPassword:!1,isTimeoutForQrcode:!1,qrcodeInstances:null,qrcodeTimerId:null,countDownTimerId:null,countDownSecond:null,activeInputType:-1,inputForm:{userName:"",password:"",mobile:"",code:""}}},watch:{loginType:function(e){2!=e||this.qrcodeInstances||this.initQrcode()}},methods:{init:function(){},initQrcode:function(){var e=this;setTimeout((function(){e.qrcodeInstances?e.qrcodeInstances.makeCode("https://github.com/yujinjin/vue-manager-system.git"):e.qrcodeInstances=new n.a(e.$refs["qrcode-img"],{text:"https://github.com/yujinjin/vue-manager-system.git",width:120,height:120,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.a.CorrectLevel.H}),e.qrcodeTimerId=setTimeout((function(){e.isTimeoutForQrcode=!0}),6e3)}),1e3)},refreshQrcode:function(){this.isTimeoutForQrcode=!1,this.initQrcode()},checkNumber:function(e){if(!this.inputForm[e])return!1;var t=/[^\d]/g;t.test(this.inputForm[e])&&(this.inputForm[e]=this.inputForm[e].replace(t,""))},sendValidateCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.inputForm.mobile){i.next=5;break}return t.$message.error("请输入手机号!"),i.abrupt("return");case 5:if(e.utils.validateMobile(t.inputForm.mobile)){i.next=10;break}return t.$message.error("请输入正确格式的手机号!"),i.abrupt("return");case 10:if(!(t.countDownSecond>0)){i.next=13;break}return t.$message.error("验证码已发送，请耐心等待!"),i.abrupt("return");case 13:return t.countDownSecond=60,t.countDownTimerId&&clearInterval(t.countDownTimerId),i.next=17,e.api.common.sendValidateCode();case 17:t.$message.success("验证码已发送，请耐心等待!"),t.countDownTimerId=setInterval((function(){t.countDownSecond<=0?clearInterval(t.countDownTimerId):--t.countDownSecond}),1e3);case 19:case"end":return i.stop()}}),i)})))()},submit:function(){var t=this;if(0==this.loginType){if(!this.inputForm.userName)return void this.$message.error("请输入用户名!");if(!this.inputForm.password)return void this.$message.error("请输入密码!")}else if(1==this.loginType){if(!this.inputForm.mobile)return void this.$message.error("请输入手机号!");if(!e.utils.validateMobile(this.inputForm.mobile))return void this.$message.error("请输入正确格式的手机号!");if(!this.inputForm.code)return void this.$message.error("请输入验证码!")}e.api.system.login({isShowLoading:!0}).then((function(i){e.globalService.setLoginUserInfo(i),t.go()}))},go:function(){var e=[this,this.$route.query.toName,this.$route.query.goBack,this.$route.toQuery,this.$route.query.toParams],t=(e[0],e[1]),i=e[2],s=e[3],o=e[4];if(t){if(s)try{s=JSON.parse(s)}catch(n){s={}}else o={};if(o)try{o=JSON.parse(o)}catch(n){o={}}else o={};this.$router.replace({name:t,query:s,params:o})}else i?(i=/^-?\d+$/.test(i)?parseInt(i,10):-1,this.$router.go(i)):this.$router.replace({name:"home"})}},destroyed:function(){this.qrcodeTimerId&&clearTimeout(this.qrcodeTimerId),this.countDownTimerId&&clearTimeout(this.countDownTimerId)}}}).call(this,i("28f0")["default"])},dd7b:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[e._m(0),s("div",{staticClass:"form-panel"},[s("div",{staticClass:"form-box"},[s("div",{staticClass:"tabs"},[0==e.loginType||1==e.loginType?[s("div",{staticClass:"tab-text",class:{active:0==e.loginType},on:{click:function(t){e.loginType=0}}},[e._v("密码登录")]),s("div",{staticClass:"divider-bar"}),s("div",{staticClass:"tab-text",class:{active:1==e.loginType},on:{click:function(t){e.loginType=1}}},[e._v("验证码登录")]),s("div",{staticClass:"tab-qrcode"},[s("img",{staticClass:"qrcode-tips",attrs:{src:i("d25a")}}),s("img",{staticClass:"qrcode-icon",attrs:{src:i("d633")},on:{click:function(t){e.loginType=2}}})])]:[s("div",{staticClass:"tab-text active"},[e._v("扫码登录")]),s("div",{staticClass:"tab-qrcode"},[s("img",{staticClass:"password-tips",attrs:{src:i("4a99")}}),s("img",{staticClass:"computer-icon",attrs:{src:i("410b")},on:{click:function(t){e.loginType=0}}})])]],2),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loginType,expression:"loginType == 0"}]},[s("div",{staticClass:"input-row",class:{active:0==e.activeInputType}},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.userName,expression:"inputForm.userName"}],attrs:{type:"text",maxlength:"20",placeholder:"登录用户名"},domProps:{value:e.inputForm.userName},on:{focus:function(t){e.activeInputType=0},blur:function(t){e.activeInputType=-1},input:function(t){t.target.composing||e.$set(e.inputForm,"userName",t.target.value)}}})])]),s("div",{staticClass:"input-row",class:{active:1==e.activeInputType}},[s("div",{staticClass:"input-box"},["checkbox"===(e.isShowPassword?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.password,expression:"inputForm.password"}],attrs:{maxlength:"20",placeholder:"登录密码",type:"checkbox"},domProps:{checked:Array.isArray(e.inputForm.password)?e._i(e.inputForm.password,null)>-1:e.inputForm.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},focus:function(t){e.activeInputType=1},blur:function(t){e.activeInputType=-1},change:function(t){var i=e.inputForm.password,s=t.target,o=!!s.checked;if(Array.isArray(i)){var n=null,r=e._i(i,n);s.checked?r<0&&e.$set(e.inputForm,"password",i.concat([n])):r>-1&&e.$set(e.inputForm,"password",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.inputForm,"password",o)}}}):"radio"===(e.isShowPassword?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.password,expression:"inputForm.password"}],attrs:{maxlength:"20",placeholder:"登录密码",type:"radio"},domProps:{checked:e._q(e.inputForm.password,null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},focus:function(t){e.activeInputType=1},blur:function(t){e.activeInputType=-1},change:function(t){return e.$set(e.inputForm,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.password,expression:"inputForm.password"}],attrs:{maxlength:"20",placeholder:"登录密码",type:e.isShowPassword?"text":"password"},domProps:{value:e.inputForm.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},focus:function(t){e.activeInputType=1},blur:function(t){e.activeInputType=-1},input:function(t){t.target.composing||e.$set(e.inputForm,"password",t.target.value)}}})]),s("div",{staticClass:"icon-box",on:{click:function(t){e.isShowPassword=!e.isShowPassword}}},[e.isShowPassword?s("img",{attrs:{src:i("fb7f")}}):s("img",{attrs:{src:i("e280")}})])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.loginType,expression:"loginType == 1"}]},[s("div",{staticClass:"input-row",class:{active:2==e.activeInputType}},[s("div",{staticClass:"label-text"},[e._v("中国 +86")]),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.mobile,expression:"inputForm.mobile"}],attrs:{type:"text",maxlength:"15",placeholder:"登录手机号"},domProps:{value:e.inputForm.mobile},on:{keyup:function(t){return e.checkNumber("mobile")},focus:function(t){e.activeInputType=2},blur:function(t){e.activeInputType=-1},input:function(t){t.target.composing||e.$set(e.inputForm,"mobile",t.target.value)}}})])]),s("div",{staticClass:"input-row",class:{active:3==e.activeInputType}},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputForm.code,expression:"inputForm.code"}],attrs:{type:"text",maxlength:"8",placeholder:"填写短信验证码"},domProps:{value:e.inputForm.code},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},function(t){return e.checkNumber("code")}],focus:function(t){e.activeInputType=3},blur:function(t){e.activeInputType=-1},input:function(t){t.target.composing||e.$set(e.inputForm,"code",t.target.value)}}})]),s("div",{staticClass:"code-text",domProps:{innerHTML:e._s(null==e.countDownSecond?"获取短信验证码":e.countDownSecond<=0?"重新发送验证码":e.countDownSecond+"s后重新发送")},on:{click:e.sendValidateCode}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.loginType,expression:"loginType == 2"}]},[s("div",{key:0,staticClass:"qrcode-box"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.qrcodeInstances,expression:"!!!qrcodeInstances"}],ref:"qrcode-img",staticClass:"qrcode-img"}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isTimeoutForQrcode,expression:"isTimeoutForQrcode"}],staticClass:"mask"},[s("div",{staticClass:"timeout-tips-text"},[e._v("二维码已失效")]),s("div",{staticClass:"btn-refresh"},[e._v("点击刷新")])])]),s("div",{staticClass:"tips-text"},[e._v("请使用微信APP扫码登录")]),e._m(1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loginType||1==e.loginType,expression:"loginType == 0 || loginType == 1"}],staticClass:"btn-panel"},[s("div",{staticClass:"btn",on:{click:e.submit}},[e._v("登 录")])])])]),s("div",{staticClass:"footer"},[e._v(" 软件科技有限公司所有 Copyright Right @2020 ")])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:i("b47a")}})]),s("div",{staticClass:"title-text"},[e._v("平台管理系统")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wechat-icon-box"},[s("img",{attrs:{src:i("4047")}})])}],n=i("c5fa"),r=n["a"],a=(i("5965"),i("2877")),c=Object(a["a"])(r,s,o,!1,null,"7f4d7320",null);t["default"]=c.exports},eae8:function(e,t,i){}}]);
//# sourceMappingURL=chunk-9ecced00.4c251f47.js.map