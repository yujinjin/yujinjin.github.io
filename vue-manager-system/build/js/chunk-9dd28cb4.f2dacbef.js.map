{"version":3,"sources":["webpack:///./src/views/system/role-list.vue?6145","webpack:///src/views/system/role-list.vue","webpack:///./src/views/system/role-list.vue?cca7","webpack:///./src/views/system/role-list.vue?cbd0","webpack:///./src/views/system/role-list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","queryFields","on","search","filterChange","handleButtons","_b","filters","selectRows","$event","dataTable","roleDialog","title","isShow","$set","ref","formInput","required","message","model","value","callback","$$v","expression","allPermissions","label","slot","_v","save","staticRenderFns","component"],"mappings":"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","file":"build/js/chunk-9dd28cb4.f2dacbef.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=style&index=0&id=1f95bef8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=style&index=0&id=1f95bef8&lang=less&scoped=true&\"","<template>\r\n\t<div class=\"role-list\">\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-17\r\n            描述：列表过滤栏\r\n        -->\r\n\t\t<search-form :fields=\"queryFields\" @search=\"search\" @change=\"filterChange\"></search-form>\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-17\r\n            描述：列表操作栏\r\n        -->\r\n\t\t<action-bar :buttons=\"handleButtons\"></action-bar>\r\n\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-17\r\n            描述：数据列表栏\r\n        -->\r\n\t\t<data-table v-bind=\"dataTable\" :filters=\"filters\" :select-rows.sync=\"selectRows\" />\r\n\r\n\t\t<!-- 修改或者新增角色信息 -->\r\n\t\t<el-dialog :title=\"roleDialog.title\" :visible.sync=\"roleDialog.isShow\" width=\"50%\">\r\n\t\t\t<el-form ref=\"role-dialog-form\" class=\"role-dialog-form\" :model=\"roleDialog.formInput\" label-width=\"80px\">\r\n\t\t\t\t<el-tabs type=\"border-card\">\r\n\t\t\t\t\t<el-tab-pane label=\"角色名称\">\r\n\t\t\t\t\t\t<el-form-item label=\"名称：\" prop=\"name\" :rules=\"{ required: true, message: '请输入角色名称' }\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"roleDialog.formInput.name\" placeholder=\"请填写角色名称\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"是否默认\" prop=\"isDefault\">\r\n\t\t\t\t\t\t\t<el-switch v-model=\"roleDialog.formInput.isDefault\"> </el-switch>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"权限\">\r\n\t\t\t\t\t\t<el-tree node-key=\"value\" show-checkbox check-strictly highlight-current check-on-click-node :data=\"allPermissions\" ref=\"permissions-tree\" :props=\"{ label: 'name' }\" :default-expand-all=\"true\"></el-tree>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"small\" @click=\"roleDialog.isShow = false\">取 消</el-button>\r\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"save\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tqueryFields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: \"filter\",\r\n\t\t\t\t\tlabel: \"角色名称\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thandleButtons: [\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"add\",\r\n\t\t\t\t\tlabel: \"新增\",\r\n\t\t\t\t\tclick: this.gotoAdd\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"delete\",\r\n\t\t\t\t\tlabel: \"删除\",\r\n\t\t\t\t\tclick: this.delete\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"refresh\",\r\n\t\t\t\t\tlabel: \"刷新\",\r\n\t\t\t\t\tclick: this.refresh\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdataTable: {\r\n\t\t\t\tquery: site.api.system.queryRoleList,\r\n\t\t\t\tdbClick: this.gotoUpdate,\r\n\t\t\t\thasPagination: false,\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"selection\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"action\",\r\n\t\t\t\t\t\tlabel: \"操作\",\r\n\t\t\t\t\t\twidth: \"50px\",\r\n\t\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"编辑\",\r\n\t\t\t\t\t\t\t\tclick: this.gotoUpdate\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"name\",\r\n\t\t\t\t\t\tlabel: \"角色名称\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"createTime\",\r\n\t\t\t\t\t\tlabel: \"创建时间\",\r\n\t\t\t\t\t\ttype: \"datetime\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\troleDialog: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tformInput: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tisDefault: false,\r\n\t\t\t\t\tpermission: []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tallPermissions: [] // 当前系统的所有操作权限\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tthis.queryAllPermissions();\r\n\t\t},\r\n\t\tqueryAllPermissions() {\r\n\t\t\treturn site.api.system.queryAllPermissions().then(data => {\r\n\t\t\t\tthis.allPermissions = data;\r\n\t\t\t});\r\n\t\t},\r\n\t\tgotoAdd() {\r\n\t\t\tthis.roleDialog.title = \"新增角色信息\";\r\n\t\t\tObject.assign(this.roleDialog.formInput, { id: null, name: null, isDefault: false, permission: [] });\r\n\t\t\tthis.roleDialog.isShow = true;\r\n\t\t},\r\n\t\tgotoUpdate(row) {\r\n\t\t\treturn site.api.system.queryUserPermission().then(data => {\r\n\t\t\t\tthis.roleDialog.title = \"修改角色:\" + row.name;\r\n\t\t\t\tObject.assign(this.roleDialog.formInput, { id: row.id, name: row.name, isDefault: false, permission: data });\r\n\t\t\t\tthis.roleDialog.isShow = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs[\"permissions-tree\"].setCheckedKeys(data);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tdelete() {\r\n\t\t\tthis.preBatchDelete(id => {\r\n\t\t\t\treturn Promise.resolve({ data: true });\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tthis.$refs[\"role-dialog-form\"].validate(valid => {\r\n\t\t\t\tif (!valid) return;\r\n\t\t\t\tconsole.info(\"选中的值\", this.$refs[\"permissions-tree\"].getCheckedKeys());\r\n\t\t\t\tthis.roleDialog.isShow = false;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.role-dialog-form {\r\n\tmax-height: 500px;\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"role-list\"},[_c('search-form',{attrs:{\"fields\":_vm.queryFields},on:{\"search\":_vm.search,\"change\":_vm.filterChange}}),_c('action-bar',{attrs:{\"buttons\":_vm.handleButtons}}),_c('data-table',_vm._b({attrs:{\"filters\":_vm.filters,\"select-rows\":_vm.selectRows},on:{\"update:selectRows\":function($event){_vm.selectRows=$event},\"update:select-rows\":function($event){_vm.selectRows=$event}}},'data-table',_vm.dataTable,false)),_c('el-dialog',{attrs:{\"title\":_vm.roleDialog.title,\"visible\":_vm.roleDialog.isShow,\"width\":\"50%\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.roleDialog, \"isShow\", $event)}}},[_c('el-form',{ref:\"role-dialog-form\",staticClass:\"role-dialog-form\",attrs:{\"model\":_vm.roleDialog.formInput,\"label-width\":\"80px\"}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"角色名称\"}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\",\"rules\":{ required: true, message: '请输入角色名称' }}},[_c('el-input',{attrs:{\"placeholder\":\"请填写角色名称\"},model:{value:(_vm.roleDialog.formInput.name),callback:function ($$v) {_vm.$set(_vm.roleDialog.formInput, \"name\", $$v)},expression:\"roleDialog.formInput.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否默认\",\"prop\":\"isDefault\"}},[_c('el-switch',{model:{value:(_vm.roleDialog.formInput.isDefault),callback:function ($$v) {_vm.$set(_vm.roleDialog.formInput, \"isDefault\", $$v)},expression:\"roleDialog.formInput.isDefault\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"权限\"}},[_c('el-tree',{ref:\"permissions-tree\",attrs:{\"node-key\":\"value\",\"show-checkbox\":\"\",\"check-strictly\":\"\",\"highlight-current\":\"\",\"check-on-click-node\":\"\",\"data\":_vm.allPermissions,\"props\":{ label: 'name' },\"default-expand-all\":true}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.roleDialog.isShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role-list.vue?vue&type=template&id=1f95bef8&scoped=true&\"\nimport script from \"./role-list.vue?vue&type=script&lang=js&\"\nexport * from \"./role-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./role-list.vue?vue&type=style&index=0&id=1f95bef8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f95bef8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}