{"version":3,"sources":["webpack:///src/views/system/menu-manager.vue","webpack:///./src/views/system/menu-manager.vue?e9d6","webpack:///./src/views/system/menu-manager.vue?e79f","webpack:///./src/views/system/menu-manager.vue","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./src/views/system/menu-manager.vue?6127","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","handleButtons","_b","scopedSlots","_u","key","fn","ref","row","staticStyle","icon","_e","dataTable","updateMenuDialogForm","isShow","on","$event","$set","formInput","model","value","callback","$$v","expression","slot","_v","_s","permissionsPrefix","_l","item","addButtonsDialog","$index","required","message","moveButton","length","gotoAddButton","addButtons","staticRenderFns","component","$","lastIndexOf","target","proto","forced","toIndexedObject","toInteger","toLength","arrayMethodIsStrict","arrayMethodUsesToLength","min","Math","nativeLastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","FORCED","module","exports","searchElement","apply","arguments","O","index"],"mappings":"2LA4EA,QACA,KADA,WAEA,OACA,eACA,CACA,iBACA,WACA,qBAGA,WACA,2CACA,4BACA,iBAEA,wBACA,iBACA,OACA,qBAEA,WACA,mBAGA,SACA,CACA,YACA,WACA,8BAEA,CACA,mBACA,aAEA,CACA,YACA,WACA,YACA,MACA,uBACA,2BAGA,CACA,YACA,WACA,eACA,cAEA,CACA,aACA,cAEA,CACA,cACA,WACA,cACA,uCAIA,6EACA,sBACA,UACA,QACA,gBAEA,uBACA,QACA,CACA,YACA,YACA,yCAEA,CACA,mBACA,WACA,wCAEA,CACA,mBACA,mBACA,YACA,yCAEA,CACA,aACA,YAEA,CACA,YACA,YACA,aAGA,4BAEA,kBACA,UACA,uBACA,gBAIA,SACA,KADA,aAEA,OAFA,SAEA,GACA,iFACA,uBACA,sBACA,iBAEA,iBACA,8BAEA,uBAEA,uBAbA,SAaA,GACA,SAuBA,MAtBA,iBACA,GACA,CACA,aACA,2BAEA,CACA,cACA,2BAIA,OACA,CACA,WACA,uBAEA,CACA,WACA,oBAGA,GAEA,cAvCA,SAuCA,SACA,+BAEA,eA1CA,SA0CA,GACA,iCACA,CACA,SACA,eACA,gBAGA,gCACA,2DAEA,cArDA,WAsDA,sCACA,SACA,eACA,iBAGA,WA5DA,SA4DA,KACA,KACA,mFACA,6CACA,MACA,iFACA,gDAGA,aArEA,SAqEA,GACA,kGACA,oCACA,8DACA,qEAEA,WA3EA,SA2EA,GACA,+CACA,qGACA,2GAEA,+CAEA,iEACA,oCACA,gBACA,kCACA,CACA,YACA,YACA,yCAEA,CACA,mBACA,WACA,wCAEA,CACA,mBACA,mBACA,YACA,yCAEA,CACA,aACA,YAEA,CACA,YACA,YACA,aAGA,gEACA,mBACA,kCACA,CACA,aACA,aACA,0CAEA,CACA,mBACA,mBACA,YACA,0CAGA,2DAGA,WAlIA,SAkIA,GACA,kCACA,gBACA,UAGA,WAxIA,WAwIA,WACA,qDACA,IAGA,2CACA,sC,0EClUA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAUP,EAAIQ,iBAAiBJ,EAAG,aAAaJ,EAAIS,GAAG,CAACC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,SAASC,GAClQ,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAEA,EAAQ,KAAEX,EAAG,WAAW,CAACY,YAAY,CAAC,YAAY,QAAQT,MAAM,CAAC,MAAQQ,EAAIE,QAAQjB,EAAIkB,WAAW,aAAalB,EAAImB,WAAU,IAAQf,EAAG,cAAcJ,EAAIS,GAAG,CAACK,IAAI,0BAA0BP,MAAM,CAAC,OAASP,EAAIoB,qBAAqBC,QAAQC,GAAG,CAAC,gBAAgB,SAASC,GAAQ,OAAOvB,EAAIwB,KAAKxB,EAAIoB,qBAAsB,SAAUG,IAAS,iBAAiB,SAASA,GAAQ,OAAOvB,EAAIwB,KAAKxB,EAAIoB,qBAAsB,SAAUG,KAAUb,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,cAAcC,GAAG,SAASC,GAC7e,IAAIW,EAAYX,EAAIW,UACpB,MAAO,CAACrB,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,UAAUmB,MAAM,CAACC,MAAOF,EAAqB,YAAEG,SAAS,SAAUC,GAAM7B,EAAIwB,KAAKC,EAAW,cAAeI,IAAMC,WAAW,0BAA0B,CAAE9B,EAAIoB,qBAAsC,kBAAEhB,EAAG,WAAW,CAAC2B,KAAK,WAAW,CAAC/B,EAAIgC,GAAGhC,EAAIiC,GAAGjC,EAAIoB,qBAAqBc,sBAAsBlC,EAAIkB,MAAM,MAAM,CAACN,IAAI,OAAOC,GAAG,SAASC,GACrX,IAAIW,EAAYX,EAAIW,UACpB,MAAO,CAACrB,EAAG,YAAY,CAACG,MAAM,CAAC,YAAc,OAAOmB,MAAM,CAACC,MAAOF,EAAc,KAAEG,SAAS,SAAUC,GAAM7B,EAAIwB,KAAKC,EAAW,OAAQI,IAAMC,WAAW,mBAAmB9B,EAAImC,GAAInC,EAAS,OAAE,SAASoC,GAAM,OAAOhC,EAAG,YAAY,CAACQ,IAAIwB,EAAK7B,MAAM,CAAC,MAAQ6B,EAAK,MAAQA,IAAO,CAAChC,EAAG,OAAO,CAACY,YAAY,CAAC,MAAQ,OAAO,MAAQ,UAAU,YAAY,SAAS,CAAChB,EAAIgC,GAAGhC,EAAIiC,GAAGG,MAAShC,EAAG,WAAW,CAACY,YAAY,CAAC,YAAY,OAAO,MAAQ,SAAST,MAAM,CAAC,MAAQ6B,MAAS,MAAK,GAAIX,EAAc,KAAErB,EAAG,WAAW,CAACY,YAAY,CAAC,YAAY,OAAO,cAAc,QAAQT,MAAM,CAAC,MAAQkB,EAAUR,QAAQjB,EAAIkB,WAAW,cAAclB,EAAIoB,sBAAqB,IAAQhB,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,SAAS,QAAUP,EAAIqC,iBAAiBhB,OAAO,MAAQ,OAAOC,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOvB,EAAIwB,KAAKxB,EAAIqC,iBAAkB,SAAUd,MAAW,CAACnB,EAAG,UAAU,CAACU,IAAI,mBAAmBP,MAAM,CAAC,MAAQP,EAAIqC,iBAAiB,cAAc,QAAQ,CAACjC,EAAG,WAAW,CAACY,YAAY,CAAC,MAAQ,QAAQT,MAAM,CAAC,KAAOP,EAAIqC,iBAAiBZ,UAAU,OAAS,KAAK,CAACrB,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,QAAQG,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC/mC,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAClC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,aAAe+B,EAAS,SAAS,MAAQ,CAAEC,UAAU,EAAMC,QAAS,aAAc,CAACpC,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,aAAamB,MAAM,CAACC,MAAO3B,EAAIqC,iBAAiBZ,UAAUa,GAAa,MAAEV,SAAS,SAAUC,GAAM7B,EAAIwB,KAAKxB,EAAIqC,iBAAiBZ,UAAUa,GAAS,QAAST,IAAMC,WAAW,+CAA+C,IAAI,UAAU1B,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,aAAa,eAAeG,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACriB,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAClC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,aAAe+B,EAAS,eAAe,MAAQ,CAAEC,UAAU,EAAMC,QAAS,aAAc,CAACpC,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,UAAUmB,MAAM,CAACC,MAAO3B,EAAIqC,iBAAiBZ,UAAUa,GAAmB,YAAEV,SAAS,SAAUC,GAAM7B,EAAIwB,KAAKxB,EAAIqC,iBAAiBZ,UAAUa,GAAS,cAAeT,IAAMC,WAAW,mDAAmD,CAAC1B,EAAG,WAAW,CAAC2B,KAAK,WAAW,CAAC/B,EAAIgC,GAAGhC,EAAIiC,GAAGjC,EAAIqC,iBAAiBH,uBAAuB,IAAI,IAAI,UAAU9B,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAMG,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC5nB,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAY,GAAVA,EAAalC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIyC,WAAWH,GAAS,MAAM,CAACtC,EAAIgC,GAAG,QAAQhC,EAAIkB,KAAMoB,GAAUtC,EAAIqC,iBAAiBZ,UAAUiB,OAAS,EAAGtC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIyC,WAAWH,EAAQ,MAAM,CAACtC,EAAIgC,GAAG,QAAQ5B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWe,GAAG,CAAC,MAAQtB,EAAI2C,gBAAgB,CAAC3C,EAAIgC,GAAG,gBAAgB,IAAI,GAAG5B,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUwB,KAAK,UAAU,CAAC3B,EAAG,YAAY,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIqC,iBAAiBhB,QAAS,KAAS,CAACrB,EAAIgC,GAAG,SAAS5B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWe,GAAG,CAAC,MAAQtB,EAAI4C,aAAa,CAAC5C,EAAIgC,GAAG,UAAU,IAAI,IAAI,IAC5sBa,EAAkB,G,YCb+U,S,wBCQjWC,EAAY,eACd,EACA/C,EACA8C,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,uDCnBf,IAAIC,EAAI,EAAQ,QACZC,EAAc,EAAQ,QAI1BD,EAAE,CAAEE,OAAQ,QAASC,OAAO,EAAMC,OAAQH,IAAgB,GAAGA,aAAe,CAC1EA,YAAaA,K,kCCNf,yBAAkkB,EAAG,G,kCCCrkB,IAAII,EAAkB,EAAQ,QAC1BC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAMC,KAAKD,IACXE,EAAoB,GAAGX,YACvBY,IAAkBD,GAAqB,EAAI,CAAC,GAAGX,YAAY,GAAI,GAAK,EACpEa,EAAgBN,EAAoB,eAEpCO,EAAiBN,EAAwB,UAAW,CAAEO,WAAW,EAAMC,EAAG,IAC1EC,EAASL,IAAkBC,IAAkBC,EAIjDI,EAAOC,QAAUF,EAAS,SAAqBG,GAE7C,GAAIR,EAAe,OAAOD,EAAkBU,MAAMpE,KAAMqE,YAAc,EACtE,IAAIC,EAAInB,EAAgBnD,MACpByC,EAASY,EAASiB,EAAE7B,QACpB8B,EAAQ9B,EAAS,EAGrB,IAFI4B,UAAU5B,OAAS,IAAG8B,EAAQf,EAAIe,EAAOnB,EAAUiB,UAAU,MAC7DE,EAAQ,IAAGA,EAAQ9B,EAAS8B,GAC1BA,GAAS,EAAGA,IAAS,GAAIA,KAASD,GAAKA,EAAEC,KAAWJ,EAAe,OAAOI,GAAS,EACzF,OAAQ,GACNb","file":"build/js/chunk-76ed0d1c.e3dff9a3.js","sourcesContent":["<template>\r\n\t<div class=\"menu-manager\">\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-22\r\n            描述：列表操作栏\r\n        -->\r\n\t\t<action-bar :buttons=\"handleButtons\"></action-bar>\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-17\r\n            描述：数据列表栏\r\n        -->\r\n\t\t<data-table v-bind=\"dataTable\">\r\n\t\t\t<template v-slot:icon=\"{ row }\">\r\n\t\t\t\t<svg-icon style=\"font-size: 20px\" v-if=\"row.icon\" :value=\"row.icon\"></svg-icon>\r\n\t\t\t</template>\r\n\t\t</data-table>\r\n\t\t<!-- 修改或新增菜单信息 -->\r\n\t\t<dialog-form v-bind=\"updateMenuDialogForm\" ref=\"update-menu-dialog-form\" :isShow.sync=\"updateMenuDialogForm.isShow\">\r\n\t\t\t<template v-slot:permissions=\"{ formInput }\">\r\n\t\t\t\t<el-input placeholder=\"请输入权限值\" v-model=\"formInput.permissions\">\r\n\t\t\t\t\t<template slot=\"prepend\" v-if=\"updateMenuDialogForm.permissionsPrefix\">{{ updateMenuDialogForm.permissionsPrefix }}</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:icon=\"{ formInput }\">\r\n\t\t\t\t<el-select v-model=\"formInput.icon\" placeholder=\"请选择\">\r\n\t\t\t\t\t<el-option v-for=\"item in icons\" :key=\"item\" :label=\"item\" :value=\"item\">\r\n\t\t\t\t\t\t<span style=\"float: left; color: #8492a6; font-size: 13px\">{{ item }}</span>\r\n\t\t\t\t\t\t<svg-icon style=\"font-size: 20px; float: right\" :value=\"item\"></svg-icon>\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<svg-icon v-if=\"formInput.icon\" style=\"font-size: 20px; margin-left: 20px;\" :value=\"formInput.icon\"></svg-icon>\r\n\t\t\t</template>\r\n\t\t</dialog-form>\r\n\t\t<!-- 批量新增按钮 -->\r\n\t\t<el-dialog title=\"新增操作按钮\" :visible.sync=\"addButtonsDialog.isShow\" width=\"50%\">\r\n\t\t\t<el-form :model=\"addButtonsDialog\" ref=\"add-buttons-form\" label-width=\"0px\">\r\n\t\t\t\t<el-table :data=\"addButtonsDialog.formInput\" border style=\"width: 100%\">\r\n\t\t\t\t\t<el-table-column label=\"操作内容\">\r\n\t\t\t\t\t\t<template slot-scope=\"{ $index }\">\r\n\t\t\t\t\t\t\t<div class=\"form-column\">\r\n\t\t\t\t\t\t\t\t<el-form-item :prop=\"'formInput.' + $index + '.label'\" :rules=\"{ required: true, message: '请输入操作内容' }\">\r\n\t\t\t\t\t\t\t\t\t<el-input v-model=\"addButtonsDialog.formInput[$index].label\" placeholder=\"请输入按钮操作内容\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"权限\" class-name=\"form-column\">\r\n\t\t\t\t\t\t<template slot-scope=\"{ $index }\">\r\n\t\t\t\t\t\t\t<div class=\"form-column\">\r\n\t\t\t\t\t\t\t\t<el-form-item :prop=\"'formInput.' + $index + '.permissions'\" :rules=\"{ required: true, message: '请输入操作内容' }\">\r\n\t\t\t\t\t\t\t\t\t<el-input placeholder=\"请输入权限值\" v-model=\"addButtonsDialog.formInput[$index].permissions\">\r\n\t\t\t\t\t\t\t\t\t\t<template slot=\"prepend\">{{ addButtonsDialog.permissionsPrefix }}</template>\r\n\t\t\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t\t\t<template slot-scope=\"{ $index }\">\r\n\t\t\t\t\t\t\t<el-button size=\"small\" @click=\"moveButton($index, -1)\" v-if=\"$index != 0\">上移</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"small\" @click=\"moveButton($index, 1)\" v-if=\"$index != addButtonsDialog.formInput.length - 1\">下移</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"small\" @click=\"gotoAddButton\" type=\"primary\" v-else>添加</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"addButtonsDialog.isShow = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addButtons\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thandleButtons: [\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"refresh\",\r\n\t\t\t\t\tlabel: \"刷新\",\r\n\t\t\t\t\tclick: this.refresh\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdataTable: {\r\n\t\t\t\tquery: site.api.system.queryMenuPermissionList,\r\n\t\t\t\tqueryDataHandle: data => {\r\n\t\t\t\t\treturn { items: data };\r\n\t\t\t\t},\r\n\t\t\t\tdbClick: this.gotoUpdate,\r\n\t\t\t\thasPagination: false,\r\n\t\t\t\ttable: {\r\n\t\t\t\t\trowKey: \"permissions\",\r\n\t\t\t\t\t// defaultExpandAll: true,\r\n\t\t\t\t\ttreeProps: {\r\n\t\t\t\t\t\tchildren: \"items\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"name\",\r\n\t\t\t\t\t\tlabel: \"名称\",\r\n\t\t\t\t\t\tformatter: this.nameFormatter\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"permissions\",\r\n\t\t\t\t\t\tlabel: \"权限值\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"type\",\r\n\t\t\t\t\t\tlabel: \"类型\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: [\r\n\t\t\t\t\t\t\t{ name: \"菜单\", key: \"menu\" },\r\n\t\t\t\t\t\t\t{ name: \"按钮\", key: \"button\" }\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tslot: \"icon\",\r\n\t\t\t\t\t\tlabel: \"图标\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\twidth: \"80px\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"route\",\r\n\t\t\t\t\t\tlabel: \"路由地址\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"action\",\r\n\t\t\t\t\t\tlabel: \"操作\",\r\n\t\t\t\t\t\twidth: \"220px\",\r\n\t\t\t\t\t\tbuttons: this.generatorActionButtons\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\ticons: [\"calendar\", \"clock-o\", \"envelope\", \"cog\", \"edit\", \"email\", \"system-manage\"],\r\n\t\t\tupdateMenuDialogForm: {\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tdialog: {\r\n\t\t\t\t\ttitle: \"修改菜单信息\"\r\n\t\t\t\t},\r\n\t\t\t\tpermissionsPrefix: null,\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\tlabel: \"ID值\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"ID值不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"displayName\",\r\n\t\t\t\t\t\tlabel: \"名称\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"名称不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"permissions\",\r\n\t\t\t\t\t\tslot: \"permissions\",\r\n\t\t\t\t\t\tlabel: \"权限值\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"权限值不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"route\",\r\n\t\t\t\t\t\tlabel: \"路由\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"icon\",\r\n\t\t\t\t\t\tslot: \"icon\",\r\n\t\t\t\t\t\tlabel: \"图标\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tsubmitForm: this.updateMenu\r\n\t\t\t},\r\n\t\t\taddButtonsDialog: {\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tpermissionsPrefix: null,\r\n\t\t\t\tformInput: []\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {},\r\n\t\tdelete(row) {\r\n\t\t\tthis.$confirm(\"确定要删除\" + (row.displayName ? row.displayName + \"菜单\" : row.label + \"按钮\") + \"吗?\", \"提示\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn Promise.resolve(true);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {});\r\n\t\t},\r\n\t\tgeneratorActionButtons(row) {\r\n\t\t\tlet buttons = [];\r\n\t\t\tif (row.type == \"menu\") {\r\n\t\t\t\tbuttons = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"新增按钮\",\r\n\t\t\t\t\t\tclick: this.gotoAddButtons\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"新增子菜单\",\r\n\t\t\t\t\t\tclick: this.gotoAddMenus\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\tbuttons.push(\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"编辑\",\r\n\t\t\t\t\tclick: this.gotoUpdate\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"删除\",\r\n\t\t\t\t\tclick: this.delete\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn buttons;\r\n\t\t},\r\n\t\tnameFormatter(row, column, cellValue, index) {\r\n\t\t\treturn row.displayName || row.label;\r\n\t\t},\r\n\t\tgotoAddButtons(row) {\r\n\t\t\tthis.addButtonsDialog.formInput = [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"\",\r\n\t\t\t\t\tpermissions: \"\",\r\n\t\t\t\t\ttype: \"button\"\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tthis.addButtonsDialog.isShow = true;\r\n\t\t\tthis.addButtonsDialog.permissionsPrefix = row.permissions + \".\";\r\n\t\t},\r\n\t\tgotoAddButton() {\r\n\t\t\tthis.addButtonsDialog.formInput.push({\r\n\t\t\t\tlabel: \"\",\r\n\t\t\t\tpermissions: \"\",\r\n\t\t\t\ttype: \"button\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tmoveButton(index, number) {\r\n\t\t\tif (number > 0) {\r\n\t\t\t\tthis.addButtonsDialog.formInput.splice(index + number + 1, 0, this.addButtonsDialog.formInput[index]);\r\n\t\t\t\tthis.addButtonsDialog.formInput.splice(index, 1);\r\n\t\t\t} else if (number < 0) {\r\n\t\t\t\tthis.addButtonsDialog.formInput.splice(index + number, 0, this.addButtonsDialog.formInput[index]);\r\n\t\t\t\tthis.addButtonsDialog.formInput.splice(index + 1, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgotoAddMenus(row) {\r\n\t\t\tthis.$refs[\"update-menu-dialog-form\"].setFieldsValue({ route: '{\"name\": \"\"}', type: \"menu\" }, [\"type\"]);\r\n\t\t\tthis.updateMenuDialogForm.isShow = true;\r\n\t\t\tthis.updateMenuDialogForm.permissionsPrefix = row.permissions + \".\";\r\n\t\t\tthis.updateMenuDialogForm.dialog.title = \"新增\" + row.displayName + \"的子菜单信息:\";\r\n\t\t},\r\n\t\tgotoUpdate(row) {\r\n\t\t\tif (row.permissions && row.permissions.indexOf(\".\") != -1) {\r\n\t\t\t\tthis.updateMenuDialogForm.permissionsPrefix = row.permissions.substr(0, row.permissions.lastIndexOf(\".\") + 1);\r\n\t\t\t\trow = Object.assign({}, row, { permissions: row.permissions.replace(this.updateMenuDialogForm.permissionsPrefix, \"\") });\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateMenuDialogForm.permissionsPrefix = \"\";\r\n\t\t\t}\r\n\t\t\tthis.$refs[\"update-menu-dialog-form\"].setFieldsValue(row, [\"type\"]);\r\n\t\t\tthis.updateMenuDialogForm.isShow = true;\r\n\t\t\tif (row.type == \"menu\") {\r\n\t\t\t\tthis.updateMenuDialogForm.fields = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\tlabel: \"ID值\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"ID值不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"displayName\",\r\n\t\t\t\t\t\tlabel: \"名称\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"名称不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"permissions\",\r\n\t\t\t\t\t\tslot: \"permissions\",\r\n\t\t\t\t\t\tlabel: \"权限值\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"权限值不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"route\",\r\n\t\t\t\t\t\tlabel: \"路由\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"icon\",\r\n\t\t\t\t\t\tslot: \"icon\",\r\n\t\t\t\t\t\tlabel: \"图标\"\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\tthis.updateMenuDialogForm.dialog.title = \"修改菜单信息:\" + row.displayName;\r\n\t\t\t} else if (row.type == \"button\") {\r\n\t\t\t\tthis.updateMenuDialogForm.fields = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"label\",\r\n\t\t\t\t\t\tlabel: \"操作内容\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"操作内容不能为空\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"permissions\",\r\n\t\t\t\t\t\tslot: \"permissions\",\r\n\t\t\t\t\t\tlabel: \"权限值\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"权限值不能为空\" }]\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\tthis.updateMenuDialogForm.dialog.title = \"修改按钮信息:\" + row.label;\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateMenu(formInput) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconsole.info(formInput);\r\n\t\t\t\tresolve(true);\r\n\t\t\t});\r\n\t\t},\r\n\t\taddButtons() {\r\n\t\t\tthis.$refs[\"add-buttons-form\"].validate(valid => {\r\n\t\t\t\tif (!valid) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.info(this.addButtonsDialog.formInput);\r\n\t\t\t\tthis.addButtonsDialog.isShow = false;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.menu-manager {\r\n\t.form-column {\r\n\t\tpadding-top: 18px;\r\n\t}\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-manager\"},[_c('action-bar',{attrs:{\"buttons\":_vm.handleButtons}}),_c('data-table',_vm._b({scopedSlots:_vm._u([{key:\"icon\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.icon)?_c('svg-icon',{staticStyle:{\"font-size\":\"20px\"},attrs:{\"value\":row.icon}}):_vm._e()]}}])},'data-table',_vm.dataTable,false)),_c('dialog-form',_vm._b({ref:\"update-menu-dialog-form\",attrs:{\"isShow\":_vm.updateMenuDialogForm.isShow},on:{\"update:isShow\":function($event){return _vm.$set(_vm.updateMenuDialogForm, \"isShow\", $event)},\"update:is-show\":function($event){return _vm.$set(_vm.updateMenuDialogForm, \"isShow\", $event)}},scopedSlots:_vm._u([{key:\"permissions\",fn:function(ref){\nvar formInput = ref.formInput;\nreturn [_c('el-input',{attrs:{\"placeholder\":\"请输入权限值\"},model:{value:(formInput.permissions),callback:function ($$v) {_vm.$set(formInput, \"permissions\", $$v)},expression:\"formInput.permissions\"}},[(_vm.updateMenuDialogForm.permissionsPrefix)?_c('template',{slot:\"prepend\"},[_vm._v(_vm._s(_vm.updateMenuDialogForm.permissionsPrefix))]):_vm._e()],2)]}},{key:\"icon\",fn:function(ref){\nvar formInput = ref.formInput;\nreturn [_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(formInput.icon),callback:function ($$v) {_vm.$set(formInput, \"icon\", $$v)},expression:\"formInput.icon\"}},_vm._l((_vm.icons),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}},[_c('span',{staticStyle:{\"float\":\"left\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(item))]),_c('svg-icon',{staticStyle:{\"font-size\":\"20px\",\"float\":\"right\"},attrs:{\"value\":item}})],1)}),1),(formInput.icon)?_c('svg-icon',{staticStyle:{\"font-size\":\"20px\",\"margin-left\":\"20px\"},attrs:{\"value\":formInput.icon}}):_vm._e()]}}])},'dialog-form',_vm.updateMenuDialogForm,false)),_c('el-dialog',{attrs:{\"title\":\"新增操作按钮\",\"visible\":_vm.addButtonsDialog.isShow,\"width\":\"50%\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.addButtonsDialog, \"isShow\", $event)}}},[_c('el-form',{ref:\"add-buttons-form\",attrs:{\"model\":_vm.addButtonsDialog,\"label-width\":\"0px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.addButtonsDialog.formInput,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"操作内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar $index = ref.$index;\nreturn [_c('div',{staticClass:\"form-column\"},[_c('el-form-item',{attrs:{\"prop\":'formInput.' + $index + '.label',\"rules\":{ required: true, message: '请输入操作内容' }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入按钮操作内容\"},model:{value:(_vm.addButtonsDialog.formInput[$index].label),callback:function ($$v) {_vm.$set(_vm.addButtonsDialog.formInput[$index], \"label\", $$v)},expression:\"addButtonsDialog.formInput[$index].label\"}})],1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"权限\",\"class-name\":\"form-column\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar $index = ref.$index;\nreturn [_c('div',{staticClass:\"form-column\"},[_c('el-form-item',{attrs:{\"prop\":'formInput.' + $index + '.permissions',\"rules\":{ required: true, message: '请输入操作内容' }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入权限值\"},model:{value:(_vm.addButtonsDialog.formInput[$index].permissions),callback:function ($$v) {_vm.$set(_vm.addButtonsDialog.formInput[$index], \"permissions\", $$v)},expression:\"addButtonsDialog.formInput[$index].permissions\"}},[_c('template',{slot:\"prepend\"},[_vm._v(_vm._s(_vm.addButtonsDialog.permissionsPrefix))])],2)],1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar $index = ref.$index;\nreturn [($index != 0)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.moveButton($index, -1)}}},[_vm._v(\"上移\")]):_vm._e(),($index != _vm.addButtonsDialog.formInput.length - 1)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.moveButton($index, 1)}}},[_vm._v(\"下移\")]):_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.gotoAddButton}},[_vm._v(\"添加\")])]}}])})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addButtonsDialog.isShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addButtons}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu-manager.vue?vue&type=template&id=1d42c4f8&scoped=true&\"\nimport script from \"./menu-manager.vue?vue&type=script&lang=js&\"\nexport * from \"./menu-manager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu-manager.vue?vue&type=style&index=0&id=1d42c4f8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d42c4f8\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-manager.vue?vue&type=style&index=0&id=1d42c4f8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-manager.vue?vue&type=style&index=0&id=1d42c4f8&lang=less&scoped=true&\"","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}