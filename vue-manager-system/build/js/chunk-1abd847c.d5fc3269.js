(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1abd847c"],{"0734":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[s("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:t.handleScroll}},t._l(t.visitedViews,(function(e){return s("router-link",{key:e.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:t.isActive(e)?"active":"",attrs:{to:{path:e.path,query:e.query,fullPath:e.fullPath},tag:"span"},nativeOn:{mouseup:function(s){if("button"in s&&1!==s.button)return null;!t.isAffix(e)&&t.closeSelectedTag(e)},contextmenu:function(s){return s.preventDefault(),t.openMenu(e,s)}}},[t._v(" "+t._s(e.title)+" "),t.isAffix(e)?t._e():s("span",{staticClass:"el-icon-close",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.closeSelectedTag(e)}}})])})),1),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[s("li",{on:{click:function(e){return t.refreshSelectedTag(t.selectedTag)}}},[t._v("刷新")]),t.isAffix(t.selectedTag)?t._e():s("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v("关闭")]),s("li",{on:{click:t.closeOthersTags}},[t._v("关闭其它")]),s("li",{on:{click:function(e){return t.closeAllTags(t.selectedTag)}}},[t._v("关闭所有")])])],1)},a=[],n=(s("99af"),s("4160"),s("fb6a"),s("45fc"),s("b0c0"),s("ac1f"),s("5319"),s("159b"),s("b85c")),r=s("2909"),o=s("5530"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[t._t("default")],2)},u=[],c=(s("c740"),4),d={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(t){var e=t.wheelDelta||40*-t.deltaY,s=this.scrollWrapper;s.scrollLeft=s.scrollLeft+e/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(t){var e=this.$refs.scrollContainer.$el,s=e.offsetWidth,i=this.scrollWrapper,a=this.$parent.$refs.tag,n=null,r=null;if(a.length>0&&(n=a[0],r=a[a.length-1]),n===t)i.scrollLeft=0;else if(r===t)i.scrollLeft=i.scrollWidth-s;else{var o=a.findIndex((function(e){return e===t})),l=a[o-1],u=a[o+1],d=u.$el.offsetLeft+u.$el.offsetWidth+c,f=l.$el.offsetLeft-c;d>i.scrollLeft+s?i.scrollLeft=d-s:f<i.scrollLeft&&(i.scrollLeft=f)}}}},f=d,m=(s("808d"),s("2877")),h=Object(m["a"])(f,l,u,!1,null,"37599a34",null),v=h.exports,p=s("df7c"),g=s.n(p),w={components:{ScrollPane:v},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.data.permissions}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(t){return t.path===this.$route.path},isAffix:function(t){return t.meta&&t.meta.affix},filterAffixTags:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return t.forEach((function(t){if(t.meta&&t.meta.affix){var a=g.a.resolve(s,t.path);i.push({fullPath:a,path:a,name:t.name,meta:Object(o["a"])({},t.meta)})}if(t.children){var n=e.filterAffixTags(t.children,t.path);n.length>=1&&(i=[].concat(Object(r["a"])(i),Object(r["a"])(n)))}})),i},initTags:function(){var t,e=this.affixTags=this.filterAffixTags(this.routes),s=Object(n["a"])(e);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.name&&this.$store.dispatch("tagsView/addVisitedView",i)}}catch(a){s.e(a)}finally{s.f()}},addTags:function(){var t=this.$route.name;return t&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var t=this,e=this.$refs.tag;this.$nextTick((function(){var s,i=Object(n["a"])(e);try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.to.path===t.$route.path){t.$refs.scrollPane.moveToTarget(a),a.to.fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}}catch(r){i.e(r)}finally{i.f()}}))},refreshSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delCachedView",t).then((function(){var s=t.fullPath;e.$nextTick((function(){e.$router.replace({path:"/redirect"+s})}))}))},closeSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delView",t).then((function(s){var i=s.visitedViews;e.isActive(t)&&e.toLastView(i,t)}))},closeOthersTags:function(){var t=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){t.moveToCurrentTag()}))},closeAllTags:function(t){var e=this;this.$store.dispatch("tagsView/delAllViews").then((function(s){var i=s.visitedViews;e.affixTags.some((function(e){return e.path===t.path}))||e.toLastView(i,t)}))},toLastView:function(t,e){var s=t.slice(-1)[0];s?this.$router.push(s.fullPath):"Dashboard"===e.name?this.$router.replace({path:"/redirect"+e.fullPath}):this.$router.push("/")},openMenu:function(t,e){var s=105,i=this.$el.getBoundingClientRect().left,a=this.$el.offsetWidth,n=a-s,r=e.clientX-i+15;this.left=r>n?n:r,this.top=e.clientY,this.visible=!0,this.selectedTag=t},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},b=w,C=(s("da45"),s("1664"),Object(m["a"])(b,i,a,!1,null,"5ed99da2",null));e["a"]=C.exports},"0798":function(t,e,s){},"0889":function(t,e,s){"use strict";var i=s("819e"),a=s.n(i);a.a},1664:function(t,e,s){"use strict";var i=s("8c34"),a=s.n(i);a.a},"26d7":function(t,e,s){"use strict";var i=s("e6fc"),a=s.n(i);a.a},2985:function(t,e,s){"use strict";var i=s("0798"),a=s.n(i);a.a},"29b6":function(t,e,s){"use strict";(function(t){s("b0c0"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d");var i=s("0734");e["a"]={components:{TagsView:i["a"]},data:function(){return{userInfoDialogForm:{dialog:{title:"我的账户"},isShow:!1,submitForm:this.updateUserInfo,fields:[{name:"userName",value:null,type:"label",label:"登录名"},{name:"name",value:null,label:"登录名",rules:[{required:!0,message:"姓名不能为空"},{min:2,max:25,message:"长度在 2 到 25 个字符",trigger:"blur"}],option:{style:{width:"250px"}}},{name:"emailAddress",value:null,label:"邮箱",rules:[{required:!0,message:"邮箱不能为空"},{min:6,max:35,message:"长度在 6 到35 个字符",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}],option:{style:{width:"250px"}}},{name:"headImgURL",slot:"headImg",label:"头像"}]},passwordInfoForm:null,updatePasswordDialogForm:{dialog:{title:"修改我的登录密码"},isShow:!1,form:{rules:{confirmPassword:[{required:!0,message:"请确认新密码"},{validator:this.confirmPasswordValidator,trigger:"blur"}]}},submitForm:this.updatePassword,fields:[{name:"password",value:"",label:"原密码",rules:[{required:!0,message:"密码不能为空"}],option:{type:"password"}},{name:"newPassword",value:"",label:"新密码",rules:[{required:!0,message:"新密码不能为空"},{min:6,max:20,message:"长度在 6 到20 个字符",trigger:"blur"}],option:{type:"password",style:{width:"250px"}}},{name:"confirmPassword",value:"",label:"确认新密码",option:{type:"password",style:{width:"250px"}}}]},imgUpload:{class:"avatar-uploader",showFileList:!1,limit:1}}},created:function(){this.userInfoDialogForm.fields[0].value="admin",this.userInfoDialogForm.fields[1].value=this.$store.state.data.locationInfo.loginUserInfo.name,this.userInfoDialogForm.fields[3].value=this.$store.state.data.locationInfo.loginUserInfo.headImgURL||s("1ba6")},methods:{handleCommand:function(e){"logout"===e?(t.globalService.logOut(),this.$router.push({name:"login"})):"showUserInfoDialog"===e?this.userInfoDialogForm.isShow=!0:"showUpdateInfoDialog"===e&&(this.updatePasswordDialogForm.isShow=!0)},handleAvatarSuccess:function(t,e){this.userInfo.headImgURL=URL.createObjectURL(e.raw)},confirmPasswordValidator:function(t,e,s){""===e?s(new Error("请输入原密码")):e.length<6||e.length>20?s(new Error("长度在 6 到20 个字符")):e!==this.passwordInfoForm.newPassword?s(new Error("两次输入密码不一致!")):s()},updateUserInfo:function(t){return new Promise((function(e,s){console.info(t),e(!0)}))},updatePassword:function(t){return new Promise((function(e,s){console.info(t),e(!0)}))}}}}).call(this,s("28f0")["default"])},6511:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("header-bar"),s("side-bar",{staticClass:"side-bar",attrs:{customMenuName:t.customMenuName,currentRouter:t.currentRouter}}),s("keep-alive",{attrs:{include:t.$store.state.tagsView.cachedViews}},[s("router-view",{key:t.routeKey,staticClass:"page-content"})],1)],1)},a=[],n=s("7818"),r=n["a"],o=(s("0889"),s("2877")),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},7818:function(t,e,s){"use strict";(function(t){s("b0c0");var i=s("b38f"),a=s("b7cd"),n=s("9468");e["a"]={data:function(){return{menuData:[],menuSidebarData:{},menuCollapseState:!1,isHideSidebar:!1,currentRouter:{fullPath:null,name:null,query:{},params:{},title:null,menuName:null},customMenuName:null,isLoading:!0}},components:{headerBar:i["a"],sideBar:a["a"]},beforeRouteEnter:function(t,e,s){s()},beforeRouteUpdate:function(t,e,s){s(),Object.assign(this.currentRouter,{fullPath:t.fullPath,name:t.name,query:JSON.parse(JSON.stringify(t.query)),params:JSON.parse(JSON.stringify(t.params)),title:t.meta.title,menuName:t.meta.menuName})},computed:{routeKey:function(){return this.$route.fullPath}},created:function(){this.$store.dispatch("updatePermissions",n["a"].routes),(t(window).height()<700||t(window).width()<1366)&&this.$message.warning("当前管理系统屏幕分辨率最佳体验不低于1366*768!"),Object.assign(this.currentRouter,{fullPath:this.$route.fullPath,name:this.$route.name,query:JSON.parse(JSON.stringify(this.$route.query)),params:JSON.parse(JSON.stringify(this.$route.params)),title:this.$route.meta.title,menuName:this.$route.meta.menuName})},methods:{changeMenuName:function(t){this.customMenuName=t}}}}).call(this,s("1157"))},"808d":function(t,e,s){"use strict";var i=s("9d85"),a=s.n(i);a.a},"819e":function(t,e,s){},"8c34":function(t,e,s){},"9d85":function(t,e,s){},b38f:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[t._m(0),i("div",{staticClass:"center-inner"},[i("tags-view")],1),i("div",{staticClass:"right-inner"},[i("div",{staticClass:"message-box"},[i("el-dropdown",{on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("svg-icon",{attrs:{value:"message"}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("div",{staticClass:"message-item"},[i("div",{staticClass:"avatar-img"},[i("img",{attrs:{src:s("1ba6")}})]),i("div",{staticClass:"inner-info"},[i("div",{staticClass:"title-text"},[t._v("提现审核请求")]),i("div",{staticClass:"subtitle-text"},[t._v("张三申请提现256元")]),i("div",{staticClass:"time-text"},[t._v("刚刚")])])])]),i("el-dropdown-item",[i("div",{staticClass:"message-item"},[i("div",{staticClass:"avatar-img"},[i("img",{attrs:{src:s("1ba6")}})]),i("div",{staticClass:"inner-info"},[i("div",{staticClass:"title-text"},[t._v("订单处理")]),i("div",{staticClass:"subtitle-text"},[t._v("李四申请部分退款售后")]),i("div",{staticClass:"time-text"},[t._v("5分钟前")])])])])],1)],1)],1),i("div",{staticClass:"login-info-box"},[i("el-dropdown",{attrs:{size:"big"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link name-info"},[i("div",{staticClass:"avatar-box"},[i("img",{attrs:{src:s("1ba6"),height:"24",width:"24"}})]),i("div",{staticClass:"user-name-text"},[t._v(t._s(t.userInfoDialogForm.fields[0].value))]),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"showUserInfoDialog"}},[i("svg-icon",{staticClass:"dropdown-icon",attrs:{value:"cog"}}),i("span",{staticClass:"dropdown-text"},[t._v("我的账户")])],1),i("el-dropdown-item",{attrs:{command:"showUpdateInfoDialog"}},[i("svg-icon",{staticClass:"dropdown-icon",attrs:{value:"edit"}}),i("span",{staticClass:"dropdown-text"},[t._v("修改密码")])],1),i("el-dropdown-item",{attrs:{command:"logout",divided:""}},[i("svg-icon",{staticClass:"dropdown-icon",attrs:{value:"remove"}}),i("span",{staticClass:"dropdown-text"},[t._v("退出")])],1)],1)],1)],1)]),i("dialog-form",t._b({attrs:{isShow:t.userInfoDialogForm.isShow},on:{"update:isShow":function(e){return t.$set(t.userInfoDialogForm,"isShow",e)},"update:is-show":function(e){return t.$set(t.userInfoDialogForm,"isShow",e)}},scopedSlots:t._u([{key:"headImg",fn:function(e){var s=e.formInput;return[i("img-upload",{attrs:{upload:t.imgUpload,cropp:!0},model:{value:s.headImgURL,callback:function(e){t.$set(s,"headImgURL",e)},expression:"formInput.headImgURL"}},[s.headImgURL?i("img",{staticClass:"avatar",attrs:{src:s.headImgURL}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])]}}])},"dialog-form",t.userInfoDialogForm,!1)),i("dialog-form",t._b({attrs:{isShow:t.updatePasswordDialogForm.isShow},on:{"update:isShow":function(e){return t.$set(t.updatePasswordDialogForm,"isShow",e)},"update:is-show":function(e){return t.$set(t.updatePasswordDialogForm,"isShow",e)},"input-change":function(e){t.passwordInfoForm=arguments[0]}}},"dialog-form",t.updatePasswordDialogForm,!1))],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-inner"},[i("div",{staticClass:"logo-box"},[i("img",{attrs:{src:s("b47a"),height:"40",width:"40"}})]),i("div",{staticClass:"title-text"},[t._v("后台管理系统框架")])])}],n=s("29b6"),r=n["a"],o=(s("2985"),s("2877")),l=Object(o["a"])(r,i,a,!1,null,"7917d53e",null);e["a"]=l.exports},b7cd:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"side-nav-bar",class:{"side-fixed":t.isFixed}},[t.menuData?s("div",{staticClass:"main-menu-panel"},t._l(t.menuData,(function(e){return s("div",{key:e.name,staticClass:"menu-item",class:{active:e.isActive,open:e.isOpen},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.openMenu(e)}}},[s("div",{staticClass:"icons-box"},[s("svg-icon",{attrs:{value:e.icon}})],1),s("div",{staticClass:"menu-text"},[t._v(" "+t._s(e.displayName)+" ")])])})),0):t._e(),t.subMenuData?s("div",{staticClass:"sub-menu-panel"},[t._l(t.subMenuData,(function(e){return[s("div",{key:e.name,staticClass:"menu-item",class:{active:e.isActive},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.activeSubMenu(e)}}},[s("div",{staticClass:"menu-text"},[t._v(" "+t._s(e.displayName)+" ")]),e.items&&e.items.length>0?s("div",{staticClass:"icons-box"},[s("svg-icon",{class:{open:e.isOpen},attrs:{value:"angle-right"}})],1):t._e()]),e.items&&e.items.length>0?s("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"menuItem.isOpen"}],key:e.name+"_child",staticClass:"child-menu-panel"},t._l(e.items,(function(e){return s("div",{key:e.name,staticClass:"menu-item",class:{active:e.isActive},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.activeSubMenu(e)}}},[s("div",{staticClass:"menu-text"},[t._v(" "+t._s(e.displayName)+" ")])])})),0):t._e()]}))],2):t._e()])},a=[],n=s("b9ce"),r=n["a"],o=(s("26d7"),s("2877")),l=Object(o["a"])(r,i,a,!1,null,"25cb5853",null);e["a"]=l.exports},b9ce:function(t,e,s){"use strict";(function(t){s("7db0"),s("b0c0");e["a"]={data:function(){return{isFixed:!0,menuData:null,subMenuData:null,currentActiveMenu:null,currentMenuName:null,isHasMenuEventTrigger:!1}},props:{customMenuName:{type:String,default:null},currentRouter:{type:Object,default:null}},watch:{customMenuName:function(t){var e=this;this.currentMenuName=t,this.$nextTick((function(){e.activeMenuData()}))},currentRouter:{handler:function(){var t=this;this.$nextTick((function(){t.activeMenuData()}))},deep:!0}},created:function(){this.queryMenuList()},methods:{queryMenuList:function(){var e=this;return t.api.system.queryMenus().then((function(t){e.initMenuData(t)}))},initMenuData:function(t){if(t&&0!=t.length){var e=function t(e){for(var s=0;s<e.length;s++)e[s].isOpen=!1,e[s].isActive=!1,e[s].items&&e[s].items.length>0&&t(e[s].items)};e(t),this.menuData=t,this.activeMenuData()}else this.$message.error("没有主菜单数据")},activeMenuData:function(){var e=this;if(this.menuData&&0!=this.menuData.length&&(this.currentMenuName||this.currentRouter))if(this.currentMenuName){if(this.currentActiveMenu&&this.currentActiveMenu.name==this.currentMenuName)return;var s=function t(s,i){for(var a=0;a<s.length;a++){if(s[a].name==e.currentMenuName)return s[a].isOpen=!0,s[a].isActive=!0,1==i&&(e.subMenuData=s[a].items),!0;s[a].items&&s[a].items.length>0&&t(s[a].items,i+1)&&(s[a].isOpen=!0,s[a].isActive=!0,1==i&&(e.subMenuData=s[a].items))}return!1};s(this.menuData,1),this.currentMenuName=null}else{var i={name:this.currentRouter.name,query:this.currentRouter.query,params:this.currentRouter.params};if("{}"==JSON.stringify(i.query)&&delete i.query,"{}"==JSON.stringify(i.params)&&delete i.params,this.currentActiveMenu&&(this.currentRouter.menuName==this.currentActiveMenu.name||t.utils.isEqual(i,JSON.parse(JSON.stringify(this.currentActiveMenu.route)))))return;var a=function s(a,n){for(var r=0;r<a.length;r++){if(a[r].route&&t.utils.isEqual(i,JSON.parse(JSON.stringify(a[r].route))))return e.frozenMenuStatus(e.menuData),1==n&&(e.subMenuData=a[r].items),a[r].isOpen=!0,a[r].isActive=!0,e.currentActiveMenu=a[r],!0;if(a[r].items&&a[r].items.length>0&&s(a[r].items,n+1))return a[r].isOpen=!0,a[r].isActive=!0,1==n&&(e.subMenuData=a[r].items),!0}return!1};a(this.menuData,1)}},openMenu:function(t){t.isOpen||(this.menuData.find((function(t){if(t.isOpen)return t.isOpen=!1,t.isActive=!1,!0})),t.isOpen=!0,t.isActive=!0,this.subMenuData=t.items)},activeSubMenu:function(t){if(t.items&&0!=t.items.length)t.isOpen=!t.isOpen;else{if(t.isActive)return;if(!t.route)return void this.$message.error("当前菜单没有配置路由地址，请去配置路由地址");this.currentActiveMenu&&(this.currentActiveMenu.isActive=!1),this.currentActiveMenu=t,t.isActive=!0,this.$router.push(t.route)}},frozenMenuStatus:function(t){if(t&&0!=t.length)for(var e=0;e<t.length;e++)t[e].isActive=!1,t[e].isOpen=!1,t[e].items&&t[e].items.length>0&&this.frozenMenuStatus(t[e].items)}},destroyed:function(){}}}).call(this,s("28f0")["default"])},bbfb:function(t,e,s){},da45:function(t,e,s){"use strict";var i=s("bbfb"),a=s.n(i);a.a},e6fc:function(t,e,s){}}]);
//# sourceMappingURL=chunk-1abd847c.d5fc3269.js.map