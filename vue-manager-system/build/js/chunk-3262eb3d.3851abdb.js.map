{"version":3,"sources":["webpack:///src/views/components/excel-import-dialog.vue","webpack:///src/views/example/simple-query.vue","webpack:///./src/views/example/simple-query.vue?250c","webpack:///./src/views/example/simple-query.vue?c553","webpack:///./src/views/example/simple-query.vue","webpack:///./src/views/components/excel-import-dialog.vue?f380","webpack:///src/views/components/excel-export-dialog.vue","webpack:///./src/views/components/excel-import-dialog.vue?fd0c","webpack:///./src/views/components/excel-import-dialog.vue?44e0","webpack:///./src/views/components/excel-import-dialog.vue","webpack:///./src/views/components/excel-export-dialog.vue?30bb","webpack:///./src/views/components/excel-export-dialog.vue?a0c9","webpack:///./src/views/components/excel-export-dialog.vue?a15b","webpack:///./src/views/components/excel-export-dialog.vue","webpack:///./src/views/components/excel-import-dialog.vue?f8f0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","queryFields","on","search","filterChange","handleButtons","_b","ref","filters","selectRows","$event","dataTable","viewDialogForm","dialog","title","isShow","$set","fields","value","slot","getPrevRow","showPreRow","_v","getNextRow","showNextRow","_e","updateDialogForm","formInput","arguments","simpleExcelImportDialog","simpleExcelExportDialog","staticRenderFns","component","close","dialogAttributes","step","_t","downExcelTemplate","uploadAttributes","domProps","_s","uploadErrorInfo","importData","length","selectColumns","columnList","staticStyle","_l","column","index","key","label","includes","prop","toggleCheckColumn","progress","percentage","uploadSuccess","againUpload","gotoPrevStep","fileList","gotoExcelUpload","gotoNexStep","loadType","form","formInputChange","scopedSlots","_u","slotName","fn","exportFields","indeterminateCheckState","handleCheckAllChange","model","callback","$$v","checkAll","expression","handleCheckedFieldsChange","selectExportFields","exportField","name","downExcelFile","exportErrorInfo","againExport","gotoExcelExport"],"mappings":"qOA0FA,QACA,KADA,WAEA,OACA,oBACA,OACA,iBACA,cACA,cACA,YACA,iBACA,mBACA,aACA,UACA,cACA,QACA,aACA,WAEA,kBACA,yBACA,6BACA,2BACA,YACA,oGACA,QACA,iBAEA,YACA,iBAIA,OACA,cACA,eACA,cACA,qBACA,8BAEA,OACA,OADA,SACA,GACA,IACA,YACA,sBACA,mBACA,mBACA,iBACA,sBACA,wBACA,kBACA,eACA,cACA,QACA,aACA,WAEA,eAIA,QA5DA,WA6DA,aAEA,SACA,KADA,WAEA,gCACA,4EAGA,yBANA,WAOA,sCACA,EACA,CACA,kBACA,sBAEA,cAGA,MAhBA,WAiBA,gCAEA,kBAnBA,SAmBA,KACA,gEACA,QACA,4BACA,SACA,gCAGA,aA3BA,SA2BA,GACA,gBACA,mCACA,uBAEA,kBAhCA,WAiCA,iCAEA,YAnCA,WAqCA,yDAMA,OALA,2DACA,uCACA,sDACA,0CAEA,6BAEA,aA7CA,WA8CA,uDAEA,YAhDA,WAiDA,sBACA,mCAGA,gBArDA,WAsDA,kCACA,uBACA,4EACA,SAIA,gBA7DA,SA6DA,oKACA,UADA,wBAEA,wCAFA,kBAIA,oBAJA,0DAMA,mBACA,uBACA,UARA,gCAUA,sCACA,+BAEA,gBAbA,4DAgBA,aA7EA,WA8EA,aAEA,YAhFA,WAgFA,oKACA,YADA,oDAIA,eACA,UALA,wBAMA,wCANA,kBASA,gBATA,OASA,EATA,OAUA,kBACA,oBACA,uBACA,mBACA,kCACA,gCAEA,SACA,mBAlBA,qDAoBA,mBApBA,yBAsBA,UACA,eAvBA,8DA2BA,SACA,mBA5BA,UA6BA,iBA7BA,QA8BA,qBA9BA,+EAkCA,eAlCA,8FAuCA,eAvHA,WAuHA,WACA,wBACA,sCAEA,sBACA,SACA,+CAEA,KADA,iBACA,2BAIA,OAHA,mCACA,+BACA,0BAEA,4CACA,2BAGA,EADA,kBACA,EACA,yBACA,GAEA,uBAEA,uGACA,OAGA,cAjNA,WAkNA,wBACA,0C,2JChPA,QACA,+DACA,KAFA,WAEA,WACA,OAEA,aACA,CACA,cACA,aAEA,CACA,aACA,aACA,cACA,kCAGA,eACA,CACA,aACA,WACA,oBAEA,CACA,gBACA,WACA,wBAEA,CACA,gBACA,WACA,wBAEA,CACA,gBACA,WACA,mBAEA,CACA,gBACA,WACA,oBAGA,WACA,6BACA,QACA,YAEA,SACA,CACA,kBAEA,CACA,cACA,WACA,cACA,oBACA,OACA,CACA,WACA,kBAEA,CACA,WACA,kBAEA,CACA,WACA,gBACA,gCASA,CACA,eACA,aACA,aACA,YACA,0CAaA,CACA,oBACA,WACA,YACA,qBACA,wBACA,iBAEA,CACA,aACA,WACA,cACA,cAEA,CACA,YACA,aACA,aAEA,CACA,YACA,WACA,cAEA,CACA,WACA,WACA,YACA,YAEA,CACA,kBACA,WACA,cACA,mBAIA,gBACA,UACA,SACA,QACA,YAEA,QACA,CACA,eACA,aAEA,CACA,kBACA,aAEA,CACA,aACA,WACA,cAEA,CACA,qBACA,gBAEA,CACA,eACA,aAEA,CACA,kBACA,aACA,cACA,eAEA,CACA,YACA,WACA,aAEA,CACA,WACA,WACA,YACA,YAEA,CACA,YACA,WACA,cAEA,CACA,oBACA,WACA,YACA,sBAEA,CACA,kBACA,aACA,iBAEA,CACA,cACA,WACA,eAIA,kBACA,aACA,UACA,SACA,qBACA,QACA,WACA,aAEA,QACA,CACA,eACA,YACA,wCAEA,CACA,kBACA,YACA,wCAEA,CACA,aACA,YAEA,CACA,qBACA,gBAEA,CACA,eACA,aAEA,CACA,kBACA,aACA,cACA,iCAEA,CACA,YACA,WACA,2BAEA,CACA,WACA,WACA,aACA,8BAEA,CACA,YACA,WACA,iBACA,SAEA,CACA,oBACA,WACA,cACA,wCAEA,CACA,cACA,WACA,qBAIA,yBACA,UACA,UACA,WAEA,yBACA,UACA,qCACA,QACA,CACA,cACA,aAEA,CACA,aACA,aACA,cACA,kCAGA,cACA,CACA,eACA,aAEA,CACA,kBACA,aAEA,CACA,aACA,YAEA,CACA,qBACA,gBAEA,CACA,eACA,aAEA,CACA,kBACA,cAEA,CACA,YACA,YAEA,CA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","file":"build/js/chunk-3262eb3d.3851abdb.js","sourcesContent":["<template>\r\n\t<el-dialog v-bind=\"dialogAttributes\" custom-class=\"excel-import-dialog\" :visible=\"isShow\" @close=\"close\">\r\n\t\t<div class=\"dialog-body\">\r\n\t\t\t<el-steps :active=\"step\" simple v-if=\"step != 3\">\r\n\t\t\t\t<el-step title=\"上传文件\" icon=\"el-icon-upload\"></el-step>\r\n\t\t\t\t<el-step title=\"预览数据\" icon=\"el-icon-s-data\"></el-step>\r\n\t\t\t\t<el-step title=\"导入数据\" icon=\"el-icon-success\"></el-step>\r\n\t\t\t</el-steps>\r\n\t\t\t<template v-if=\"step == 1\">\r\n\t\t\t\t<!-- \r\n                    上传文件\r\n                -->\r\n\t\t\t\t<slot name=\"upload\">\r\n\t\t\t\t\t<div class=\"upload-panel\" v-if=\"uploadSuccess\">\r\n\t\t\t\t\t\t<ul class=\"tips-list\">\r\n\t\t\t\t\t\t\t<li>支持5MB以内的xls、xlsx格式文件</li>\r\n\t\t\t\t\t\t\t<li>文件中的数据不能超过10000行，100列</li>\r\n\t\t\t\t\t\t\t<li>请按照数据模板的格式准备导入数据，模板中的表头名称不可更改，表头行不能删除。<a v-if=\"excelTemplate\" @click=\"downExcelTemplate\">模板下载</a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<el-upload class=\"upload-excel\" v-bind=\"uploadAttributes\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-upload\"></i>\r\n\t\t\t\t\t\t\t<div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"upload-fail\" v-else>\r\n\t\t\t\t\t\t<div class=\"icon-box\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-warning\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"fail-tips\">\r\n\t\t\t\t\t\t\t<div class=\"title-text\">异常提示</div>\r\n\t\t\t\t\t\t\t<div class=\"content\" v-html=\"uploadErrorInfo\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"step == 2\">\r\n\t\t\t\t<!-- \r\n                    数据预览\r\n                -->\r\n\t\t\t\t<div class=\"import-result-text\">\r\n\t\t\t\t\t<i class=\"el-icon-warning\"></i>\r\n\t\t\t\t\t共 <span>{{ importData.length }}</span> 条数据， 导入<span>{{ selectColumns.length }}</span\r\n\t\t\t\t\t>列 /共<span>{{ columnList.length }}</span\r\n\t\t\t\t\t>列\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-table :data=\"importData\" border style=\"width: 100%\" height=\"350\">\r\n\t\t\t\t\t<el-table-column v-bind=\"column\" :key=\"index\" v-for=\"(column, index) in columnList\">\r\n\t\t\t\t\t\t<template slot=\"header\"> {{ column.label }} <el-checkbox :checked=\"selectColumns.includes(column.prop)\" @change=\"toggleCheckColumn(column.prop, $event)\"></el-checkbox> </template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"step == 3\">\r\n\t\t\t\t<!-- \r\n                    数据导入结果\r\n                -->\r\n\t\t\t\t<div class=\"succes-box\" v-if=\"progress.percentage > 100\">\r\n\t\t\t\t\t<i class=\"el-icon-success\"></i>\r\n\t\t\t\t\t<div class=\"title-text\">批量导入完成</div>\r\n\t\t\t\t\t<div class=\"subtitle-text\">\r\n\t\t\t\t\t\t您已成功导入<span>{{ importData.length }}</span\r\n\t\t\t\t\t\t>条，<span>{{ selectColumns.length }}</span\r\n\t\t\t\t\t\t>列数据\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"importing-box\" v-else>\r\n\t\t\t\t\t<el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=\"progress.percentage\"></el-progress>\r\n\t\t\t\t\t<div class=\"state-text\">\r\n\t\t\t\t\t\t正在导入数据<span>{{ importData.length }}</span\r\n\t\t\t\t\t\t>条\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t\t<!-- Dialog 按钮操作区的内容 -->\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"step !== 3\">\r\n\t\t\t<el-button v-if=\"step == 1 && !uploadSuccess\" @click=\"againUpload\">重新上传</el-button>\r\n\t\t\t<el-button v-if=\"step == 2\" @click=\"gotoPrevStep\">上一步</el-button>\r\n\t\t\t<el-dropdown split-button type=\"primary\" :disabled=\"!uploadAttributes.fileList || uploadAttributes.fileList.length != 1\" @click=\"gotoExcelUpload\" @command=\"gotoExcelUpload\" v-if=\"step == 1 && uploadSuccess\">\r\n\t\t\t\t确定导入\r\n\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t<el-dropdown-item command=\"success\">成功</el-dropdown-item>\r\n\t\t\t\t\t<el-dropdown-item command=\"fail\">失败</el-dropdown-item>\r\n\t\t\t\t</el-dropdown-menu>\r\n\t\t\t</el-dropdown>\r\n\t\t\t<el-button type=\"primary\" @click=\"gotoNexStep\" v-else-if=\"step == 2\">下一步</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n<script>\r\nimport { Loading } from \"element-ui\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialogAttributes: {}, // 当前dialog属性\r\n\t\t\tstep: 1, // 当前操作步骤\r\n\t\t\tselectColumns: [],\r\n\t\t\timportData: [],\r\n\t\t\tcolumnList: [],\r\n\t\t\tfileId: null, // 上传后的文件ID\r\n\t\t\tuploadSuccess: true,\r\n\t\t\tuploadErrorInfo: \"\",\r\n\t\t\tisLoading: false,\r\n\t\t\tprogress: {\r\n\t\t\t\ttimoutId: null,\r\n\t\t\t\ttimes: 0,\r\n\t\t\t\tpercentage: 0,\r\n\t\t\t\tfinish: false\r\n\t\t\t},\r\n\t\t\tuploadAttributes: {\r\n\t\t\t\taction: config.uploadImgServer,\r\n\t\t\t\thttpRequest: this.excelUpload,\r\n\t\t\t\tonChange: this.onFileChange,\r\n\t\t\t\tmultiple: false,\r\n\t\t\t\taccept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel\",\r\n\t\t\t\tdrag: true,\r\n\t\t\t\tref: \"excel-file\",\r\n\t\t\t\t// showFileList: false,\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tautoUpload: false\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tprops: {\r\n\t\tdialog: Object, // elment的dialog的属性\r\n\t\tisShow: Boolean,\r\n\t\tupload: Object, // elment的upload上传属性\r\n\t\texcelTemplate: String, // excel模板下载地址\r\n\t\tparameters: [String, Function] // 模板数据上传参数\r\n\t},\r\n\twatch: {\r\n\t\tisShow(val) {\r\n\t\t\tif (!val) {\r\n\t\t\t\tthis.step = 1; // 当前操作步骤\r\n\t\t\t\tthis.selectColumns = [];\r\n\t\t\t\tthis.importData = [];\r\n\t\t\t\tthis.columnList = [];\r\n\t\t\t\tthis.fileId = null;\r\n\t\t\t\tthis.uploadSuccess = true;\r\n\t\t\t\tthis.uploadErrorInfo = \"\";\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.progress = {\r\n\t\t\t\t\ttimoutId: null,\r\n\t\t\t\t\ttimes: 0,\r\n\t\t\t\t\tpercentage: 0,\r\n\t\t\t\t\tfinish: false\r\n\t\t\t\t};\r\n\t\t\t\tthis.init();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tthis.generateDialogAttributes();\r\n\t\t\tthis.uploadAttributes = site.utils.extend(true, this.uploadAttributes, this.upload);\r\n\t\t},\r\n\t\t// 生成dialog属性配置\r\n\t\tgenerateDialogAttributes() {\r\n\t\t\tthis.dialogAttributes = site.utils.extend(\r\n\t\t\t\ttrue,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: \"excel数据导入\",\r\n\t\t\t\t\tcloseOnClickModal: false\r\n\t\t\t\t},\r\n\t\t\t\tthis.dialog\r\n\t\t\t);\r\n\t\t},\r\n\t\tclose() {\r\n\t\t\tthis.$emit(\"update:isShow\", false);\r\n\t\t},\r\n\t\ttoggleCheckColumn(columnProp, isCheck) {\r\n\t\t\tlet i = this.selectColumns.findIndex(item => item == columnProp);\r\n\t\t\tif (i == -1 && isCheck) {\r\n\t\t\t\tthis.selectColumns.push(columnProp);\r\n\t\t\t} else if (i != -1 && !isCheck) {\r\n\t\t\t\tthis.selectColumns.splice(i, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFileChange(file) {\r\n\t\t\tconsole.info(file);\r\n\t\t\tthis.uploadAttributes.fileList = [file];\r\n\t\t\tthis.uploadSuccess = true;\r\n\t\t},\r\n\t\tdownExcelTemplate() {\r\n\t\t\twindow.open(this.excelTemplate);\r\n\t\t},\r\n\t\texcelUpload() {\r\n\t\t\t// TODO: parameters提交\r\n\t\t\tlet parameters = { excelFile: this.uploadAttributes.fileList[0].file };\r\n\t\t\tif (this.parameters && typeof this.parameters == \"object\") {\r\n\t\t\t\tparameters = site.utils.extend(true, parameters, this.parameters);\r\n\t\t\t} else if (this.parameters && typeof this.parameters == \"function\") {\r\n\t\t\t\tparameters = site.utils.extend(true, parameters, this.parameters());\r\n\t\t\t}\r\n\t\t\treturn site.api.common.excelUpload(parameters);\r\n\t\t},\r\n\t\tsubmitUpload() {\r\n\t\t\treturn site.api.common.excelImport({ fileId: this.fileId });\r\n\t\t},\r\n\t\tagainUpload() {\r\n\t\t\tthis.uploadSuccess = true;\r\n\t\t\tthis.uploadAttributes.fileList = [];\r\n\t\t},\r\n\t\t// 测试专用\r\n\t\texcelUploadFail() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject(\"第1行： 已存在名称为【 上海阿蜜科技有限公司 】的客户，如果继续导入将会更新这条客户的数据<br />第2行：【客户名称】字段不能为空\");\r\n\t\t\t\t}, 2000);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 测试专用\r\n\t\tasync gotoExcelUpload(command) {\r\n\t\t\tif (command == \"fail\") {\r\n\t\t\t\tlet loadingInstance = Loading.service({ fullscreen: true });\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.excelUploadFail();\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.uploadSuccess = false;\r\n\t\t\t\t\tthis.uploadErrorInfo = error;\r\n\t\t\t\t\tloadingInstance.close();\r\n\t\t\t\t}\r\n\t\t\t} else if (this.uploadAttributes.fileList.length == 0) {\r\n\t\t\t\tthis.$message.error(\"请先上传exce文件\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.gotoNexStep();\r\n\t\t\t}\r\n\t\t},\r\n\t\tgotoPrevStep() {\r\n\t\t\tthis.step = 1;\r\n\t\t},\r\n\t\tasync gotoNexStep() {\r\n\t\t\tif (this.isLoading) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isLoading = true;\r\n\t\t\tif (this.step == 1) {\r\n\t\t\t\tlet loadingInstance = Loading.service({ fullscreen: true });\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 上传Excel文件\r\n\t\t\t\t\tlet excelUploadData = await this.excelUpload();\r\n\t\t\t\t\tthis.fileId = excelUploadData.fileId;\r\n\t\t\t\t\tthis.importData = excelUploadData.data;\r\n\t\t\t\t\tthis.columnList = excelUploadData.columns;\r\n\t\t\t\t\tthis.selectColumns = [];\r\n\t\t\t\t\tthis.columnList.forEach(item => {\r\n\t\t\t\t\t\tthis.selectColumns.push(item.prop);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.step = 2;\r\n\t\t\t\t\tthis.uploadSuccess = true;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.uploadSuccess = false;\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tloadingInstance.close();\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.step = 3;\r\n\t\t\t\t\tthis.importProgress();\r\n\t\t\t\t\tawait this.submitUpload();\r\n\t\t\t\t\tthis.progress.finish = true;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// 不考虑失败情况\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 做一个假的加载进度条\r\n\t\timportProgress() {\r\n\t\t\tif (this.progress.timoutId) {\r\n\t\t\t\tclearInterval(this.progress.timoutId);\r\n\t\t\t}\r\n\t\t\tthis.progress.times = 0;\r\n\t\t\tlet ratio = 0.1;\r\n\t\t\tthis.progress.timoutId = setInterval(() => {\r\n\t\t\t\t++this.progress.times;\r\n\t\t\t\tif (this.progress.percentage == 100) {\r\n\t\t\t\t\tclearInterval(this.progress.timoutId);\r\n\t\t\t\t\tthis.progress.percentage = 101;\r\n\t\t\t\t\tthis.progress.timoutId = null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (this.progress.percentage > 95 && this.progress.finish) {\r\n\t\t\t\t\tthis.progress.percentage = 100;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (this.progress.finish) {\r\n\t\t\t\t\tratio = 1;\r\n\t\t\t\t} else if (this.progress.percentage > 80) {\r\n\t\t\t\t\tratio = 0.2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tratio = 0.1 * (this.progress.times % 10);\r\n\t\t\t\t}\r\n\t\t\t\tthis.progress.percentage = parseInt(this.progress.percentage + (99 - this.progress.percentage) * ratio * Math.random(), 10);\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tif (this.progress.timoutId) {\r\n\t\t\tclearInterval(this.progress.timoutId);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.excel-import-dialog {\r\n\t.dialog-body {\r\n\t\tmin-height: 400px;\r\n\r\n\t\t.upload-panel {\r\n\t\t\t.tips-list {\r\n\t\t\t\tpadding: 20px 30px;\r\n\t\t\t\tlist-style: disc;\r\n\r\n\t\t\t\tli {\r\n\t\t\t\t\tline-height: 25px;\r\n\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.upload-fail {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 10px;\r\n\t\t\tborder: 1px solid #e2e2e2;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tmin-height: 150px;\r\n\r\n\t\t\t.icon-box {\r\n\t\t\t\twidth: 150px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-right: 1px solid #e2e2e2;\r\n\t\t\t\tfont-size: 50px;\r\n\t\t\t\tcolor: #e6a23c;\r\n\t\t\t\tbackground-color: #f2f2f2;\r\n\t\t\t}\r\n\r\n\t\t\t.fail-tips {\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\tline-height: 20px;\r\n\r\n\t\t\t\t.title-text {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.import-result-text {\r\n\t\t\tpadding: 10px;\r\n\t\t\ttext-align: right;\r\n\t\t\tline-height: 25px;\r\n\r\n\t\t\ti {\r\n\t\t\t\tcolor: #e6a23c;\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t\tfont-size: 20px;\r\n\t\t\t}\r\n\r\n\t\t\tspan {\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tpadding: 0px 2px;\r\n\t\t\t\tcolor: #f56c6c;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.importing-box {\r\n\t\t\tpadding: 150px 50px;\r\n\r\n\t\t\t.state-text {\r\n\t\t\t\tline-height: 20px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding-top: 10px;\r\n\t\t\t\tfont-size: 12px;\r\n\r\n\t\t\t\tspan {\r\n\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tpadding: 0px 2px;\r\n\t\t\t\t\tcolor: #f56c6c;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.succes-box {\r\n\t\t\tpadding: 100px;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\ti {\r\n\t\t\t\tfont-size: 100px;\r\n\t\t\t\tcolor: #67c23a;\r\n\t\t\t}\r\n\r\n\t\t\t.title-text {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 20px;\r\n\t\t\t\tpadding: 8px 0px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t}\r\n\r\n\t\t\t.subtitle-text {\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\tcolor: #666;\r\n\r\n\t\t\t\tspan {\r\n\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tpadding: 0px 2px;\r\n\t\t\t\t\tcolor: #f56c6c;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.upload-excel .el-upload {\r\n\twidth: 100%;\r\n\r\n\t.el-upload-dragger {\r\n\t\twidth: 100%;\r\n\t\theight: 220px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"simple-query\">\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-16\r\n            描述：列表过滤栏\r\n        -->\r\n\t\t<search-form :fields=\"queryFields\" @search=\"search\" @change=\"filterChange\" />\r\n\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-16\r\n            描述：列表操作栏\r\n        -->\r\n\t\t<action-bar :buttons=\"handleButtons\" />\r\n\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-16\r\n            描述：数据列表栏\r\n        -->\r\n\t\t<data-table v-bind=\"dataTable\" :filters=\"filters\" ref=\"data-table\" :select-rows.sync=\"selectRows\" />\r\n\r\n\t\t<!--\r\n\t\t\t作者：yujinjin9@126.com\r\n            时间：2020-09-24\r\n            描述：预览\r\n\t\t-->\r\n\t\t<el-dialog :title=\"viewDialogForm.dialog.title\" :visible.sync=\"viewDialogForm.isShow\" width=\"50%\" :close-on-click-modal=\"false\">\r\n\t\t\t<view-info :fields=\"viewDialogForm.fields\" :value=\"viewDialogForm.value\"></view-info>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"viewDialogForm.isShow\">\r\n\t\t\t\t<el-button type=\"primary\" :disabled=\"!getPrevRow(viewDialogForm.value)\" size=\"small\" @click=\"showPreRow\">上一条</el-button>\r\n\t\t\t\t<el-button type=\"primary\" :disabled=\"!getNextRow(viewDialogForm.value)\" size=\"small\" @click=\"showNextRow\">下一条</el-button>\r\n\t\t\t\t<el-button size=\"small\" @click=\"viewDialogForm.isShow = false\">关闭</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<!--\r\n\t\t\t作者：yujinjin9@126.com\r\n            时间：2020-09-25\r\n            描述：编辑\r\n\t\t-->\r\n\t\t<dialog-form v-bind=\"updateDialogForm\" ref=\"update-dialog-form\" :isShow.sync=\"updateDialogForm.isShow\" @input-change=\"updateDialogForm.formInput = arguments[0]\"> </dialog-form>\r\n\t\t<!--\r\n\t\t\t作者：yujinjin9@126.com\r\n            时间：2020-09-29\r\n            描述：excel导入\r\n\t\t-->\r\n\t\t<excel-import-dialog v-bind=\"simpleExcelImportDialog\" :isShow.sync=\"simpleExcelImportDialog.isShow\"></excel-import-dialog>\r\n\r\n\t\t<!--\r\n\t\t\t作者：yujinjin9@126.com\r\n            时间：2020-10-13\r\n            描述：excel导出\r\n\t\t-->\r\n\t\t<excel-export-dialog v-bind=\"simpleExcelExportDialog\" :isShow.sync=\"simpleExcelExportDialog.isShow\"></excel-export-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport excelImportDialog from \"@views/components/excel-import-dialog\";\r\nimport excelExportDialog from \"@views/components/excel-export-dialog\";\r\n\r\nexport default {\r\n\tcomponents: { excelImportDialog, excelExportDialog },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 查询表单字段\r\n\t\t\tqueryFields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: \"filter\",\r\n\t\t\t\t\tlabel: \"关键词\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: \"state\",\r\n\t\t\t\t\tlabel: \"是否成功\",\r\n\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\tdata: site.constants.ENUM[\"YES_NO\"]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thandleButtons: [\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"add\",\r\n\t\t\t\t\tlabel: \"新增\",\r\n\t\t\t\t\tclick: this.gotoAdd\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"import\",\r\n\t\t\t\t\tlabel: \"导入\",\r\n\t\t\t\t\tclick: this.importExcel\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"export\",\r\n\t\t\t\t\tlabel: \"导出\",\r\n\t\t\t\t\tclick: this.exportExcel\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"refuse\",\r\n\t\t\t\t\tlabel: \"拒绝\",\r\n\t\t\t\t\tclick: this.refuse\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"delete\",\r\n\t\t\t\t\tlabel: \"删除\",\r\n\t\t\t\t\tclick: this.delete\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdataTable: {\r\n\t\t\t\tquery: site.api.common.queryList,\r\n\t\t\t\tdialog: {\r\n\t\t\t\t\ttitle: null\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"selection\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"action\",\r\n\t\t\t\t\t\tlabel: \"操作\",\r\n\t\t\t\t\t\twidth: \"105px\",\r\n\t\t\t\t\t\tbuttons: row => {\r\n\t\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlabel: \"编辑\",\r\n\t\t\t\t\t\t\t\t\tclick: this.gotoEdit\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlabel: \"查看\",\r\n\t\t\t\t\t\t\t\t\tclick: this.gotoView\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlabel: \"预览\",\r\n\t\t\t\t\t\t\t\t\taction: \"qrcode\",\r\n\t\t\t\t\t\t\t\t\turl: \"https://www.baidu.com\"\r\n\t\t\t\t\t\t\t\t\t// url: row => {\r\n\t\t\t\t\t\t\t\t\t// \tconsole.info(row);\r\n\t\t\t\t\t\t\t\t\t// \treturn Promise.resolve(\"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg\");\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"orderNo\",\r\n\t\t\t\t\t\tlabel: \"订单编号\",\r\n\t\t\t\t\t\twidth: \"75px\",\r\n\t\t\t\t\t\ttype: \"link\",\r\n\t\t\t\t\t\turl: \"/#/complex-query?orderNo={orderNo}\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tprop: \"orderNo\",\r\n\t\t\t\t\t// \tlabel: \"订单编号\",\r\n\t\t\t\t\t// \twidth: \"75px\",\r\n\t\t\t\t\t// \ttype: \"qrcode\",\r\n\t\t\t\t\t// \tisImg: true,\r\n\t\t\t\t\t// \turl: row => {\r\n\t\t\t\t\t// \t\tconsole.info(row);\r\n\t\t\t\t\t// \t\treturn Promise.resolve(\"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"activeStatus\",\r\n\t\t\t\t\t\tlabel: \"状态\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: \"ACTIVE_FROZEN\",\r\n\t\t\t\t\t\tclick: this.changeStatus,\r\n\t\t\t\t\t\ttips: \"【{0}】该内容\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"price\",\r\n\t\t\t\t\t\tlabel: \"价格\",\r\n\t\t\t\t\t\twidth: \"100px\",\r\n\t\t\t\t\t\ttype: \"money\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"tags\",\r\n\t\t\t\t\t\tlabel: \"订单标签\",\r\n\t\t\t\t\t\ttype: \"tags\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"imgs\",\r\n\t\t\t\t\t\tlabel: \"图片\",\r\n\t\t\t\t\t\ttype: \"image\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"sex\",\r\n\t\t\t\t\t\tlabel: \"性别\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: \"SEX\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"createTime\",\r\n\t\t\t\t\t\tlabel: \"时间\",\r\n\t\t\t\t\t\twidth: \"140px\",\r\n\t\t\t\t\t\ttype: \"datetime\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tviewDialogForm: {\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tvalue: {},\r\n\t\t\t\tdialog: {\r\n\t\t\t\t\ttitle: null\r\n\t\t\t\t},\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"orderNo\",\r\n\t\t\t\t\t\tlabel: \"订单号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveMan\",\r\n\t\t\t\t\t\tlabel: \"收货人\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"price\",\r\n\t\t\t\t\t\tlabel: \"价格\",\r\n\t\t\t\t\t\ttype: \"money\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveManTel\",\r\n\t\t\t\t\t\tlabel: \"收货人手机号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sendMan\",\r\n\t\t\t\t\t\tlabel: \"购买人\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"fromAbroad\",\r\n\t\t\t\t\t\tlabel: \"是否跨境\",\r\n\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\tlist: \"YES_NO\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"tags\",\r\n\t\t\t\t\t\tlabel: \"标签\",\r\n\t\t\t\t\t\ttype: \"tags\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sex\",\r\n\t\t\t\t\t\tlabel: \"性别\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: \"SEX\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"imgs\",\r\n\t\t\t\t\t\tlabel: \"图片\",\r\n\t\t\t\t\t\ttype: \"image\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"activeStatus\",\r\n\t\t\t\t\t\tlabel: \"状态\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: \"ACTIVE_FROZEN\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"createTime\",\r\n\t\t\t\t\t\tlabel: \"创建时间\",\r\n\t\t\t\t\t\ttype: \"datetime\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"remark\",\r\n\t\t\t\t\t\tlabel: \"备注\",\r\n\t\t\t\t\t\ttype: \"html\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tupdateDialogForm: {\r\n\t\t\t\tformInput: {},\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tcolumn: 2,\r\n\t\t\t\tsubmitForm: this.save,\r\n\t\t\t\tdialog: {\r\n\t\t\t\t\ttitle: null,\r\n\t\t\t\t\twidth: \"80%\"\r\n\t\t\t\t},\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"orderNo\",\r\n\t\t\t\t\t\tlabel: \"订单号\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"请填写订单号\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveMan\",\r\n\t\t\t\t\t\tlabel: \"收货人\",\r\n\t\t\t\t\t\trules: [{ required: true, message: \"请填写收货人\" }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"price\",\r\n\t\t\t\t\t\tlabel: \"价格\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveManTel\",\r\n\t\t\t\t\t\tlabel: \"收货人手机号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sendMan\",\r\n\t\t\t\t\t\tlabel: \"购买人\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"fromAbroad\",\r\n\t\t\t\t\t\tlabel: \"是否跨境\",\r\n\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\tdata: site.constants.ENUM[\"YES_NO\"]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"tags\",\r\n\t\t\t\t\t\tlabel: \"标签\",\r\n\t\t\t\t\t\tplaceholder: \"标签，多个用'|'分割\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sex\",\r\n\t\t\t\t\t\tlabel: \"性别\",\r\n\t\t\t\t\t\ttype: \"radio\",\r\n\t\t\t\t\t\tdata: site.constants.ENUM[\"SEX\"]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"imgs\",\r\n\t\t\t\t\t\tlabel: \"图片\",\r\n\t\t\t\t\t\ttype: \"imgUpload\",\r\n\t\t\t\t\t\tspan: 24\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"activeStatus\",\r\n\t\t\t\t\t\tlabel: \"状态\",\r\n\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\tdata: site.constants.ENUM[\"ACTIVE_FROZEN\"]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"remark\",\r\n\t\t\t\t\t\tlabel: \"备注\",\r\n\t\t\t\t\t\ttype: \"htmlEditor\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tsimpleExcelImportDialog: {\r\n\t\t\t\tdialog: {},\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tupload: {}\r\n\t\t\t},\r\n\t\t\tsimpleExcelExportDialog: {\r\n\t\t\t\tisShow: false,\r\n\t\t\t\texcelExport: site.api.common.excelExport,\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"filter\",\r\n\t\t\t\t\t\tlabel: \"关键词\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"state\",\r\n\t\t\t\t\t\tlabel: \"是否成功\",\r\n\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\tdata: site.constants.ENUM[\"YES_NO\"]\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\texportFields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"orderNo\",\r\n\t\t\t\t\t\tlabel: \"订单号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveMan\",\r\n\t\t\t\t\t\tlabel: \"收货人\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"price\",\r\n\t\t\t\t\t\tlabel: \"价格\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"receiveManTel\",\r\n\t\t\t\t\t\tlabel: \"收货人手机号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sendMan\",\r\n\t\t\t\t\t\tlabel: \"购买人\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"fromAbroad\",\r\n\t\t\t\t\t\tlabel: \"是否跨境\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"tags\",\r\n\t\t\t\t\t\tlabel: \"标签\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"sex\",\r\n\t\t\t\t\t\tlabel: \"性别\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"imgs\",\r\n\t\t\t\t\t\tlabel: \"图片\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"activeStatus\",\r\n\t\t\t\t\t\tlabel: \"状态\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"remark\",\r\n\t\t\t\t\t\tlabel: \"备注\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {},\r\n\t\tgotoEdit(row) {\r\n\t\t\tthis.updateDialogForm.isShow = true;\r\n\t\t\tthis.updateDialogForm.dialog.title = \"编辑信息，编号：\" + row.orderNo;\r\n\t\t\tthis.$refs[\"update-dialog-form\"].setFieldsValue(row);\r\n\t\t},\r\n\t\tgotoAdd() {\r\n\t\t\tthis.updateDialogForm.isShow = true;\r\n\t\t\tthis.updateDialogForm.dialog.title = \"新增信息\";\r\n\t\t\tthis.$refs[\"update-dialog-form\"].setFieldsValue(null);\r\n\t\t},\r\n\t\tsave(formInput) {\r\n\t\t\tconsole.info(\"save\", formInput);\r\n\t\t\treturn Promise.resolve(true);\r\n\t\t},\r\n\t\tgotoView(row) {\r\n\t\t\tthis.viewDialogForm.dialog.title = \"查看页面信息，编号：\" + row.orderNo;\r\n\t\t\tthis.viewDialogForm.isShow = true;\r\n\t\t\tthis.viewDialogForm.value = row;\r\n\t\t},\r\n\t\tshowPreRow() {\r\n\t\t\tthis.viewDialogForm.value = this.getPrevRow(this.viewDialogForm.value);\r\n\t\t},\r\n\t\tshowNextRow() {\r\n\t\t\tthis.viewDialogForm.value = this.getNextRow(this.viewDialogForm.value);\r\n\t\t},\r\n\t\trefuse() {\r\n\t\t\tthis.handlerBatch(() => Promise.resolve(true), \"拒绝状态\");\r\n\t\t},\r\n\t\timportExcel() {\r\n\t\t\tthis.simpleExcelImportDialog.isShow = true;\r\n\t\t},\r\n\t\texportExcel() {\r\n\t\t\tthis.simpleExcelExportDialog.isShow = true;\r\n\t\t},\r\n\t\tdelete() {\r\n\t\t\tthis.preBatchDelete(() => Promise.resolve(true));\r\n\t\t},\r\n\t\thandleButtonClick(action) {\r\n\t\t\tconsole.info(action);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped></style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"simple-query\"},[_c('search-form',{attrs:{\"fields\":_vm.queryFields},on:{\"search\":_vm.search,\"change\":_vm.filterChange}}),_c('action-bar',{attrs:{\"buttons\":_vm.handleButtons}}),_c('data-table',_vm._b({ref:\"data-table\",attrs:{\"filters\":_vm.filters,\"select-rows\":_vm.selectRows},on:{\"update:selectRows\":function($event){_vm.selectRows=$event},\"update:select-rows\":function($event){_vm.selectRows=$event}}},'data-table',_vm.dataTable,false)),_c('el-dialog',{attrs:{\"title\":_vm.viewDialogForm.dialog.title,\"visible\":_vm.viewDialogForm.isShow,\"width\":\"50%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.viewDialogForm, \"isShow\", $event)}}},[_c('view-info',{attrs:{\"fields\":_vm.viewDialogForm.fields,\"value\":_vm.viewDialogForm.value}}),(_vm.viewDialogForm.isShow)?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.getPrevRow(_vm.viewDialogForm.value),\"size\":\"small\"},on:{\"click\":_vm.showPreRow}},[_vm._v(\"上一条\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.getNextRow(_vm.viewDialogForm.value),\"size\":\"small\"},on:{\"click\":_vm.showNextRow}},[_vm._v(\"下一条\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.viewDialogForm.isShow = false}}},[_vm._v(\"关闭\")])],1):_vm._e()],1),_c('dialog-form',_vm._b({ref:\"update-dialog-form\",attrs:{\"isShow\":_vm.updateDialogForm.isShow},on:{\"update:isShow\":function($event){return _vm.$set(_vm.updateDialogForm, \"isShow\", $event)},\"update:is-show\":function($event){return _vm.$set(_vm.updateDialogForm, \"isShow\", $event)},\"input-change\":function($event){_vm.updateDialogForm.formInput = arguments[0]}}},'dialog-form',_vm.updateDialogForm,false)),_c('excel-import-dialog',_vm._b({attrs:{\"isShow\":_vm.simpleExcelImportDialog.isShow},on:{\"update:isShow\":function($event){return _vm.$set(_vm.simpleExcelImportDialog, \"isShow\", $event)},\"update:is-show\":function($event){return _vm.$set(_vm.simpleExcelImportDialog, \"isShow\", $event)}}},'excel-import-dialog',_vm.simpleExcelImportDialog,false)),_c('excel-export-dialog',_vm._b({attrs:{\"isShow\":_vm.simpleExcelExportDialog.isShow},on:{\"update:isShow\":function($event){return _vm.$set(_vm.simpleExcelExportDialog, \"isShow\", $event)},\"update:is-show\":function($event){return _vm.$set(_vm.simpleExcelExportDialog, \"isShow\", $event)}}},'excel-export-dialog',_vm.simpleExcelExportDialog,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-query.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-query.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simple-query.vue?vue&type=template&id=74faee8c&scoped=true&\"\nimport script from \"./simple-query.vue?vue&type=script&lang=js&\"\nexport * from \"./simple-query.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74faee8c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=style&index=0&id=4f3eeda9&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=style&index=0&id=4f3eeda9&lang=less&scoped=true&\"","<template>\n\t<el-dialog v-bind=\"dialogAttributes\" custom-class=\"excel-export-dialog\" :visible=\"isShow\" @close=\"close\">\n\t\t<div class=\"dialog-body\">\n\t\t\t<!-- 导入初始化时状态 -->\n\t\t\t<template v-if=\"loadType == 0\">\n\t\t\t\t<el-card class=\"box-card\" shadow=\"hover\">\n\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t\t\t<span>筛选条件</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form-input v-if=\"fields && fields.length > 0\" :fields=\"fields\" :form=\"form\" :column=\"column\" ref=\"form-input\" @input-change=\"formInputChange\">\n\t\t\t\t\t\t<template v-for=\"slotName in formInputSlotNameList\" v-slot:[slotName]=\"{ formInput }\">\n\t\t\t\t\t\t\t<slot :name=\"slotName\" v-bind:formInput=\"formInput\"></slot>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</form-input>\n\t\t\t\t</el-card>\n\t\t\t\t<el-card class=\"box-card\" style=\"margin-top: 10px;\" shadow=\"hover\" v-if=\"exportFields && exportFields.length > 0\">\n\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t\t\t<span>请选择导出的字段</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"export-table-panel\">\n\t\t\t\t\t\t<div class=\"row-header\">\n\t\t\t\t\t\t\t<el-checkbox :indeterminate=\"indeterminateCheckState\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">字段名称</el-checkbox>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<el-checkbox-group v-model=\"selectExportFields\" @change=\"handleCheckedFieldsChange\">\n\t\t\t\t\t\t\t<div class=\"row-info\" v-for=\"(exportField, index) in exportFields\" :key=\"index\">\n\t\t\t\t\t\t\t\t<el-checkbox :label=\"exportField.name\">{{ exportField.label }}</el-checkbox>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t</div>\n\t\t\t\t</el-card>\n\t\t\t</template>\n\t\t\t<!-- 导入中 -->\n\t\t\t<div class=\"exporting-box\" v-else-if=\"loadType == 1\">\n\t\t\t\t<el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=\"progress.percentage\"></el-progress>\n\t\t\t\t<div class=\"state-text\">\n\t\t\t\t\t正在批量导出数据，请稍后...\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- 导入成功 -->\n\t\t\t<div class=\"succes-box\" v-else-if=\"loadType == 2\">\n\t\t\t\t<el-button size=\"default\" type=\"primary\" @click=\"downExcelFile\"><i class=\"el-icon-download\"></i>下载导出的文件</el-button>\n\t\t\t\t<div class=\"title-text\">批量导出完成...</div>\n\t\t\t</div>\n\t\t\t<!-- 导入失败 -->\n\t\t\t<div class=\"fail-box\" v-else-if=\"loadType == 3\">\n\t\t\t\t<div class=\"icon-box\">\n\t\t\t\t\t<i class=\"el-icon-warning\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"fail-tips\">\n\t\t\t\t\t<div class=\"title-text\">异常提示</div>\n\t\t\t\t\t<div class=\"content\" v-html=\"exportErrorInfo\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- Dialog 按钮操作区的内容 -->\n\t\t<div slot=\"footer\" class=\"dialog-footer\" v-if=\"loadType == 0 || loadType == 3\">\n\t\t\t<el-button v-if=\"loadType == 3\" @click=\"againExport\">重新导出</el-button>\n\t\t\t<el-dropdown split-button type=\"primary\" @click=\"gotoExcelExport\" @command=\"gotoExcelExport\" v-if=\"loadType == 0\">\n\t\t\t\t确定导出\n\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t<el-dropdown-item command=\"success\">成功</el-dropdown-item>\n\t\t\t\t\t<el-dropdown-item command=\"fail\">失败</el-dropdown-item>\n\t\t\t\t</el-dropdown-menu>\n\t\t\t</el-dropdown>\n\t\t</div>\n\t</el-dialog>\n</template>\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdialogAttributes: {}, // 当前dialog属性\n\t\t\tformInput: {}, // 当前表单的值\n\t\t\tformInputSlotNameList: [], // form-input组件中的插槽名称列表\n\t\t\tloadType: 0, // 当前加载类型，0：初始化状态，1: 正在导入，2: 导入成功，3：导入失败\n\t\t\texcelExportFileUrl: null, // 导入的excel文件地址URL\n\t\t\texportErrorInfo: \"\",\n\t\t\tselectExportFields: [], // 当前选中的导出的字段\n\t\t\tcheckAll: true, // 选中所有字段\n\t\t\tindeterminateCheckState: false, // 当前全选checkbox的不确定状态\n\t\t\tprogress: {\n\t\t\t\ttimoutId: null,\n\t\t\t\ttimes: 0,\n\t\t\t\tpercentage: 0,\n\t\t\t\tfinish: false\n\t\t\t}\n\t\t};\n\t},\n\tprops: {\n\t\t// dialog的属性（具体见Elemnet Dialog 对话框文档）\n\t\tdialog: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t// 是否显示弹窗\n\t\tisShow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 表单字段列表[{name: 表单项名称, label: 选项的标签名称, value: 选项的值, type: 组件的类型,\n\t\t// data: 数据（比如：select的选项值列表）, option: 组件的自定义选项(可无), span: 占用的栅格数（布局）\n\t\t// rules: 表单的验证方式, slot: 自定义插槽名称（可无，如有值其他选项无效）}]\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\t// 当前可以导出的字段列表[{name: 字段code, lable: 字段名称}]\n\t\texportFields: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\t// 表单属性\n\t\tform: {\n\t\t\ttype: Object,\n\t\t\tdeault() {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\t// excel导入函数，返回excel文件地址\n\t\texcelExport: Function,\n\t\t// 表单每栏显示数目，不要初始化后又有变化，这里不做监控\n\t\tcolumn: {\n\t\t\ttype: Number,\n\t\t\tdefault: 2\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 判断当前的查询表单、导出的字段2个都没有的情况下就认为是直接导出Excel\n\t\tdirectExport() {\n\t\t\tif (!this.isShow) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.fields.length == 0 && this.exportFields.length == 0 && typeof this.excelExport == \"function\";\n\t\t}\n\t},\n\twatch: {\n\t\tdialog: {\n\t\t\thandler(val) {\n\t\t\t\tthis.generateDialogAttributes();\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tfields: {\n\t\t\thandler(val) {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tif (this.$refs[\"form-input\"]) {\n\t\t\t\t\t\tthis.formInputSlotNameList = this.$refs[\"form-input\"].getSlotNameList();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tisShow(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tif (this.$refs[\"form-input\"]) {\n\t\t\t\t\t\tthis.formInputSlotNameList = this.$refs[\"form-input\"].getSlotNameList();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.loadType = 0;\n\t\t\t\tthis.excelExportFileUrl = null;\n\t\t\t\tthis.exportErrorInfo = \"\";\n\t\t\t}\n\t\t},\n\t\texportFields: {\n\t\t\thandler(val) {\n\t\t\t\tthis.generateSelectExportFields();\n\t\t\t},\n\t\t\tdeep: true\n\t\t},\n\t\tdirectExport(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.submit();\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.init();\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tthis.generateDialogAttributes();\n\t\t\tthis.generateSelectExportFields();\n\t\t},\n\t\t// 生成dialog属性配置\n\t\tgenerateDialogAttributes() {\n\t\t\tthis.dialogAttributes = site.utils.extend(\n\t\t\t\ttrue,\n\t\t\t\t{\n\t\t\t\t\ttitle: \"excel数据导出\",\n\t\t\t\t\tcloseOnClickModal: false\n\t\t\t\t},\n\t\t\t\tthis.dialog\n\t\t\t);\n\t\t},\n\t\t// 生成选中导出的字段\n\t\tgenerateSelectExportFields() {\n\t\t\tif (!this.exportFields || this.exportFields.length == 0) {\n\t\t\t\tthis.selectExportFields = [];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.checkAll) {\n\t\t\t\tlet selectExportFields = [];\n\t\t\t\tthis.exportFields.forEach(field => {\n\t\t\t\t\tselectExportFields.push(field.name);\n\t\t\t\t});\n\t\t\t\tthis.selectExportFields = selectExportFields;\n\t\t\t}\n\t\t},\n\t\tclose() {\n\t\t\tthis.$emit(\"update:isShow\", false);\n\t\t},\n\t\tformInputChange(formInput, name, value) {\n\t\t\tthis.$emit(\"input-change\", formInput, name, value);\n\t\t},\n\t\thandleCheckAllChange(checked) {\n\t\t\tlet selectExportFields = [];\n\t\t\tif (checked) {\n\t\t\t\tthis.exportFields.forEach(field => {\n\t\t\t\t\tselectExportFields.push(field.name);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.selectExportFields = selectExportFields;\n\t\t\tthis.indeterminateCheckState = false;\n\t\t},\n\t\thandleCheckedFieldsChange(value) {\n\t\t\tthis.checkAll = this.exportFields.length === value.length;\n\t\t\tthis.indeterminateCheckState = value.length > 0 && value.length < this.exportFields.length;\n\t\t},\n\t\tgotoExcelExport(command) {\n\t\t\tif (command == \"fail\") {\n\t\t\t\tthis.loadType = 3;\n\t\t\t\tthis.exportErrorInfo = \"导出数据太多，请更改查询条件分段导出!\";\n\t\t\t} else {\n\t\t\t\tthis.submit();\n\t\t\t}\n\t\t},\n\t\tasync submit() {\n\t\t\tif (this.loadType == 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet formInput = {};\n\t\t\tif (this.fields && this.fields.length > 0) {\n\t\t\t\tformInput = await this.$refs[\"form-input\"].validate();\n\t\t\t}\n\t\t\tformInput.selectExportFields = this.selectExportFields;\n\t\t\tthis.loadType = 1;\n\t\t\tthis.importProgress();\n\t\t\ttry {\n\t\t\t\tthis.excelExportFileUrl = await this.excelExport(formInput);\n\t\t\t\tthis.loadType = 2;\n\t\t\t} catch (error) {\n\t\t\t\tthis.loadType = 3;\n\t\t\t\tthis.exportErrorInfo = error.message;\n\t\t\t} finally {\n\t\t\t\tthis.progress.finish = true;\n\t\t\t}\n\t\t},\n\t\tagainExport() {\n\t\t\tthis.loadType = 0;\n\t\t\tif (this.directExport) {\n\t\t\t\tthis.submit();\n\t\t\t}\n\t\t},\n\t\tdownExcelFile() {\n\t\t\twindow.open(this.excelExportFileUrl);\n\t\t},\n\t\t// 做一个假的加载进度条\n\t\timportProgress() {\n\t\t\tif (this.progress.timoutId) {\n\t\t\t\tclearInterval(this.progress.timoutId);\n\t\t\t}\n\t\t\tthis.progress.times = 0;\n\t\t\tlet ratio = 0.1;\n\t\t\tthis.progress.timoutId = setInterval(() => {\n\t\t\t\t++this.progress.times;\n\t\t\t\tif (this.progress.percentage == 100) {\n\t\t\t\t\tclearInterval(this.progress.timoutId);\n\t\t\t\t\tthis.progress.percentage = 101;\n\t\t\t\t\tthis.progress.timoutId = null;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this.progress.percentage > 95 && this.progress.finish) {\n\t\t\t\t\tthis.progress.percentage = 100;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this.progress.finish) {\n\t\t\t\t\tratio = 1;\n\t\t\t\t} else if (this.progress.percentage > 80) {\n\t\t\t\t\tratio = 0.2;\n\t\t\t\t} else {\n\t\t\t\t\tratio = 0.1 * (this.progress.times % 10);\n\t\t\t\t}\n\t\t\t\tthis.progress.percentage = parseInt(this.progress.percentage + (99 - this.progress.percentage) * ratio * Math.random(), 10);\n\t\t\t}, 500);\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tif (this.progress.timoutId) {\n\t\t\tclearInterval(this.progress.timoutId);\n\t\t}\n\t}\n};\n</script>\n<style lang=\"less\" scoped>\n.excel-export-dialog {\n\t.dialog-body {\n\t\tmin-height: 400px;\n\n\t\t.title-text {\n\t\t\tline-height: 20px;\n\t\t\tpadding: 10px 0px;\n\t\t}\n\n\t\t.export-table-panel {\n\t\t\tborder: 1px solid #e4e4e4;\n\t\t\tmax-height: 150px;\n\t\t\toverflow-y: auto;\n\n\t\t\t.row-header,\n\t\t\t.row-info {\n\t\t\t\tline-height: 20px;\n\t\t\t\tpadding: 5px 20px;\n\t\t\t}\n\n\t\t\t.row-header {\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t}\n\n\t\t\t.row-info {\n\t\t\t\tborder-top: 1px solid #e4e4e4;\n\t\t\t}\n\t\t}\n\n\t\t.fail-box {\n\t\t\tdisplay: flex;\n\t\t\tmargin-top: 10px;\n\t\t\tborder: 1px solid #e2e2e2;\n\t\t\tborder-radius: 4px;\n\t\t\tmin-height: 150px;\n\n\t\t\t.icon-box {\n\t\t\t\twidth: 150px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-right: 1px solid #e2e2e2;\n\t\t\t\tfont-size: 50px;\n\t\t\t\tcolor: #e6a23c;\n\t\t\t\tbackground-color: #f2f2f2;\n\t\t\t}\n\n\t\t\t.fail-tips {\n\t\t\t\tpadding: 10px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: center;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tline-height: 20px;\n\n\t\t\t\t.title-text {\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.exporting-box {\n\t\t\tpadding: 150px 50px;\n\n\t\t\t.state-text {\n\t\t\t\tline-height: 20px;\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding-top: 10px;\n\t\t\t\tfont-size: 12px;\n\n\t\t\t\tspan {\n\t\t\t\t\tfont-size: 15px;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tpadding: 0px 2px;\n\t\t\t\t\tcolor: #f56c6c;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.succes-box {\n\t\t\tpadding: 100px;\n\t\t\ttext-align: center;\n\n\t\t\t.title-text {\n\t\t\t\tpadding: 8px 0px;\n\t\t\t\tline-height: 30px;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',_vm._b({attrs:{\"custom-class\":\"excel-import-dialog\",\"visible\":_vm.isShow},on:{\"close\":_vm.close}},'el-dialog',_vm.dialogAttributes,false),[_c('div',{staticClass:\"dialog-body\"},[(_vm.step != 3)?_c('el-steps',{attrs:{\"active\":_vm.step,\"simple\":\"\"}},[_c('el-step',{attrs:{\"title\":\"上传文件\",\"icon\":\"el-icon-upload\"}}),_c('el-step',{attrs:{\"title\":\"预览数据\",\"icon\":\"el-icon-s-data\"}}),_c('el-step',{attrs:{\"title\":\"导入数据\",\"icon\":\"el-icon-success\"}})],1):_vm._e(),(_vm.step == 1)?[_vm._t(\"upload\",[(_vm.uploadSuccess)?_c('div',{staticClass:\"upload-panel\"},[_c('ul',{staticClass:\"tips-list\"},[_c('li',[_vm._v(\"支持5MB以内的xls、xlsx格式文件\")]),_c('li',[_vm._v(\"文件中的数据不能超过10000行，100列\")]),_c('li',[_vm._v(\"请按照数据模板的格式准备导入数据，模板中的表头名称不可更改，表头行不能删除。\"),(_vm.excelTemplate)?_c('a',{on:{\"click\":_vm.downExcelTemplate}},[_vm._v(\"模板下载\")]):_vm._e()])]),_c('el-upload',_vm._b({staticClass:\"upload-excel\"},'el-upload',_vm.uploadAttributes,false),[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1):_c('div',{staticClass:\"upload-fail\"},[_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"el-icon-warning\"})]),_c('div',{staticClass:\"fail-tips\"},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"异常提示\")]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.uploadErrorInfo)}})])])])]:(_vm.step == 2)?[_c('div',{staticClass:\"import-result-text\"},[_c('i',{staticClass:\"el-icon-warning\"}),_vm._v(\" 共 \"),_c('span',[_vm._v(_vm._s(_vm.importData.length))]),_vm._v(\" 条数据， 导入\"),_c('span',[_vm._v(_vm._s(_vm.selectColumns.length))]),_vm._v(\"列 /共\"),_c('span',[_vm._v(_vm._s(_vm.columnList.length))]),_vm._v(\"列 \")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.importData,\"border\":\"\",\"height\":\"350\"}},_vm._l((_vm.columnList),function(column,index){return _c('el-table-column',_vm._b({key:index},'el-table-column',column,false),[_c('template',{slot:\"header\"},[_vm._v(\" \"+_vm._s(column.label)+\" \"),_c('el-checkbox',{attrs:{\"checked\":_vm.selectColumns.includes(column.prop)},on:{\"change\":function($event){return _vm.toggleCheckColumn(column.prop, $event)}}})],1)],2)}),1)]:(_vm.step == 3)?[(_vm.progress.percentage > 100)?_c('div',{staticClass:\"succes-box\"},[_c('i',{staticClass:\"el-icon-success\"}),_c('div',{staticClass:\"title-text\"},[_vm._v(\"批量导入完成\")]),_c('div',{staticClass:\"subtitle-text\"},[_vm._v(\" 您已成功导入\"),_c('span',[_vm._v(_vm._s(_vm.importData.length))]),_vm._v(\"条，\"),_c('span',[_vm._v(_vm._s(_vm.selectColumns.length))]),_vm._v(\"列数据 \")])]):_c('div',{staticClass:\"importing-box\"},[_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":26,\"percentage\":_vm.progress.percentage}}),_c('div',{staticClass:\"state-text\"},[_vm._v(\" 正在导入数据\"),_c('span',[_vm._v(_vm._s(_vm.importData.length))]),_vm._v(\"条 \")])],1)]:_vm._e()],2),(_vm.step !== 3)?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.step == 1 && !_vm.uploadSuccess)?_c('el-button',{on:{\"click\":_vm.againUpload}},[_vm._v(\"重新上传\")]):_vm._e(),(_vm.step == 2)?_c('el-button',{on:{\"click\":_vm.gotoPrevStep}},[_vm._v(\"上一步\")]):_vm._e(),(_vm.step == 1 && _vm.uploadSuccess)?_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"primary\",\"disabled\":!_vm.uploadAttributes.fileList || _vm.uploadAttributes.fileList.length != 1},on:{\"click\":_vm.gotoExcelUpload,\"command\":_vm.gotoExcelUpload}},[_vm._v(\" 确定导入 \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"success\"}},[_vm._v(\"成功\")]),_c('el-dropdown-item',{attrs:{\"command\":\"fail\"}},[_vm._v(\"失败\")])],1)],1):(_vm.step == 2)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.gotoNexStep}},[_vm._v(\"下一步\")]):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./excel-import-dialog.vue?vue&type=template&id=4f3eeda9&scoped=true&\"\nimport script from \"./excel-import-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./excel-import-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./excel-import-dialog.vue?vue&type=style&index=0&id=4f3eeda9&lang=less&scoped=true&\"\nimport style1 from \"./excel-import-dialog.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f3eeda9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-export-dialog.vue?vue&type=style&index=0&id=2f7e24c0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-export-dialog.vue?vue&type=style&index=0&id=2f7e24c0&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',_vm._b({attrs:{\"custom-class\":\"excel-export-dialog\",\"visible\":_vm.isShow},on:{\"close\":_vm.close}},'el-dialog',_vm.dialogAttributes,false),[_c('div',{staticClass:\"dialog-body\"},[(_vm.loadType == 0)?[_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"筛选条件\")])]),(_vm.fields && _vm.fields.length > 0)?_c('form-input',{ref:\"form-input\",attrs:{\"fields\":_vm.fields,\"form\":_vm.form,\"column\":_vm.column},on:{\"input-change\":_vm.formInputChange},scopedSlots:_vm._u([_vm._l((_vm.formInputSlotNameList),function(slotName){return {key:slotName,fn:function(ref){\nvar formInput = ref.formInput;\nreturn [_vm._t(slotName,null,{\"formInput\":formInput})]}}})],null,true)}):_vm._e()],1),(_vm.exportFields && _vm.exportFields.length > 0)?_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"请选择导出的字段\")])]),_c('div',{staticClass:\"export-table-panel\"},[_c('div',{staticClass:\"row-header\"},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.indeterminateCheckState},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"字段名称\")])],1),_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedFieldsChange},model:{value:(_vm.selectExportFields),callback:function ($$v) {_vm.selectExportFields=$$v},expression:\"selectExportFields\"}},_vm._l((_vm.exportFields),function(exportField,index){return _c('div',{key:index,staticClass:\"row-info\"},[_c('el-checkbox',{attrs:{\"label\":exportField.name}},[_vm._v(_vm._s(exportField.label))])],1)}),0)],1)]):_vm._e()]:(_vm.loadType == 1)?_c('div',{staticClass:\"exporting-box\"},[_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":26,\"percentage\":_vm.progress.percentage}}),_c('div',{staticClass:\"state-text\"},[_vm._v(\" 正在批量导出数据，请稍后... \")])],1):(_vm.loadType == 2)?_c('div',{staticClass:\"succes-box\"},[_c('el-button',{attrs:{\"size\":\"default\",\"type\":\"primary\"},on:{\"click\":_vm.downExcelFile}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\"下载导出的文件\")]),_c('div',{staticClass:\"title-text\"},[_vm._v(\"批量导出完成...\")])],1):(_vm.loadType == 3)?_c('div',{staticClass:\"fail-box\"},[_c('div',{staticClass:\"icon-box\"},[_c('i',{staticClass:\"el-icon-warning\"})]),_c('div',{staticClass:\"fail-tips\"},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"异常提示\")]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.exportErrorInfo)}})])]):_vm._e()],2),(_vm.loadType == 0 || _vm.loadType == 3)?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.loadType == 3)?_c('el-button',{on:{\"click\":_vm.againExport}},[_vm._v(\"重新导出\")]):_vm._e(),(_vm.loadType == 0)?_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.gotoExcelExport,\"command\":_vm.gotoExcelExport}},[_vm._v(\" 确定导出 \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"success\"}},[_vm._v(\"成功\")]),_c('el-dropdown-item',{attrs:{\"command\":\"fail\"}},[_vm._v(\"失败\")])],1)],1):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-export-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-export-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./excel-export-dialog.vue?vue&type=template&id=2f7e24c0&scoped=true&\"\nimport script from \"./excel-export-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./excel-export-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./excel-export-dialog.vue?vue&type=style&index=0&id=2f7e24c0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f7e24c0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./excel-import-dialog.vue?vue&type=style&index=1&lang=less&\""],"sourceRoot":""}