{"version":3,"sources":["webpack:///src/views/system/user-list.vue","webpack:///./src/views/system/user-list.vue?0f65","webpack:///./src/views/system/user-list.vue?e639","webpack:///./src/views/system/user-list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","queryFields","on","search","filterChange","handleButtons","_b","filters","selectRows","$event","dataTable","updatePasswordDialogForm","isShow","$set","formInput","arguments","userDialog","title","ref","required","message","model","value","callback","$$v","expression","type","id","_e","trigger","min","passwordRule","_l","roleItem","key","name","departmentList","children","departmentSelectChange","scopedSlots","_u","fn","scope","row","_v","_s","slot","save","staticRenderFns","component"],"mappings":"6KA4FA,QACA,KADA,WAEA,OACA,aACA,CACA,cACA,eAGA,eACA,CACA,aACA,WACA,oBAEA,CACA,gBACA,WACA,mBAEA,CACA,iBACA,WACA,qBAGA,WACA,iCACA,wBACA,SACA,CACA,kBAEA,CACA,cACA,WACA,aACA,eACA,SACA,CACA,WACA,uBAEA,CACA,YACA,iCAIA,CACA,YACA,YAEA,CACA,iBACA,aAEA,CACA,cACA,aAEA,CACA,aACA,YAEA,CACA,aACA,WACA,YACA,qBACA,wBACA,iBAEA,CACA,sBACA,WACA,cAEA,CACA,qBACA,aACA,iBAEA,CACA,kBACA,aACA,mBAIA,YACA,SACA,UACA,YACA,kBACA,WACA,QACA,UACA,eACA,kBACA,YACA,WACA,cACA,oBACA,UAEA,8EAGA,0BACA,QACA,gBAEA,aACA,UACA,MACA,OACA,gBACA,+BACA,CACA,iCACA,mBAKA,+BACA,QACA,CACA,gBACA,SACA,YACA,OACA,gCACA,uDAEA,QACA,gBACA,wBAGA,CACA,sBACA,SACA,cACA,QACA,gBACA,4BAOA,QA1JA,WA2JA,aAEA,SACA,KADA,WACA,gLACA,6BADA,uBACA,EADA,EACA,MACA,wBAFA,SAGA,mCAHA,OAGA,4BAHA,qDAKA,QANA,WAOA,0BACA,+BACA,yCACA,QACA,UACA,eACA,kBACA,YACA,WACA,cACA,oBACA,YAGA,WArBA,SAqBA,GACA,0BACA,uCACA,2CACA,wCACA,gDAGA,mBA7BA,SA6BA,GACA,wCACA,6DAEA,OAjCA,WAkCA,iCAEA,OADA,gBACA,wBAGA,KAvCA,WAuCA,WACA,qDACA,IAEA,4BAGA,aA9CA,SA8CA,GACA,4BAEA,uBAjDA,SAiDA,GACA,6CAGA,eArDA,SAqDA,GACA,kCACA,gBACA,UAIA,kBA5DA,SA4DA,OACA,OACA,wBACA,uCACA,2BAEA,S,0EC3TA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF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","file":"build/js/chunk-5bfedc50.896b0db8.js","sourcesContent":["<template>\r\n\t<!--\r\n        作者：yujinjin9@126.com\r\n        时间：2019-01-21\r\n        描述：列表查询页\r\n    -->\r\n\t<div class=\"user-list\">\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2019-01-21\r\n            描述：列表过滤栏\r\n        -->\r\n\t\t<search-form :fields=\"queryFields\" @search=\"search\" @change=\"filterChange\"></search-form>\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2019-01-21\r\n            描述：列表操作栏\r\n        -->\r\n\t\t<action-bar :buttons=\"handleButtons\"></action-bar>\r\n\r\n\t\t<!--\r\n            作者：yujinjin9@126.com\r\n            时间：2020-09-17\r\n            描述：数据列表栏\r\n        -->\r\n\t\t<data-table v-bind=\"dataTable\" :filters=\"filters\" :select-rows.sync=\"selectRows\" />\r\n\r\n\t\t<!-- 修改密码 -->\r\n\t\t<dialog-form v-bind=\"updatePasswordDialogForm\" :isShow.sync=\"updatePasswordDialogForm.isShow\" @input-change=\"updatePasswordDialogForm.formInput = arguments[0]\"></dialog-form>\r\n\r\n\t\t<!-- 用户信息弹窗 -->\r\n\t\t<!-- 修改或者新增角色信息 -->\r\n\t\t<el-dialog :title=\"userDialog.title\" :close-on-click-modal=\"false\" :visible.sync=\"userDialog.isShow\" width=\"50%\">\r\n\t\t\t<el-form ref=\"user-dialog-form\" class=\"user-dialog-form\" :model=\"userDialog.formInput\" label-width=\"100px\">\r\n\t\t\t\t<el-tabs type=\"border-card\">\r\n\t\t\t\t\t<el-tab-pane label=\"基本信息\">\r\n\t\t\t\t\t\t<el-form-item label=\"姓名：\" prop=\"name\" :rules=\"{ required: true, message: '请输入姓名' }\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"userDialog.formInput.name\" placeholder=\"请输入姓名\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"登录名：\" prop=\"loginName\" :rules=\"{ required: true, message: '请输入登录名' }\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"userDialog.formInput.loginName\" placeholder=\"请输入登录名\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"手机号：\" prop=\"mobile\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"userDialog.formInput.mobile\" placeholder=\"请输入登录名\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"邮箱：\" prop=\"email\" :rules=\"{ required: true, type: 'email', message: '请输入邮箱' }\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"userDialog.formInput.email\" placeholder=\"请输入邮箱\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\t\tprop=\"password\"\r\n\t\t\t\t\t\t\tv-if=\"!userDialog.formInput.id\"\r\n\t\t\t\t\t\t\tlabel=\"密码：\"\r\n\t\t\t\t\t\t\tauto-complete=\"off\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' },\r\n\t\t\t\t\t\t\t\t{ min: 6, message: '大于或等于6位', trigger: 'change' }\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"userDialog.formInput.password\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"passwordRepeat\" v-if=\"!userDialog.formInput.id\" label=\"确认密码：\" auto-complete=\"off\" :rules=\"userDialog.passwordRule\">\r\n\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"userDialog.formInput.passwordRepeat\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item prop=\"roles\" label=\"角色：\" :rules=\"{ required: true, message: '请选择角色' }\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"userDialog.formInput.roles\" multiple placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"roleItem in userDialog.roleList\" :key=\"roleItem.id\" :label=\"roleItem.name\" :value=\"roleItem.id\"> </el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"部门信息\">\r\n\t\t\t\t\t\t<el-table :data=\"userDialog.departmentList\" height=\"300px\" highlight-current-row row-key=\"id\" default-expand-all :tree-props=\"{ children: 'children' }\" @current-change=\"departmentSelectChange\" border>\r\n\t\t\t\t\t\t\t<el-table-column type=\"index\" width=\"40\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<el-radio v-model=\"userDialog.formInput.departmentId\" :label=\"scope.row.id\">\r\n\t\t\t\t\t\t\t\t\t\t{{ \"\" }}\r\n\t\t\t\t\t\t\t\t\t</el-radio>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column type=\"index\" width=\"80\" label=\"索引\"></el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"small\" @click=\"userDialog.isShow = false\">取 消</el-button>\r\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"save\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tqueryFields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: \"filter\",\r\n\t\t\t\t\tlabel: \"系统用户\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thandleButtons: [\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"add\",\r\n\t\t\t\t\tlabel: \"新增\",\r\n\t\t\t\t\tclick: this.gotoAdd\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"delete\",\r\n\t\t\t\t\tlabel: \"删除\",\r\n\t\t\t\t\tclick: this.delete\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\taction: \"refresh\",\r\n\t\t\t\t\tlabel: \"刷新\",\r\n\t\t\t\t\tclick: this.refresh\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdataTable: {\r\n\t\t\t\tquery: site.api.system.queryUserList,\r\n\t\t\t\tdbClick: this.gotoUpdate,\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"selection\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"action\",\r\n\t\t\t\t\t\tlabel: \"操作\",\r\n\t\t\t\t\t\twidth: \"90px\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"编辑\",\r\n\t\t\t\t\t\t\t\tclick: this.gotoUpdate\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"改密码\",\r\n\t\t\t\t\t\t\t\tclick: this.gotoUpdatePassword\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"name\",\r\n\t\t\t\t\t\tlabel: \"姓名\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"loginName\",\r\n\t\t\t\t\t\tlabel: \"登录名\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"mobile\",\r\n\t\t\t\t\t\tlabel: \"手机号\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"email\",\r\n\t\t\t\t\t\tlabel: \"邮箱\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"state\",\r\n\t\t\t\t\t\tlabel: \"状态\",\r\n\t\t\t\t\t\ttype: \"enum\",\r\n\t\t\t\t\t\tlist: \"ACTIVE_FROZEN\",\r\n\t\t\t\t\t\tclick: this.changeStatus,\r\n\t\t\t\t\t\ttips: \"【{0}】该用户\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"departmentName\",\r\n\t\t\t\t\t\tlabel: \"部门\",\r\n\t\t\t\t\t\twidth: \"70px\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"lastLoginTime\",\r\n\t\t\t\t\t\tlabel: \"最后登录\",\r\n\t\t\t\t\t\ttype: \"datetime\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: \"createTime\",\r\n\t\t\t\t\t\tlabel: \"创建时间\",\r\n\t\t\t\t\t\ttype: \"datetime\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tuserDialog: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tisShow: false,\r\n\t\t\t\troleList: [],\r\n\t\t\t\tdepartmentList: [],\r\n\t\t\t\tformInput: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tloginName: null,\r\n\t\t\t\t\tdepartmentId: null,\r\n\t\t\t\t\tmobile: null,\r\n\t\t\t\t\temail: null,\r\n\t\t\t\t\tpassword: null,\r\n\t\t\t\t\tpasswordRepeat: null,\r\n\t\t\t\t\troles: []\r\n\t\t\t\t},\r\n\t\t\t\tpasswordRule: [{ required: true, validator: this.passwordValidator, trigger: \"blur\" }]\r\n\t\t\t},\r\n\t\t\t// 修改密码弹窗\r\n\t\t\tupdatePasswordDialogForm: {\r\n\t\t\t\tdialog: {\r\n\t\t\t\t\ttitle: \"修改登录密码\"\r\n\t\t\t\t},\r\n\t\t\t\tformInput: {},\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\trules: {\r\n\t\t\t\t\t\tpasswordRepeat: [\r\n\t\t\t\t\t\t\t{ required: true, message: \"请确认新密码\" },\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalidator: this.passwordValidator,\r\n\t\t\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsubmitForm: this.updatePassword,\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"password\",\r\n\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\tlabel: \"新密码\",\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{ required: true, message: \"新密码不能为空\" },\r\n\t\t\t\t\t\t\t{ min: 6, max: 20, message: \"长度在 6 到20 个字符\", trigger: \"blur\" }\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\toption: {\r\n\t\t\t\t\t\t\ttype: \"password\",\r\n\t\t\t\t\t\t\tstyle: { width: \"250px\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"passwordRepeat\",\r\n\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\tlabel: \"确认新密码\",\r\n\t\t\t\t\t\toption: {\r\n\t\t\t\t\t\t\ttype: \"password\",\r\n\t\t\t\t\t\t\tstyle: { width: \"250px\" }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.init();\r\n\t},\r\n\tmethods: {\r\n\t\tasync init() {\r\n\t\t\tlet { items } = await site.api.system.queryRoleList();\r\n\t\t\tthis.userDialog.roleList = items;\r\n\t\t\tthis.userDialog.departmentList = await site.api.system.queryDepartmentList();\r\n\t\t},\r\n\t\tgotoAdd() {\r\n\t\t\tthis.userDialog.isShow = true;\r\n\t\t\tthis.userDialog.title = \"新增用户信息\";\r\n\t\t\tObject.assign(this.userDialog.formInput, {\r\n\t\t\t\tid: null,\r\n\t\t\t\tname: null,\r\n\t\t\t\tloginName: null,\r\n\t\t\t\tdepartmentId: null,\r\n\t\t\t\tmobile: null,\r\n\t\t\t\temail: null,\r\n\t\t\t\tpassword: null,\r\n\t\t\t\tpasswordRepeat: null,\r\n\t\t\t\troles: []\r\n\t\t\t});\r\n\t\t},\r\n\t\tgotoUpdate(row) {\r\n\t\t\tthis.userDialog.isShow = true;\r\n\t\t\tthis.userDialog.title = \"修改用户信息:\" + row.name;\r\n\t\t\tObject.assign(this.userDialog.formInput, row, {\r\n\t\t\t\troles: [parseInt(Math.random() * 10, 10) + 1],\r\n\t\t\t\tdepartmentId: parseInt(Math.random() * 20, 10) + 1\r\n\t\t\t});\r\n\t\t},\r\n\t\tgotoUpdatePassword(row) {\r\n\t\t\tthis.updatePasswordDialogForm.isShow = true;\r\n\t\t\tthis.updatePasswordDialogForm.dialog.title = \"修改用户密码:\" + row.name;\r\n\t\t},\r\n\t\tdelete() {\r\n\t\t\tthis.preBatchDelete(inputData => {\r\n\t\t\t\tconsole.info(inputData);\r\n\t\t\t\treturn Promise.resolve(true);\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tthis.$refs[\"user-dialog-form\"].validate(valid => {\r\n\t\t\t\tif (!valid) return;\r\n\t\t\t\t// console.info(\"选中的值\", this.$refs[\"permissions-tree\"].getCheckedKeys());\r\n\t\t\t\tthis.userDialog.isShow = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\tchangeStatus(val) {\r\n\t\t\treturn Promise.resolve(true);\r\n\t\t},\r\n\t\tdepartmentSelectChange(row) {\r\n\t\t\tthis.userDialog.formInput.departmentId = row.id;\r\n\t\t},\r\n\t\t// 信息当前登录用户的密码\r\n\t\tupdatePassword(formInput) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconsole.info(formInput);\r\n\t\t\t\tresolve(true);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 确认密码验证\r\n\t\tpasswordValidator(rule, value, callback) {\r\n\t\t\tif (value === \"\") {\r\n\t\t\t\tcallback(new Error(\"请再次输入密码\"));\r\n\t\t\t} else if (value !== this.userDialog.formInput.password) {\r\n\t\t\t\tcallback(new Error(\"两次输入密码不一致!\"));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped></style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-list\"},[_c('search-form',{attrs:{\"fields\":_vm.queryFields},on:{\"search\":_vm.search,\"change\":_vm.filterChange}}),_c('action-bar',{attrs:{\"buttons\":_vm.handleButtons}}),_c('data-table',_vm._b({attrs:{\"filters\":_vm.filters,\"select-rows\":_vm.selectRows},on:{\"update:selectRows\":function($event){_vm.selectRows=$event},\"update:select-rows\":function($event){_vm.selectRows=$event}}},'data-table',_vm.dataTable,false)),_c('dialog-form',_vm._b({attrs:{\"isShow\":_vm.updatePasswordDialogForm.isShow},on:{\"update:isShow\":function($event){return _vm.$set(_vm.updatePasswordDialogForm, \"isShow\", $event)},\"update:is-show\":function($event){return _vm.$set(_vm.updatePasswordDialogForm, \"isShow\", $event)},\"input-change\":function($event){_vm.updatePasswordDialogForm.formInput = arguments[0]}}},'dialog-form',_vm.updatePasswordDialogForm,false)),_c('el-dialog',{attrs:{\"title\":_vm.userDialog.title,\"close-on-click-modal\":false,\"visible\":_vm.userDialog.isShow,\"width\":\"50%\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.userDialog, \"isShow\", $event)}}},[_c('el-form',{ref:\"user-dialog-form\",staticClass:\"user-dialog-form\",attrs:{\"model\":_vm.userDialog.formInput,\"label-width\":\"100px\"}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名：\",\"prop\":\"name\",\"rules\":{ required: true, message: '请输入姓名' }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.userDialog.formInput.name),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"name\", $$v)},expression:\"userDialog.formInput.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"登录名：\",\"prop\":\"loginName\",\"rules\":{ required: true, message: '请输入登录名' }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录名\"},model:{value:(_vm.userDialog.formInput.loginName),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"loginName\", $$v)},expression:\"userDialog.formInput.loginName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号：\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录名\"},model:{value:(_vm.userDialog.formInput.mobile),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"mobile\", $$v)},expression:\"userDialog.formInput.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱：\",\"prop\":\"email\",\"rules\":{ required: true, type: 'email', message: '请输入邮箱' }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.userDialog.formInput.email),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"email\", $$v)},expression:\"userDialog.formInput.email\"}})],1),(!_vm.userDialog.formInput.id)?_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":\"密码：\",\"auto-complete\":\"off\",\"rules\":[\n\t\t\t\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' },\n\t\t\t\t\t\t\t\t{ min: 6, message: '大于或等于6位', trigger: 'change' }\n\t\t\t\t\t\t\t]}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.userDialog.formInput.password),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"password\", $$v)},expression:\"userDialog.formInput.password\"}})],1):_vm._e(),(!_vm.userDialog.formInput.id)?_c('el-form-item',{attrs:{\"prop\":\"passwordRepeat\",\"label\":\"确认密码：\",\"auto-complete\":\"off\",\"rules\":_vm.userDialog.passwordRule}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.userDialog.formInput.passwordRepeat),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"passwordRepeat\", $$v)},expression:\"userDialog.formInput.passwordRepeat\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"prop\":\"roles\",\"label\":\"角色：\",\"rules\":{ required: true, message: '请选择角色' }}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.userDialog.formInput.roles),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"roles\", $$v)},expression:\"userDialog.formInput.roles\"}},_vm._l((_vm.userDialog.roleList),function(roleItem){return _c('el-option',{key:roleItem.id,attrs:{\"label\":roleItem.name,\"value\":roleItem.id}})}),1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"部门信息\"}},[_c('el-table',{attrs:{\"data\":_vm.userDialog.departmentList,\"height\":\"300px\",\"highlight-current-row\":\"\",\"row-key\":\"id\",\"default-expand-all\":\"\",\"tree-props\":{ children: 'children' },\"border\":\"\"},on:{\"current-change\":_vm.departmentSelectChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-radio',{attrs:{\"label\":scope.row.id},model:{value:(_vm.userDialog.formInput.departmentId),callback:function ($$v) {_vm.$set(_vm.userDialog.formInput, \"departmentId\", $$v)},expression:\"userDialog.formInput.departmentId\"}},[_vm._v(\" \"+_vm._s(\"\")+\" \")])]}}])}),_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"80\",\"label\":\"索引\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.userDialog.isShow = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-list.vue?vue&type=template&id=4a82d2db&scoped=true&\"\nimport script from \"./user-list.vue?vue&type=script&lang=js&\"\nexport * from \"./user-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a82d2db\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}